(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-181f7164"],{"0b27":function(t,e,n){"use strict";var s=n("5ba3"),a=function(t){return""===t||Object(s["isHexStrict"])(t)};e["a"]=a},"5e76":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mew-module",{staticClass:"d-flex flex-grow-1 pt-6",attrs:{title:"Interact with contract","has-elevation":!0,"has-indicator":!0},scopedSlots:t._u([{key:"moduleBody",fn:function(){return[n("div",[n("mew-select",{attrs:{items:t.mergedContracts,label:"Contract Name","normal-dropdown":""},on:{input:t.selectedContract}}),n("mew-input",{staticClass:"mr-3 flex-grow-1",attrs:{label:"Contract Address",placeholder:" ","persistent-hint":t.nametag.length>0,hint:t.nametag},model:{value:t.contractAddress,callback:function(e){t.contractAddress=e},expression:"contractAddress"}}),n("v-textarea",{attrs:{"no-resize":"",outlined:"",name:"input-7-4",label:"ABI/JSON Interface"},model:{value:t.abi,callback:function(e){t.abi=e},expression:"abi"}}),n("div",{staticClass:"text-right"},[n("mew-button",{staticClass:"mr-4",attrs:{title:"Clear all","has-full-width":!1,"btn-style":"light"},nativeOn:{click:function(e){return t.resetDefaults.apply(null,arguments)}}}),n("mew-button",{attrs:{title:"Interact",disabled:!t.canInteract,"has-full-width":!1},nativeOn:{click:function(e){return t.showInteract.apply(null,arguments)}}})],1)],1),n("mew-overlay",{attrs:{footer:{text:"Need help?",linkTitle:"Contact support",link:"mailto:support@myetherwallet.com"},title:"Interact with contract","show-overlay":t.interact,close:t.closeInteract,"content-size":"medium"}},[n("mew-select",{staticClass:"mb-1",attrs:{label:"Function",items:t.methods,"normal-dropdown":""},on:{input:t.methodSelect}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.selectedMethod.inputs.length,expression:"selectedMethod.inputs.length"}],staticClass:"mew-heading-2 mb-3"},[t._v(" Inputs ")]),t._l(t.selectedMethod.inputs,(function(e,s){return n("div",{key:e.name+s,staticClass:"input-item-container"},["radio"!==t.getType(e.type).type?n("mew-input",{attrs:{label:e.name+" ("+e.type+")",rules:[function(n){return t.isValidInput(n,t.getType(e.type).solidityType)}]},on:{input:function(e){return t.valueInput(s,e)}}}):t._e(),"radio"===t.getType(e.type).type?n("div",{staticClass:"bool-input-container"},[n("div",{staticClass:"bool-items"},[n("mew-checkbox",{attrs:{label:e.name,type:"radio",checked:""},on:{input:function(e){return t.valueInput(s,e)}},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"input.value"}})],1)]):t._e()],1)})),n("div",[t.isPayableFunction?n("mew-input",{attrs:{label:"ETH amount:",rules:[function(e){return t.hasEnough?"":"Not enough ETH"}],type:"number"},on:{input:function(e){return t.payableInput(e)}}}):t._e()],1),n("div",{staticClass:"text-center mt-2"},[n("mew-button",{attrs:{title:t.isViewFunction?"Call":"Write","has-full-width":!1,"btn-size":"xlarge",disabled:t.canProceed},nativeOn:{click:function(e){return t.readWrite.apply(null,arguments)}}})],1),t.hasOutputs?n("v-divider",{staticClass:"mt-9 mb-8"}):t._e(),t.hasOutputs?n("div",[n("div",{staticClass:"mew-heading-2"},[t._v("Results")]),t._l(t.selectedMethod.outputs,(function(e,s){return n("div",{key:e.name+s,staticClass:"d-flex align-center justify-space-between my-4"},[n("div",{staticClass:"text-capitalize"},[t._v(" "+t._s(""!==e.name?e.name:t.selectedMethod.name)+" ")]),n("div",{staticClass:"font-weight-medium"},[t._v(t._s(e.value))])])}))],2):t._e()],2)]},proxy:!0}])})},a=[],i=n("b85c"),c=n("5530"),r=(n("4de4"),n("d3b7"),n("b0c0"),n("99af"),n("159b"),n("caad"),n("2532"),n("e9c4"),n("2b0e")),u=n("2f62"),o=n("5ba3"),l=n("2ef0"),d=n("d6fd"),h=n("08e1"),p=n("e26d"),f=n("9b88"),b={name:"ModuleContractInteract",data:function(){return{currentContract:null,interact:!1,inputsValid:!1,hasEnough:!1,abi:[],contractAddress:"",selectedMethod:{inputs:[],outputs:[]},outputValues:[],ethPayable:"0",nametag:"",networkContracts:[]}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(u["e"])("wallet",["address","web3","balance"])),Object(u["c"])("global",["network","gasPrice","localContracts"])),{},{canProceed:function(){return this.isPayableFunction?!this.canPay||!this.inputsValid&&!!this.selectedMethod.inputs.length&&this.canPay:!this.inputsValid&&!!this.selectedMethod.inputs.length},isViewFunction:function(){return this.selectedMethod.constant||"view"===this.selectedMethod.stateMutability},isPayableFunction:function(){return"payable"===this.selectedMethod.stateMutability},canPay:function(){return!this.isPayableFunction||this.hasEnough},mergedContracts:function(){var t=function(t){return t.filter((function(t){return Object(l["isString"])(t.name)}))};return[{text:"Select a Contract",selectLabel:!0,divider:!0}].concat(t(this.localContracts),t(this.networkContracts))},methods:function(){return this.canInteract?JSON.parse(this.abi).filter((function(t){if("constructor"!==t.type&&"event"!==t.type&&"Fallback"!==t.type)return t})):[]},canInteract:function(){return Object(d["a"])(this.contractAddress)&&Object(p["c"])(Object(p["d"])(this.abi))},hasOutputs:function(){var t=this.selectedMethod.outputs.filter((function(t){if(""!==t.value)return t}));return t.length>0}}),watch:{contractAddress:function(t){this.nametag="",t||(this.contractAddress="")},web3:{handler:function(){this.generateNetworkContracts()}}},mounted:function(){this.generateNetworkContracts()},methods:{generateNetworkContracts:function(){var t=this;this.network.type.contracts.then((function(e){t.networkContracts=e}))},resetDefaults:function(){this.currentContract=null,this.abi=[],this.contractAddress="",this.interact=!1,this.selectedMethod={inputs:[],outputs:[]}},readWrite:function(){var t,e=this,n=[],s=Object(i["a"])(this.selectedMethod.inputs);try{for(s.s();!(t=s.n()).done;){var a=t.value;a.type.includes("[]")?n.push(Object(h["d"])(a.value)):n.push(a.value)}}catch(o){s.e(o)}finally{s.f()}var c=this.currentContract.methods[this.selectedMethod.name].apply(this,n);if(this.isViewFunction)c.call().then((function(t){1===e.selectedMethod.outputs.length?(e.selectedMethod.outputs[0].value=t,r["default"].set(e.selectedMethod.outputs,0,e.selectedMethod.outputs[0])):e.selectedMethod.outputs.length>1&&e.selectedMethod.outputs.forEach((function(n,s){n.value=t[s],r["default"].set(e.selectedMethod.outputs,s,n)}))})).catch((function(t){var e=t.message;Object(f["e"])(e,{},f["a"])}));else if(this.isPayableFunction){var u={to:this.contractAddress,from:this.address,value:this.ethPayable,data:c.encodeABI()};this.web3.eth.estimateGas(u).then((function(t){u.gas=t,c.send(u)})).catch((function(t){var e=t.message;Object(f["e"])(e,{},f["a"])}))}else c.send({from:this.address}).catch((function(t){var e=t.message;return Object(f["e"])(e,{},f["a"])}))},payableInput:function(t){t&&""!==t||(t="0"),this.ethPayable=Object(o["toWei"])(t,"ether"),this.hasEnough=Object(o["toBN"])(this.ethPayable).lte(this.balance)},valueInput:function(t,e){this.selectedMethod.inputs[t].value=e,this.inputsValid=!0;var n,s=Object(i["a"])(this.selectedMethod.inputs);try{for(s.s();!(n=s.n()).done;){var a=n.value;this.isValidInput(a.value,this.getType(a.type).solidityType)||(this.inputsValid=!1)}}catch(c){s.e(c)}finally{s.f()}},selectedContract:function(t){Object(p["c"])(Object(p["d"])(t.abi))&&("string"!==typeof t.abi?this.abi=JSON.stringify(t.abi):this.abi=t.abi),Object(d["a"])(t.address)&&(this.contractAddress=t.address)},closeInteract:function(){this.interact=!1,this.resetDefaults()},showInteract:function(){this.interact=!0,this.currentContract=new this.web3.eth.Contract(JSON.parse(this.abi),this.contractAddress)},methodSelect:function(t){t&&t.inputs&&t.outputs&&(this.inputsValid=!1,this.selectedMethod=t,this.selectedMethod.inputs.forEach((function(t){return t.value=""})),this.selectedMethod.outputs.forEach((function(t){return t.value=""})),this.outputValues=[])},isValidInput:function(t,e){return Object(p["b"])(t,e)},getType:function(t){return Object(p["a"])(t)}}},y=b,m=n("2877"),v=Object(m["a"])(y,s,a,!1,null,null,null);e["default"]=v.exports},d6fd:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c}));var s=n("99e5"),a=n.n(s),i=function(t){return t&&a.a.utils.isHexStrict(t)&&a.a.utils.isAddress(t)},c=function(t){return a.a.utils.toChecksumAddress(t)}},e26d:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return m})),n.d(e,"c",(function(){return y})),n.d(e,"a",(function(){return b}));var s=n("53ca"),a=n("b85c"),i=(n("caad"),n("2532"),n("ac1f"),n("5319"),n("00b4"),n("08e1")),c="uint",r="int",u="address",o="string",l="bytes",d="bool",h=n("d6fd"),p=n("0b27"),f=function t(e,n){try{if(e||"boolean"===typeof e||(e=""),n.includes("[]")){var f,b=Array.isArray(e)?e:Object(i["d"])(e),y=n.replace("[]",""),m=Object(a["a"])(b);try{for(m.s();!(f=m.n()).done;){var w=f.value;if(!t(w,y))return!1}}catch(g){m.e(g)}finally{m.f()}return!0}return n.includes(c)||n.includes(r)?""!==e&&!isNaN(e)&&Object(i["c"])(e)&&!v(e):n===u?Object(h["a"])(e):n===o||(n.includes(l)?"0x"===e.substr(0,2)&&Object(p["a"])(e):n===d&&(Object(s["a"])(e)===Object(s["a"])(!0)||Object(s["a"])(e)===Object(s["a"])(!1)))}catch(O){return!1}},b=function(t){return t||(t=""),t.includes("[]")?{type:"string",solidityType:"".concat(t)}:t.includes(c)||t.includes(r)?{type:"number",solidityType:c}:t.includes(u)?{type:"text",solidityType:u}:t.includes(o)?{type:"text",solidityType:o}:t.includes(l)?{type:"text",solidityType:l}:t.includes(d)?{type:"radio",solidityType:d}:{type:"text",solidityType:o}},y=function(t){if(""===t)return!1;try{var e=JSON.parse(t);return!!(Array.isArray(e)&&e.length>0)&&e}catch(n){return!!(Array.isArray(t)&&t.length>0)&&t}},m=function(t){try{return JSON.parse(t)}catch(e){return!!Array.isArray(t)&&t}},v=function(t){return/\s/g.test(t)}}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-181f7164.c0f11ed3.js.map