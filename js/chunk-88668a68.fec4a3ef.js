(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88668a68"],{"022b":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("success-modal",{attrs:{"show-success-modal":t.showSuccessModal,"show-success-swap":t.showSuccessSwap,"success-title":t.successTitle,"reset-success":t.resetSuccess,reset:t.reset,network:t.network,links:t.links,"success-body-text":t.successBodyText,"has-close-button":!1}}),s("cross-chain-confirmation",{attrs:{"show-cross-chain-modal":t.showCrossChainModal,"tx-obj":t.tx,title:t.title,reset:t.rejectTransaction,"sent-btc":t.sendCrossChain},on:{close:t.rejectTransaction}}),s("app-modal",{attrs:{show:t.showTxOverlay,title:""!==t.title?t.title:"Confirmation",close:t.rejectTransaction,"btn-action":t.btnAction,"btn-enabled":t.disableBtn,"btn-text":t.toNonEth?"Proceed with swap":"Confirm & Send",scrollable:!0,anchored:!0,width:"650"},on:{close:t.rejectTransaction},scopedSlots:t._u([{key:"dialogBody",fn:function(){return[s("v-card-text",{ref:"scrollableContent",staticClass:"py-0 px-4 px-md-0"},[s("div",{staticClass:"px-4 py-6 pr-6 textBlack2--text border-radius--5px mb-5"},[s("b",[t._v("Please double check everything.")]),t._v(" MEW team will not be able to reverse your transaction once its submitted. You will still be charged gas fee even if the transaction fails. "),s("a",{attrs:{href:t.getArticle("my-txn-failed-charged"),target:"_blank",rel:"noopener noreferrer"}},[t._v("Learn more.")])]),t.isSwap?s("confirmation-swap-transaction-details",{attrs:{to:t.swapInfo.to,from:t.swapInfo.from,"from-img":t.swapInfo.fromImg,"from-type":t.swapInfo.fromType,"to-type":t.swapInfo.toType,"to-img":t.swapInfo.toImg,"from-val":t.swapInfo.fromVal,"to-val":t.swapInfo.toVal,provider:t.swapInfo.selectedProvider,"to-usd":t.swapInfo.toUsdVal,"from-usd":t.swapInfo.fromUsdVal,"tx-fee":t.swapInfo.txFee,"gas-price-type":t.swapInfo.gasPriceType,"is-hardware":t.isHardware,"is-to-non-eth":t.toNonEth,"to-currency":t.swapInfo.toType,"to-address":t.swapInfo.to}}):s("confirmation-send-transaction-details",{attrs:{to:t.txTo,network:t.network,"tx-fee":t.txFee,"tx-fee-usd":t.txFeeUSD,value:t.value,"to-tx-data":t.tx.toTxData,"to-details":t.allToDetails,"send-currency":t.sendCurrency}}),t.isOnLedger?s("div",{staticClass:"ledger-warning d-flex justify-space-between px-4 py-6 border-radius--5px mb-5"},[s("div",[s("v-img",{staticClass:"ml-15",attrs:{src:n("8a64"),alt:"Ledger Wallet","max-width":"11em","max-height":"2.5em",contain:""}})],1),s("span",{staticClass:"textBlack2--text ml-2"},[s("b",[t._v("Using Ledger?")]),t._v(" Consider turning off 'debug data' before proceeding. Additional steps associated with the 'debug "),s("br"),t._v(" feature' on Ledger may be required to approve this transaction. ")])]):t._e(),t.showConfirmWithWallet?s("confirm-with-wallet",{attrs:{"tx-length":t.unsignedTxArr.length>0?t.unsignedTxArr.length:1,signed:t.signingPending,error:t.error}}):t._e(),s("v-expansion-panels",{staticClass:"expansion-border",attrs:{accordion:"",multiple:"",flat:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},t._l(t.transactions,(function(e,n){return s("v-expansion-panel",{key:""+e.title+e.value+n,class:{"expansion-panel-border-bottom":t.transactions.length>1&&n!==t.transactions.length-1},on:{click:function(e){return t.scrollToElement(n)}}},[s("v-expansion-panel-header",{staticClass:"expansion-header",attrs:{"disable-icon-rotate":t.signing}},[s("v-row",{staticClass:"align-center pr-7 pl-2"},[s("p",{staticClass:"ma-0 pl-1"},[s("span",{staticClass:"font-weight-bold"},[t._v("Transaction "+t._s(t.transactions.length>1?""+(n+1):"details")+" ")]),s("br"),t.isBatch?s("span",{staticClass:"ma-0 mew-label greyPrimary--text"},[t._v(t._s(t.isSwap?"Swap ":"")+" part "+t._s(n+1)+" - "+t._s(t.dataToAction(t.unsignedTxArr[n])))]):""!==t.dataToAction(t.tx)?s("span",{staticClass:"ma-0 mew-label greyPrimary--text"},[t._v(t._s(t.dataToAction(t.tx)))]):t._e()]),s("v-spacer"),t.signing?s("div",[s("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:""===t.error&&t.isBatch&&t.signedTxArray.length<n+1,expression:"\n                      error === '' && isBatch && signedTxArray.length < i + 1\n                    "}],staticClass:"pr-7",attrs:{indeterminate:"",color:"greenPrimary",size:"20",width:"2"}}),s("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:!t.isBatch&&0===Object.keys(t.signedTxObject).length,expression:"\n                      !isBatch && Object.keys(signedTxObject).length === 0\n                    "}],staticClass:"pr-7",attrs:{indeterminate:"",color:"greenPrimary",size:"20",width:"2"}}),s("v-icon",{directives:[{name:"show",rawName:"v-show",value:!t.isBatch&&0!==Object.keys(t.signedTxObject).length,expression:"\n                      !isBatch && Object.keys(signedTxObject).length !== 0\n                    "}],attrs:{color:"greenPrimary"}},[t._v(" mdi-check ")]),s("v-icon",{directives:[{name:"show",rawName:"v-show",value:""===t.error&&t.isBatch&&t.signedTxArray.length>=n+1,expression:"\n                      error === '' && isBatch && signedTxArray.length >= i + 1\n                    "}],attrs:{color:"greenPrimary"}},[t._v(" mdi-check ")])],1):t._e()],1)],1),s("v-expansion-panel-content",{attrs:{id:n}},[s("div",{staticClass:"pa-6 pt-0"},t._l(e,(function(e){return s("v-row",{key:""+e.title+e.value,staticClass:"d-flex justify-space-between mt-3",attrs:{"no-gutters":""}},[s("v-col",{staticClass:"d-flex d-sm-block ma-0 greyPrimary--text",attrs:{cols:"12",md:"3"}},[t._v(" "+t._s(e.title)+" ")]),s("v-col",{attrs:{cols:"12",md:"9"}},[s("app-scroll-block",[s("div",{staticClass:"data-values text-md-right"},[t._v(" "+t._s(e.value)+" ")])])],1)],1)})),1)])],1)})),1),t.toNonEth?s("div",{staticClass:"pt-4"},[t._v(" By clicking 'Proceed with swap', I agree to the "),s("a",{attrs:{href:"https://changelly.com/aml-kyc",target:"_blank"}},[t._v(" Changelly AML/KYC ")]),t._v(" and "),s("router-link",{attrs:{to:t.termRoute,target:"_blank"}},[t._v("Terms of Service")])],1):t._e()],1)]},proxy:!0}])}),s("mew-overlay",{attrs:{footer:t.footer,"show-overlay":t.showSignOverlay,title:t.title?t.title:"Message",close:t.reset,"content-size":"large"}},[s("confirmation-messsage",{ref:"messageConfirmationContainer",attrs:{msg:t.signature,copy:t.copyToClipboard}})],1)],1)},a=[],r=n("dc07"),i=r["a"],o=(n("ad94"),n("2877")),c=Object(o["a"])(i,s,a,!1,null,"5e32b67d",null);e["default"]=c.exports},"2f09":function(t,e,n){"use strict";var s=n("99e5"),a=n.n(s),r={"0x095ea7b3":function(t){var e=t.data,n=(new a.a).eth.abi.decodeParameters(["address","uint256"],"".concat(e.substr(10))),s=a.a.utils.toBN(n[1]);return s.isZero()?"Reset Approval":"Approval"},"0x7c025200":function(){return"Swap"},"0x28ed4f6c":function(){return"Set ENS controller"},"0x23b872dd":function(){return"Transfer ENS name"},"0xacf1a841":function(){return"Renew ENS name"},"0xac9650d8":function(){return"Set ENS coins/text records"},"0xa9059cbb":function(){return"Transfer Tokens"},"0xca0bfcce":function(){return"Eth2 Staking"},"0xf14fcbc8":function(){return"ENS Commitment"},"0xf7a16963":function(){return"ENS Registration"},"0x33aaf6f2":function(){return"ETH Blocks Mint"}},i=function(t){return t.substr(0,10)};e["a"]=function(t){return t.data&&"0x"!==t.data&&r[i(t.data)]?r[i(t.data)]({from:t.from,to:t.to,data:t.data,value:t.value}):""}},5209:function(t,e,n){},"84e4":function(t,e,n){"use strict";n("d3b7"),n("25f0"),n("b680");var s=n("901e"),a=n.n(s),r=n("27ca"),i=n("99e5"),o=n.n(i);function c(t,e){var n=new o.a,s=r["a"].getters["external/contractToToken"](e),i={constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},c=n.eth.abi.encodeFunctionSignature(i),l={tokenTransferTo:"",tokenTransferVal:"",tokenSymbol:""};if(t.substr(0,10)===c){var u=n.eth.abi.decodeParameters(["address","uint256"],"".concat(t.substr(10))),h=new a.a(u[1]);l.tokenTransferTo=u[0],l.tokenTransferVal=s?h.div(new a.a(10).pow(s.decimals)).toFixed().toString():h.toString(),l.tokenSymbol=s?s.symbol:"Unidentified Token"}return l}e["a"]=c},"8a64":function(t,e,n){t.exports=n.p+"img/Ledger-Nano-X-Label-Icon.e56dc6a3.svg"},ad94:function(t,e,n){"use strict";n("5209")},dc07:function(t,e,n){"use strict";(function(t){var s=n("c7eb"),a=n("1da1"),r=n("5530"),i=(n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("7db0"),n("25f0"),n("b680"),n("e9c4"),n("caad"),n("2532"),n("b0c0"),n("d81d"),n("ac1f"),n("5319"),n("14d9"),n("4de4"),n("5ba3")),o=n("2ef0"),c=n("2f62"),l=n("901e"),u=n.n(l),h=n("8ded"),d=n("217a"),f=n("0421"),p=n("9b88"),g=n("84e4"),x=n("068e"),w=n("56fff"),b=n("3492"),m=n("2f09"),T=n("5965"),v=n("db3a"),y=n("2623");e["a"]={name:"ModuleConfirmation",components:{AppScrollBlock:function(){return n.e("chunk-6eac12a8").then(n.bind(null,"8d1b"))},ConfirmationMesssage:function(){return n.e("chunk-2c5b6588").then(n.bind(null,"f791"))},AppModal:function(){return n.e("chunk-67d389f9").then(n.bind(null,"3820c"))},ConfirmationSwapTransactionDetails:function(){return n.e("chunk-2d0df7c6").then(n.bind(null,"89b1"))},ConfirmationSendTransactionDetails:function(){return n.e("chunk-2d21e946").then(n.bind(null,"d5ba"))},ConfirmWithWallet:function(){return n.e("chunk-c22c7b20").then(n.bind(null,"e55c"))},SuccessModal:function(){return n.e("chunk-7f63ac24").then(n.bind(null,"65dc"))},CrossChainConfirmation:function(){return n.e("chunk-78d57c34").then(n.bind(null,"5015"))}},mixins:[T["a"]],data:function(){return{footer:{text:"Need help?",linkTitle:"Contact support",link:"mailto:support@myetherwallet.com"},showTxOverlay:!1,showSignOverlay:!1,showSuccessModal:!1,showSuccessSwap:!1,showCrossChainModal:!1,toNonEth:!1,tx:{},resolver:function(){},title:"",signedTxObject:{},signature:"",unsignedTxArr:[],signedTxArray:[],swapInfo:{},sendCurrency:{},toDetails:{},signing:!1,links:{ethvm:"",explorer:""},error:"",panel:[],termRoute:"/".concat(v["a"].TERMS_OF_SERVICE.PATH)}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["e"])("wallet",["instance","web3","address","identifier","isHardware","isOfflineApp"])),Object(c["c"])("external",["fiatValue"])),Object(c["c"])("global",["network","getFiatValue"])),Object(c["c"])("article",["getArticle"])),Object(c["e"])("addressBook",["addressBookStore"])),{},{txTo:function(){return this.isBatch?this.unsignedTxArr[0].to:this.tx.hasOwnProperty("toTxData")?this.tx.toTxData.to:this.tx.to},isWeb3Wallet:function(){return this.identifier===d["a"].WEB3_WALLET||this.identifier===d["a"].WALLET_CONNECT},isOtherWallet:function(){return this.identifier===d["a"].MEW_CONNECT||this.identifier===d["a"].WALLET_LINK},isOnLedger:function(){return"0x"!==this.tx.data&&this.identifier===d["a"].LEDGER},isNotSoftware:function(){return this.isHardware||this.isWeb3Wallet||this.isOtherWallet},showConfirmWithWallet:function(){return this.isNotSoftware&&(this.signing||""!==this.error)},transactions:function(){var t=this.unsignedTxArr.length>0?[].concat(this.unsignedTxArr):Object(o["isEmpty"])(this.tx)?[]:[this.tx];return this.arrayParser(t)},allToDetails:function(){var t=this,e=this.addressBookStore.find((function(e){var n,s;return(null===(n=t.tx.to)||void 0===n?void 0:n.toLowerCase())===(null===(s=e.address)||void 0===s?void 0:s.toLowerCase())}));return{ensName:"RESOLVED"===this.toDetails.type?this.toDetails.value:"",nickname:e?e.nickname:"",selected:this.toDetails.type}},gasPrice:function(){if(!this.isBatch){var t=this.tx.gasPrice?this.tx.gasPrice:"0x";return Object(i["fromWei"])(Object(i["hexToNumberString"])(t),"gwei")}var e=this.unsignedTxArr[0].gasPrice;return Object(i["fromWei"])(Object(i["hexToNumberString"])(e),"gwei")},gasLimit:function(){if(!this.isBatch){var t=this.tx.gasLimit?this.tx.gasLimit:this.tx.gas?this.tx.gas:"0x";return Object(i["hexToNumberString"])(t)}var e=this.unsignedTxArr.reduce((function(t,e){return t.plus(e.gas)}),u()(0));return Object(i["hexToNumberString"])(e)},txFee:function(){var t=u()(Object(i["toWei"])(this.gasPrice,"gwei")).times(this.gasLimit).toString();return Object(i["fromWei"])(t)},txFeeUSD:function(){return this.getFiatValue(u()(this.txFee).times(this.fiatValue).toFixed(2))},value:function(){if(!this.isBatch){var t=this.tx.value?this.tx.hasOwnProperty("toTxData")?this.tx.toTxData.amount:Object(i["fromWei"])(Object(i["hexToNumberString"])(this.tx.value)):"0x";return t}return"0"},disableBtn:function(){return""!==this.error||(!this.signing||this.txSigned)},txSigned:function(){return this.isBatch?this.signedTxArray.length>0&&this.signedTxArray.length===this.unsignedTxArr.length:!Object(o["isEmpty"])(this.signedTxObject)},isSwap:function(){return!Object(o["isEmpty"])(this.swapInfo)||!Object(o["isEmpty"])(this.tx)&&this.tx.hasOwnProperty("fromTokenType")&&!this.tx.fromTokenType.isEth},isBatch:function(){return this.unsignedTxArr.length>0},signingPending:function(){return this.isBatch?this.unsignedTxArr.length===this.signedTxArray.length:!Object(o["isEmpty"])(this.signedTxObject)},successTitle:function(){return this.showSuccessSwap?"Swap initiated":"Transaction initiated"},successBodyText:function(){return this.showSuccessSwap?"Once completed, the token amount will be deposited to your wallet. This should take a few minutes depending on how congested the Ethereum network is.":"Once completed, the token amount will be deposited to the address you provided. This should take a few minutes depending on how congested the Ethereum network is."}}),watch:{error:function(t){""!==t&&(this.signedTxArray=[],this.signedTxObject={})},address:function(t){t&&this.resetSuccess()},signedTxArray:{handler:function(t){this.isWeb3Wallet&&0!==t.length&&t.length===this.unsignedTxArr.length&&(this.showTxOverlay=!1,this.showSuccess(t))},deep:!0,immediate:!0}},created:function(){var e=this,n=this;x["a"].$on(f["a"].SHOW_TX_CONFIRM_MODAL,function(){var t=Object(a["a"])(Object(s["a"])().mark((function t(a,r){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.parseRawData(a[0]),n.title="Transaction Confirmation",n.tx=a[0],n.resolver=r,n.showTxOverlay=!0,n.tx.transactionFee=e.txFee,a[0].transactionFee=e.txFee,a.length>1&&(n.toDetails=a[1],n.sendCurrency=a[2]),e.isHardware||e.identifier===d["a"].WEB3_WALLET){t.next=11;break}return t.next=11,e.signTx();case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),x["a"].$on(f["a"].SHOW_SWAP_TX_MODAL,function(){var t=Object(a["a"])(Object(s["a"])().mark((function t(e,a){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.tx=e[0],n.swapInfo=e[1],n.resolver=a,n.showTxOverlay=!0,n.title="Verify Swap",n.toNonEth=!n.swapInfo.toTokenType.isEth,n.isHardware||n.identifier===d["a"].WEB3_WALLET){t.next=9;break}return t.next=9,n.signTx();case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),x["a"].$on(f["a"].SHOW_BATCH_TX_MODAL,function(){var t=Object(a["a"])(Object(s["a"])().mark((function t(e,a,r){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.isHardwareWallet=r,e[0].hasOwnProperty("confirmInfo")&&(n.swapInfo=e[0].confirmInfo,n.title="Verify Swap"),n.unsignedTxArr=e,a||(n.resolver=function(){}),n.resolver=a,n.showTxOverlay=!0,r||n.identifier===d["a"].WEB3_WALLET||n.signBatchTx();case 7:case"end":return t.stop()}}),t)})));return function(e,n,s){return t.apply(this,arguments)}}()),x["a"].$on(f["a"].SHOW_MSG_CONFIRM_MODAL,(function(e,s){n.title="Message Signed",n.instance.signMessage(e).then((function(a){var r=t.from(a).toString("hex");n.signature=JSON.stringify({address:n.address,msg:e,sig:r,version:"3",signer:n.isHardware?n.identifier:"MEW"},null,2),n.signedMessage=r,s(r),n.showSignOverlay=!0})).catch((function(t){n.reset(),n.instance.errorHandler(t)}))})),x["a"].$on(f["a"].SHOW_CROSS_CHAIN_MODAL,(function(t,e){n.title="Send ".concat(t.fromType),n.tx=t,n.showCrossChainModal=!0,n.resolver=function(t){e(t),n.reset()}}))},beforeDestroy:function(){x["a"].$off(f["a"].SHOW_TX_CONFIRM_MODAL),x["a"].$off(f["a"].SHOW_SWAP_TX_MODAL),x["a"].$off(f["a"].SHOW_MSG_CONFIRM_MODAL),x["a"].$off(f["a"].SHOW_CROSS_CHAIN_MODAL)},mounted:function(){this.isOfflineApp&&(this.footer={text:"Need help? Email us at support@myetherwallet.com",linkTitle:"",link:""})},methods:{rejectTransaction:function(){this.isSwap&&this.trackSwap("swapTxCancelled"),this.resolver({rejected:!0}),this.reset()},sendCrossChain:function(t){this.trackSwap("swapSendCrossChain"),this.resolver(t)},dataToAction:function(t){return Object(m["a"])(t)},scrollToElement:function(t){var e=this;setTimeout((function(){if(e.panel.includes(t)){var n=document.getElementById(t),s=e.$refs.scrollableContent,a={duration:500,offset:-60};e.$vuetify.goTo(n,Object(r["a"])({container:s},a))}}),500)},resetSuccess:function(){this.showSuccessSwap=!1,this.reset()},reset:function(){this.showTxOverlay=!1,this.showSignOverlay=!1,this.showSuccessModal=!1,this.showCrossChainModal=!1,this.tx={},this.resolver=function(){},this.title="",this.signedTxObject={},this.signature="",this.unsignedTxArr=[],this.signedTxArray=[],this.swapInfo={},this.sendCurrency={},this.toDetails={},this.signing=!1,this.links={ethvm:"",explorer:""},this.error=""},parseRawData:function(t){var e={};t.to&&t.data&&"0xa9059cbb"===t.data.substr(0,10)&&(e=Object(g["a"])(t.data,t.to),t.fromTxData={currency:this.network.type.currencyName,amount:t.amount},t.toTxData={currency:e.tokenSymbol,amount:e.tokenTransferVal,to:e.tokenTransferTo}),t.network=this.network.type.name},sendBatchTransaction:function(){var t=this;return Object(a["a"])(Object(s["a"])().mark((function e(){var n,a,r,o;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.web3,a="sendSignedTransaction",r=t.signedTxArray,o=r.map((function(e,s){var o=e.tx;o.from=t.address;var c=e.rawTransaction,l=n.eth[a](c);return o.network=t.network.type.name,o.gasPrice=Object(i["isHex"])(o.gasPrice)?Object(i["hexToNumberString"])(o.gasPrice):o.gasPrice,o.transactionFee=Object(i["fromWei"])(u()(o.gasPrice).times(o.gas).toString()),o.gasLimit=o.gas,Object(w["b"])(l,o,t.$store.dispatch),l.once("sent",(function(){t.isSwap&&t.trackSwap("swapTxBroadcasted")})).once("receipt",(function(){t.isSwap&&t.trackSwap("swapTxReceivedReceipt")})).once("transactionHash",(function(e){var n=Object(i["sha3"])("".concat(t.network.type.name,"-").concat(t.address.toLowerCase())),a=h["get"](n);h["set"](n,{nonce:Object(b["f"])(new u.a(a.nonce).plus(1).toString(16)),timestamp:a.timestamp}),s+1===r.length&&(t.isSwap&&(t.showSuccessSwap=!0),t.reset(),t.showSuccess(e))})).catch((function(){t.isSwap&&t.trackSwap("swapTxFailed")})),l})),t.resolver(o);case 5:case"end":return e.stop()}}),e)})))()},sendSignedTx:function(){var t=this.signedTxObject.tx.hash;this.resolver(this.signedTxObject),this.isSwap&&(this.showSuccessSwap=!0),this.tx.data&&this.tx.data.includes("0x33aaf6f2")&&this.trackDapp("ethBlocksMinted"),this.reset(),this.showSuccess(t)},showSuccess:function(t){if(this.isSwap&&this.trackSwap("swapTransactionSuccessfullySent"),Object(o["isArray"])(t)){var e=t[t.length-1].tx.hash;return this.links.ethvm=this.network.type.isEthVMSupported.supported?this.network.type.isEthVMSupported.blockExplorerTX.replace("[[txHash]]",e):"",this.links.explorer=this.network.type.blockExplorerTX.replace("[[txHash]]",e),void(this.showSuccessModal=!0)}this.links.ethvm=this.network.type.isEthVMSupported.supported?this.network.type.isEthVMSupported.blockExplorerTX.replace("[[txHash]]",t):"",this.links.explorer=this.network.type.blockExplorerTX.replace("[[txHash]]",t),this.showSuccessModal=!0},signTx:function(){var t=this;return Object(a["a"])(Object(s["a"])().mark((function e(){var n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.error="",t.isNotSoftware&&(t.signing=!0),!t.isWeb3Wallet){e.next=8;break}n=t.instance.signTransaction(t.tx),n.once("sent",(function(){t.trackSwap("swapTxBroadcasted")})).on("transactionHash",(function(e){t.showTxOverlay=!1,t.showSuccess(e)})).once("receipt",(function(){t.trackSwap("swapTxReceivedReceipt")})).once("error",(function(){t.trackSwap("swapTxFailed")})).catch((function(e){t.isSwap&&t.trackSwap("swapRejected"),t.signedTxObject={},t.error=Object(y["a"])(e),t.signing=!1})),t.resolver(n),e.next=10;break;case 8:return e.next=10,t.instance.signTransaction(t.tx).then((function(e){t.signedTxObject=e,t.isHardware&&t.txSigned&&t.btnAction()})).catch((function(e){t.isSwap&&t.trackSwap("swapRejected"),t.signedTxObject={},t.error=Object(y["a"])(e),t.signing=!1;var n=Object(y["a"])(e,!0);n&&t.instance.errorHandler(n)}));case 10:case"end":return e.stop()}}),e)})))()},signBatchTx:function(){var t=this;return Object(a["a"])(Object(s["a"])().mark((function e(){var n,a,r,i,c,l;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.error="",n=[],a=[],t.isNotSoftware&&(t.signing=!0),r=0;case 5:if(!(r<t.unsignedTxArr.length)){e.next=36;break}if(i=Object(o["cloneDeep"])(t.unsignedTxArr[r]),delete i["handleNotification"],delete i["currency"],delete i["confirmInfo"],e.prev=10,t.isWeb3Wallet){e.next=20;break}return e.next=14,t.instance.signTransaction(i);case 14:c=e.sent,t.unsignedTxArr[r].hasOwnProperty("handleNotification")&&(c.tx["handleNotification"]=t.unsignedTxArr[r].handleNotification),n.push(c),t.isHardware&&t.txSigned&&t.btnAction(),e.next=23;break;case 20:l=t.instance.signTransaction(i),a.push(l),l.on("transactionHash",(function(t){n.push({tx:{hash:t}})})).catch((function(e){t.isSwap&&t.trackSwap("swapTxFailed"),t.instance.errorHandler(e.message)}));case 23:t.signedTxArray=n,t.isWeb3Wallet&&t.resolver(a),e.next=33;break;case 27:return e.prev=27,e.t0=e["catch"](10),t.isSwap&&t.trackSwap("swapTxFailed"),t.error=Object(y["a"])(e.t0),t.signedTxArray=[],e.abrupt("return");case 33:r++,e.next=5;break;case 36:t.isWeb3Wallet||t.isHardware||t.isOtherWallet||(t.signing=!1);case 37:case"end":return e.stop()}}),e,null,[[10,27]])})))()},btnAction:function(){if(this.isSwap&&this.trackSwap("swapTransactionSend"),!this.isWeb3Wallet)return(0===this.signedTxArray.length||this.signedTxArray.length<this.unsignedTxArr.length)&&Object(o["isEmpty"])(this.signedTxObject)?void(this.isBatch?this.signBatchTx():this.signTx()):void(this.isBatch?this.sendBatchTransaction():this.sendSignedTx());this.isBatch?this.signBatchTx():this.signTx()},copyToClipboard:function(){this.$refs.messageConfirmationContainer.$refs.signatureContent.$refs.input.select(),document.execCommand("copy"),window.getSelection().removeAllRanges(),Object(p["e"])(this.$t("common.copied"),{},p["d"]),this.reset()},arrayParser:function(t){var e=this,n=t.map((function(t){var n=t.gasLimit?t.gasLimit:t.gas?t.gas:"0x",s=t.gasPrice?t.gasPrice:"0x",a=t.data?t.data:t.hasOwnProperty("encodeABI")?t.encodeABI():"0x",r=Object(o["isEmpty"])(e.sendCurrency)?e.network.type.currencyName:e.sendCurrency.symbol,c="0x"!==a&&(e.isSwap||e.isBatch)?"0 ".concat(e.network.type.currencyName):"".concat(e.value," ").concat(r),l=t.from?t.from:e.address,u=t.to?t.to:e.txTo;return[{title:"Network",value:e.network.type.name_long},{title:"From ENS",value:""},{title:"From address",value:l},{title:"0x"===a||e.isBatch?"To address":"Via Contract Address",value:u},{title:"Sending",value:c},{title:"Gas Price",value:Object(i["fromWei"])(Object(i["hexToNumberString"])(s),"gwei")+" gwei"},{title:"Gas Limit",value:Object(i["hexToNumberString"])(n)},{title:"Nonce",value:Object(i["hexToNumber"])(t.nonce)},{title:"Data",value:a}].filter((function(t){if(""!==t.value)return t}))}));return n}}}}).call(this,n("1c35").Buffer)}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-88668a68.fec4a3ef.js.map