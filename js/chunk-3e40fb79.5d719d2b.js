(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e40fb79"],{"1db4":function(e,t,n){e.exports=n.p+"img/USD.36ab476e.svg"},"672f":function(e,t,n){"use strict";n.r(t);var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mew-component--moon-pay"},[n("mew-popup",{attrs:{show:e.open,"has-buttons":!1,"has-title":!1,"has-padding":!1,"max-width":"540","left-btn":e.leftBtn,scrollable:"","has-body-content":""}},[0===e.step?n("div",[e.open?n("mew-tabs",{staticClass:"pt-3",attrs:{items:e.tabItems,"active-tab":e.activeTab,"active-color":"greenPrimary","has-underline":""},on:{onTab:e.onTab},scopedSlots:e._u([{key:"tabContent1",fn:function(){return[n("buy-eth-component",{attrs:{"order-handler":e.orderHandler,close:e.close,tab:e.activeTab,"default-currency":e.defaultCurrency,"in-wallet":e.inWallet,"supported-buy":e.supportedBuy},on:{selectedCurrency:e.setSelectedCurrency,openProviders:e.openProviders,selectedFiat:e.setSelectedFiat,hideMoonpay:e.hideMoonpay,simplexQuote:e.setSimplexQuote,toAddress:e.setToAddress,success:e.buySuccess}})]},proxy:!0},{key:"tabContent2",fn:function(){return[n("sell-eth-component",{attrs:{"order-handler":e.orderHandler,close:e.close,tab:e.activeTab,"in-wallet":e.inWallet,"default-currency":e.defaultCurrency},on:{selectedCurrency:e.setSelectedCurrency}})]},proxy:!0}],null,!1,413955045)}):e._e()],1):e._e(),1===e.step?n("MoonPayBuyProviderComponent",{attrs:{"order-handler":e.orderHandler,close:e.close,"in-wallet":e.inWallet,"only-simplex":e.onlySimplex,"selected-currency":e.selectedCurrency,"selected-fiat":e.selectedFiat,"buy-obj":e.buyObj,"simplex-quote":e.simplexQuote,"to-address":e.toAddress},on:{close:function(t){e.step=0},openProviders:e.openProviders,reset:e.reset}}):e._e()],1)],1)},s=[],r=n("5530"),o=(n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("2532"),n("b0c0"),n("7db0"),n("4ec9"),n("159b"),n("2f62")),a=n("2ef0"),i=n("217a"),u=n("08e1"),l=n("fbdf"),d=n("9b88"),h=n("d4ec"),p=n("bee2"),y=(n("99af"),n("5ba3")),b=n("bc3a"),f=n.n(b),m="https://mainnet.mewwallet.dev",v=function(){function e(){Object(h["a"])(this,e)}return Object(p["a"])(e,[{key:"buy",value:function(e,t,n,c){var s=Object(y["sha3"])(c),r="WEB|".concat(s.substring(0,42));return new Promise((function(s){var o="".concat(m,"/v3/purchase/moonpay/order?address=").concat(c,"&id=").concat(r,"&cryptoCurrency=").concat(e,"&fiatCurrency=").concat(t);n&&(o+="&requestedAmount=".concat(n));var a=encodeURI(o);window.open(a,"_blank"),s()}))}},{key:"sell",value:function(e,t,n){var c=Object(y["sha3"])(n),s="WEB|".concat(c.substring(0,42));return new Promise((function(c){var r=encodeURI("".concat(m,"/v3/sell/moonpay/order?address=").concat(n,"&id=").concat(s,"&cryptoCurrency=").concat(e,"&requestedAmount=").concat(t));window.open(r,"_blank"),c()}))}},{key:"getSupportedFiatToBuy",value:function(e){return f.a.get("".concat(m,"/v3/purchase/providers/web?iso=us&cryptoCurrency=").concat(e),{headers:{"Accept-Language":"en-US"}}).then((function(e){return e.data}))}},{key:"getFiatRatesForBuy",value:function(){return f.a.get("".concat(m,"/v3/purchase/moonpay/quotes"),{headers:{"Accept-Language":"en-US"}}).then((function(e){return e.data}))}},{key:"getSupportedFiatToSell",value:function(e){return f.a.get("".concat(m,"/v3/sell/providers/web?iso=us&cryptoCurrency=").concat(e),{headers:{"Accept-Language":"en-US"}}).then((function(e){return e.data}))}},{key:"simplexBuy",value:function(e,t,n,c){var s=Object(y["sha3"])(c),r="WEB|".concat(s.substring(0,42));return new Promise((function(s){var o=encodeURI("".concat(m,"/v2/purchase/simplex/order?address=").concat(c,"&id=").concat(r,"&requestedCurrency=").concat(t,"&fiatCurrency=").concat(t,"&requestedAmount=").concat(n,"&cryptoCurrency=").concat(e));window.open(o,"_blank"),s()}))}},{key:"getSimplexQuote",value:function(e,t,n,c){var s=Object(y["sha3"])(c),r="WEB|".concat(s.substring(0,42));return new Promise((function(c,s){f.a.get(encodeURI("".concat(m,"/purchase/simplex/quote?id=").concat(r,"&requestedCurrency=").concat(t,"&fiatCurrency=").concat(t,"&requestedAmount=").concat(n,"&cryptoCurrency=").concat(e)),{headers:{"Accept-Language":"en-US"}}).then((function(e){c(e.data)})).catch(s)}))}},{key:"getHistory",value:function(){}}]),e}(),w={name:"MoonPay",components:{BuyEthComponent:function(){return Promise.all([n.e("chunk-f780f52c"),n.e("chunk-1796e556"),n.e("chunk-6ac6f0d6")]).then(n.bind(null,"2d11"))},SellEthComponent:function(){return Promise.all([n.e("chunk-f780f52c"),n.e("chunk-1796e556"),n.e("chunk-b432ca66")]).then(n.bind(null,"037d"))},MoonPayBuyProviderComponent:function(){return n.e("chunk-d4e33a58").then(n.bind(null,"0955"))}},props:{open:{type:Boolean,default:!1}},data:function(){return{isOpen:!1,activeTab:0,orderHandler:{},selectedCurrency:{},selectedFiat:{},nodes:l["a"],onlySimplex:!1,buyObj:{},step:0,simplexQuote:{},toAddress:""}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(o["e"])("wallet",["address","instance"])),Object(o["c"])("wallet",["tokensList"])),Object(o["c"])("global",["network"])),Object(o["c"])("external",["contractToToken"])),{},{inWallet:function(){return this.$route.fullPath.includes("/wallet")&&!this.$route.meta.noAuth},defaultCurrency:function(){if(Object(a["isEmpty"])(this.selectedCurrency)&&this.supportedBuy){if(this.inWallet)return this.tokensList[0];var e=this.contractToToken(u["a"]);return e.value=e.symbol,e}return Object(a["isEmpty"])(this.selectedCurrency)||!this.supportedBuy||1===this.activeTab&&!this.supportedSell?{decimals:18,img:"https://img.mewapi.io/?image=https://raw.githubusercontent.com/MyEtherWallet/ethereum-lists/master/src/icons/ETH-0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee.svg",name:"ETH",subtext:"Ethereum",value:"ETH",symbol:"ETH",network:"ETH",contract:u["a"]}:this.selectedCurrency},supportedBuy:function(){return"ETH"===this.network.type.name||"BSC"===this.network.type.name||"MATIC"===this.network.type.name},supportedSell:function(){return"ETH"===this.selectedCurrency.symbol||"USDT"===this.selectedCurrency.symbol||"USDC"===this.selectedCurrency.symbol},leftBtn:function(){return{method:this.close}},tabItems:function(){return[{name:"Buy"},{name:"Sell"}]}}),watch:{open:function(e){this.isOpen=e,e&&(this.orderHandler=new v),this.selectedCurrency={},this.selectedCurrency=this.defaultCurrency},address:function(){this.selectedCurrency=this.defaultCurrency},network:function(){this.selectedCurrency={},this.selectedCurrency=this.defaultCurrency,this.setTokens()}},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(o["b"])("wallet",["setWeb3Instance"])),Object(o["b"])("global",["setNetwork"])),Object(o["b"])("external",["setNetworkTokens"])),{},{onTab:function(e){var t=this;if(this.selectedCurrency={},this.selectedCurrency=this.defaultCurrency,1!==e&&(0!==e||this.supportedBuy&&this.inWallet))this.activeTab=e;else if(1!==this.network.type.chainID){var n=this.nodes["ETH"].find((function(e){return"myetherwallet.com-ws"===e.service}));(!this.instance||this.instance&&this.instance.identifier!==i["a"].WEB3_WALLET)&&this.setNetwork({network:n}).then((function(){t.setWeb3Instance(),t.activeTab=e,Object(d["e"])("Switched network to: ETH",{},d["d"])}))}},setTokens:function(){var e=this;if(!this.inWallet){var t=new Map,n=this.network.type.tokens;n instanceof Promise?n.then((function(n){n.forEach((function(e){t.set(e.address.toLowerCase(),e)})),e.setNetworkTokens(t)})):(this.network.type.tokens.forEach((function(e){t.set(e.address.toLowerCase(),e)})),this.setNetworkTokens(t))}},close:function(){this.activeTab=0,this.step=0,this.onlySimplex=!1,this.$emit("close",!1)},setSelectedCurrency:function(e){this.selectedCurrency=e},setSelectedFiat:function(e){this.selectedFiat=e},openProviders:function(e){this.step=e},setBuyObj:function(e){this.buyObj=e},setSimplexQuote:function(e){this.simplexQuote=e},setToAddress:function(e){this.toAddress=e},reset:function(){this.selectedCurrency=this.defaultCurrency,this.selectedFiat={name:"USD",value:"USD",img:n("1db4")},this.onlySimplex=!1},hideMoonpay:function(e){this.onlySimplex=e},buySuccess:function(e){this.setSimplexQuote(e[0]),this.setToAddress(e[1]),this.setBuyObj(e[2]),this.openProviders(e[3]),this.setSelectedCurrency(e[4]),this.setSelectedFiat(e[5])}})},C=w,k=n("2877"),S=Object(k["a"])(C,c,s,!1,null,"346cbadf",null);t["default"]=S.exports}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-3e40fb79.5d719d2b.js.map