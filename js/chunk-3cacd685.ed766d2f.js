(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cacd685"],{"022b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("success-modal",{attrs:{"show-success-modal":e.showSuccessModal,"show-success-swap":e.showSuccessSwap,"success-title":e.successTitle,"reset-success":e.resetSuccess,reset:e.reset,network:e.network,links:e.links,"success-body-text":e.successBodyText,"has-close-button":!1}}),a("cross-chain-confirmation",{attrs:{"show-cross-chain-modal":e.showCrossChainModal,"tx-obj":e.tx,title:e.title,reset:e.rejectTransaction,"sent-btc":e.sendCrossChain},on:{close:e.rejectTransaction}}),a("app-modal",{attrs:{show:e.showTxOverlay,title:""!==e.title?e.title:"Confirmation",close:e.rejectTransaction,"btn-action":e.btnAction,"btn-enabled":e.disableBtn,"btn-text":e.toNonEth?"Proceed with swap":"Confirm & Send",scrollable:!0,anchored:!0,width:"650"},on:{close:e.rejectTransaction},scopedSlots:e._u([{key:"dialogBody",fn:function(){return[a("v-card-text",{ref:"scrollableContent",staticClass:"py-0 px-4 px-md-0"},[a("div",{staticClass:"px-4 py-6 pr-6 textBlack2--text border-radius--5px mb-5"},[a("b",[e._v("Please double check everything.")]),e._v(" MEW team will not be able to reverse your transaction once it's submitted. You will still be charged gas fee even if the transaction fails. "),a("a",{attrs:{href:e.getArticle("my-txn-failed-charged"),target:"_blank",rel:"noopener noreferrer"}},[e._v("Learn more.")])]),e.isSwap?a("confirmation-swap-transaction-details",{attrs:{to:e.swapInfo.to,from:e.swapInfo.from,"from-img":e.swapInfo.fromImg,"from-type":e.swapInfo.fromType,"to-type":e.swapInfo.toType,"to-img":e.swapInfo.toImg,"from-val":e.swapInfo.fromVal,"to-val":e.swapInfo.toVal,provider:e.swapInfo.selectedProvider,"to-usd":e.swapInfo.toUsdVal,"from-usd":e.swapInfo.fromUsdVal,"tx-fee":e.swapInfo.txFee,"gas-price-type":e.swapInfo.gasPriceType,"is-hardware":e.isHardware,"is-to-non-eth":e.toNonEth,"to-currency":e.swapInfo.toType,"to-address":e.swapInfo.to}}):a("confirmation-send-transaction-details",{attrs:{to:e.txTo,network:e.network,"tx-fee":e.txFee,"tx-fee-usd":e.txFeeUSD,value:e.value,"to-tx-data":e.tx.toTxData,"to-details":e.allToDetails,"send-currency":e.sendCurrency}}),e.isOnLedger?a("div",{staticClass:"ledger-warning d-flex justify-space-between px-4 py-6 border-radius--5px mb-5"},[a("div",[a("v-img",{staticClass:"ml-15",attrs:{src:n("8a64"),alt:"Ledger Wallet","max-width":"11em","max-height":"2.5em",contain:""}})],1),a("span",{staticClass:"textBlack2--text ml-2"},[a("b",[e._v("Using Ledger?")]),e._v(" Consider turning off 'debug data' before proceeding. Additional steps associated with the 'debug feature' on Ledger may be required to approve this transaction. ")])]):e._e(),e.showConfirmWithWallet?a("confirm-with-wallet",{attrs:{"tx-length":e.unsignedTxArr.length>0?e.unsignedTxArr.length:1,signed:e.signingPending,error:e.error}}):e._e(),a("v-expansion-panels",{staticClass:"expansion-border",attrs:{accordion:"",multiple:"",flat:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},e._l(e.transactions,(function(t,n){return a("v-expansion-panel",{key:""+t.title+t.value+n,staticClass:"bgWalletBlockDark",class:{"expansion-panel-border-bottom":e.transactions.length>1&&n!==e.transactions.length-1},on:{click:function(t){return e.scrollToElement(n)}}},[a("v-expansion-panel-header",{staticClass:"expansion-header",attrs:{"disable-icon-rotate":e.signing}},[a("v-row",{staticClass:"align-center pr-7 pl-2"},[a("p",{staticClass:"ma-0 pl-1"},[a("span",{staticClass:"font-weight-bold"},[e._v("Transaction "+e._s(e.transactions.length>1?""+(n+1):"details")+" ")]),a("br"),e.isBatch?a("span",{staticClass:"ma-0 mew-label greyPrimary--text"},[e._v(e._s(e.isSwap?"Swap ":"")+" part "+e._s(n+1)+" - "+e._s(e.dataToAction(e.unsignedTxArr[n])))]):""!==e.dataToAction(e.tx)?a("span",{staticClass:"ma-0 mew-label greyPrimary--text"},[e._v(e._s(e.dataToAction(e.tx)))]):e._e()]),a("v-spacer"),e.signing?a("div",[a("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:""===e.error&&e.isBatch&&e.signedTxArray.length<n+1,expression:"\n                      error === '' && isBatch && signedTxArray.length < i + 1\n                    "}],staticClass:"pr-7",attrs:{indeterminate:"",color:"greenPrimary",size:"20",width:"2"}}),a("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:!e.isBatch&&0===Object.keys(e.signedTxObject).length,expression:"\n                      !isBatch && Object.keys(signedTxObject).length === 0\n                    "}],staticClass:"pr-7",attrs:{indeterminate:"",color:"greenPrimary",size:"20",width:"2"}}),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:!e.isBatch&&0!==Object.keys(e.signedTxObject).length,expression:"\n                      !isBatch && Object.keys(signedTxObject).length !== 0\n                    "}],attrs:{color:"greenPrimary"}},[e._v(" mdi-check ")]),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:""===e.error&&e.isBatch&&e.signedTxArray.length>=n+1,expression:"\n                      error === '' && isBatch && signedTxArray.length >= i + 1\n                    "}],attrs:{color:"greenPrimary"}},[e._v(" mdi-check ")])],1):e._e()],1)],1),a("v-expansion-panel-content",{attrs:{id:n}},[a("div",{staticClass:"pa-6 pt-0"},e._l(t,(function(t){return a("v-row",{key:""+t.title+t.value,staticClass:"d-flex justify-space-between mt-3",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"d-flex d-sm-block ma-0 greyPrimary--text",attrs:{cols:"12",md:"3"}},[e._v(" "+e._s(t.title)+" ")]),a("v-col",{attrs:{cols:"12",md:"9"}},[a("app-scroll-block",[a("div",{staticClass:"data-values text-md-right"},[e._v(" "+e._s(t.value)+" ")])])],1)],1)})),1)])],1)})),1),e.toNonEth?a("div",{staticClass:"pt-4"},[e._v(" By clicking 'Proceed with swap', I agree to the "),a("a",{attrs:{href:"https://changelly.com/aml-kyc",target:"_blank"}},[e._v(" Changelly AML/KYC ")]),e._v(" and "),a("router-link",{attrs:{to:e.termRoute,target:"_blank"}},[e._v("Terms of Service")])],1):e._e()],1)]},proxy:!0}])}),a("mew-overlay",{attrs:{footer:e.footer,"show-overlay":e.showSignOverlay,title:e.title?e.title:"Message",close:e.reset,"content-size":"large"}},[a("confirmation-messsage",{ref:"messageConfirmationContainer",attrs:{msg:e.signature,copy:e.copyToClipboard}})],1)],1)},s=[],r=n("dc07"),i=r["a"],o=(n("5eee"),n("2877")),c=Object(o["a"])(i,a,s,!1,null,"5ab7d2fe",null);t["default"]=c.exports},"1f84":function(e,t,n){},"2f09":function(e,t,n){"use strict";var a=n("99e5"),s=n.n(a),r={"0x095ea7b3":function(e){var t=e.data,n=(new s.a).eth.abi.decodeParameters(["address","uint256"],"".concat(t.substr(10))),a=s.a.utils.toBN(n[1]);return a.isZero()?"Reset Approval":"Approval"},"0x7c025200":function(){return"Swap"},"0x28ed4f6c":function(){return"Set ENS controller"},"0x23b872dd":function(){return"Transfer ENS name"},"0xacf1a841":function(){return"Renew ENS name"},"0xac9650d8":function(){return"Set ENS coins/text records"},"0xa9059cbb":function(){return"Transfer Tokens"},"0xca0bfcce":function(){return"Eth2 Staking"},"0xf14fcbc8":function(){return"ENS Commitment"},"0xf7a16963":function(){return"ENS Registration"},"0x33aaf6f2":function(){return"ETH Blocks Mint"}},i=function(e){return e.substr(0,10)};t["a"]=function(e){return e.data&&"0x"!==e.data&&r[i(e.data)]?r[i(e.data)]({from:e.from,to:e.to,data:e.data,value:e.value}):""}},"5eee":function(e,t,n){"use strict";n("1f84")},"84e4":function(e,t,n){"use strict";n("d3b7"),n("25f0"),n("b680");var a=n("901e"),s=n.n(a),r=n("27ca"),i=n("99e5"),o=n.n(i);function c(e,t){var n=new o.a,a=r["a"].getters["external/contractToToken"](t),i={constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},c=n.eth.abi.encodeFunctionSignature(i),l={tokenTransferTo:"",tokenTransferVal:"",tokenSymbol:""};if(e.substr(0,10)===c){var h=n.eth.abi.decodeParameters(["address","uint256"],"".concat(e.substr(10))),u=new s.a(h[1]);l.tokenTransferTo=h[0],l.tokenTransferVal=a?u.div(new s.a(10).pow(a.decimals)).toFixed().toString():u.toString(),l.tokenSymbol=a?a.symbol:"Unidentified Token"}return l}t["a"]=c},"8a64":function(e,t,n){e.exports=n.p+"img/Ledger-Nano-X-Label-Icon.e56dc6a3.svg"},dc07:function(e,t,n){"use strict";(function(e){var a=n("53ca"),s=n("c7eb"),r=n("1da1"),i=n("5530"),o=(n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("7db0"),n("25f0"),n("b680"),n("b0c0"),n("e9c4"),n("caad"),n("2532"),n("d81d"),n("ac1f"),n("5319"),n("14d9"),n("d9e2"),n("4de4"),n("5ba3")),c=n("2ef0"),l=n("2f62"),h=n("901e"),u=n.n(h),d=n("8ded"),p=n("217a"),f=n("0421"),w=n("9b88"),g=n("84e4"),x=n("068e"),m=n("56fff"),b=n("3492"),T=n("2f09"),v=n("5965"),S=n("db3a"),y=n("2623");t["a"]={name:"ModuleConfirmation",components:{AppScrollBlock:function(){return n.e("chunk-6eac12a8").then(n.bind(null,"8d1b"))},ConfirmationMesssage:function(){return n.e("chunk-2c5b6588").then(n.bind(null,"f791"))},AppModal:function(){return n.e("chunk-022856db").then(n.bind(null,"3820c"))},ConfirmationSwapTransactionDetails:function(){return n.e("chunk-2d0df7c6").then(n.bind(null,"89b1"))},ConfirmationSendTransactionDetails:function(){return n.e("chunk-2d21e946").then(n.bind(null,"d5ba"))},ConfirmWithWallet:function(){return n.e("chunk-c22c7b20").then(n.bind(null,"e55c"))},SuccessModal:function(){return n.e("chunk-7f63ac24").then(n.bind(null,"65dc"))},CrossChainConfirmation:function(){return n.e("chunk-78d57c34").then(n.bind(null,"5015"))}},mixins:[v["a"]],data:function(){return{footer:{text:"Need help?",linkTitle:"Contact support",link:"mailto:support@myetherwallet.com"},showTxOverlay:!1,showSignOverlay:!1,showSuccessModal:!1,showSuccessSwap:!1,showCrossChainModal:!1,toNonEth:!1,isSwap:!1,tx:{},resolver:function(){},title:"",signedTxObject:{},signature:"",unsignedTxArr:[],signedTxArray:[],swapInfo:{},sendCurrency:{},toDetails:{},signing:!1,links:{ethvm:"",explorer:""},error:"",panel:[],termRoute:"/".concat(S["a"].TERMS_OF_SERVICE.PATH)}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(l["e"])("wallet",["instance","web3","address","identifier","isHardware","isOfflineApp"])),Object(l["c"])("external",["fiatValue"])),Object(l["c"])("global",["network","getFiatValue"])),Object(l["c"])("article",["getArticle"])),Object(l["e"])("addressBook",["addressBookStore"])),{},{txTo:function(){return this.isBatch?this.unsignedTxArr[0].to:this.tx.hasOwnProperty("toTxData")?this.tx.toTxData.to:this.tx.to},isWeb3Wallet:function(){return this.identifier===p["a"].WEB3_WALLET||this.identifier===p["a"].WALLET_CONNECT},isOtherWallet:function(){return this.identifier===p["a"].MEW_CONNECT||this.identifier===p["a"].WALLET_LINK},isOnLedger:function(){return"0x"!==this.tx.data&&this.identifier===p["a"].LEDGER},isNotSoftware:function(){return this.isHardware||this.isWeb3Wallet||this.isOtherWallet},showConfirmWithWallet:function(){return this.isNotSoftware&&(this.signing||""!==this.error)},transactions:function(){var e=this.unsignedTxArr.length>0?[].concat(this.unsignedTxArr):Object(c["isEmpty"])(this.tx)?[]:[this.tx];return this.arrayParser(e)},allToDetails:function(){var e=this,t=this.addressBookStore.find((function(t){var n,a;return(null===(n=e.tx.to)||void 0===n?void 0:n.toLowerCase())===(null===(a=t.address)||void 0===a?void 0:a.toLowerCase())}));return{ensName:"RESOLVED"===this.toDetails.type?this.toDetails.value:"",nickname:t?t.nickname:"",selected:this.toDetails.type}},gasPrice:function(){if(!this.isBatch){var e=this.tx.gasPrice?this.tx.gasPrice:"0x";return Object(o["fromWei"])(Object(o["hexToNumberString"])(e),"gwei")}var t=this.unsignedTxArr[0].gasPrice;return Object(o["fromWei"])(Object(o["hexToNumberString"])(t),"gwei")},gasLimit:function(){if(!this.isBatch){var e=this.tx.gasLimit?this.tx.gasLimit:this.tx.gas?this.tx.gas:"0x";return Object(o["hexToNumberString"])(e)}var t=this.unsignedTxArr.reduce((function(e,t){return e.plus(t.gas)}),u()(0));return Object(o["hexToNumberString"])(t)},txFee:function(){var e=u()(Object(o["toWei"])(this.gasPrice,"gwei")).times(this.gasLimit).toString();return Object(o["fromWei"])(e)},txFeeUSD:function(){return this.getFiatValue(u()(this.txFee).times(this.fiatValue).toFixed(2))},value:function(){if(!this.isBatch){var e=this.tx.value?this.tx.hasOwnProperty("toTxData")?this.tx.toTxData.amount:Object(o["fromWei"])(Object(o["hexToNumberString"])(this.tx.value)):"0x";return e}return"0"},disableBtn:function(){return""!==this.error||(!this.signing||(!this.isBatch||this.identifier!==p["a"].LEDGER)&&this.txSigned)},txSigned:function(){return this.isBatch?this.signedTxArray.length>0&&this.signedTxArray.length===this.unsignedTxArr.length:!Object(c["isEmpty"])(this.signedTxObject)},isBatch:function(){return this.unsignedTxArr.length>0},signingPending:function(){return this.isBatch?this.unsignedTxArr.length===this.signedTxArray.length:!Object(c["isEmpty"])(this.signedTxObject)},successTitle:function(){return this.showSuccessSwap?"Swap initiated":"Transaction initiated"},successBodyText:function(){return this.showSuccessSwap?"Once completed, the token amount will be deposited to your wallet. This should take a few minutes depending on how congested the Ethereum network is.":"Once completed, the token amount will be deposited to the address you provided. This should take a few minutes depending on how congested the Ethereum network is."}}),watch:{error:function(e){""!==e&&(this.signedTxArray=[],this.signedTxObject={})},address:function(e){e&&this.resetSuccess()},signedTxArray:{handler:function(e){this.isWeb3Wallet&&0!==e.length&&e.length===this.unsignedTxArr.length&&(this.isSwap&&this.trackSwap("swapTransactionSuccessfullySent",e[e.length-1],this.network.type.name),this.showTxOverlay=!1,this.showSuccess(e))},deep:!0,immediate:!0}},created:function(){var t=this;x["a"].$on(f["a"].SHOW_TX_CONFIRM_MODAL,function(){var e=Object(r["a"])(Object(s["a"])().mark((function e(n,a){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.parseRawData(n[0]),t.title="Transaction Confirmation",t.tx=n[0],t.resolver=a,t.showTxOverlay=!0,t.tx.transactionFee=t.txFee,t.isSwap=!1,n[0].transactionFee=t.txFee,n.length>1&&(t.toDetails=n[1],t.sendCurrency=n[2]),t.isHardware||t.identifier===p["a"].WEB3_WALLET){e.next=12;break}return e.next=12,t.signTx();case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),x["a"].$on(f["a"].SHOW_SWAP_TX_MODAL,function(){var e=Object(r["a"])(Object(s["a"])().mark((function e(n,a){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.tx=n[0],t.swapInfo=n[1],t.resolver=a,t.showTxOverlay=!0,t.title="Verify Swap",t.toNonEth=!t.swapInfo.toTokenType.isEth,t.isSwap=!0,t.isHardware||t.identifier===p["a"].WEB3_WALLET){e.next=10;break}return e.next=10,t.signTx();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),x["a"].$on(f["a"].SHOW_BATCH_TX_MODAL,function(){var e=Object(r["a"])(Object(s["a"])().mark((function e(n,a,r){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isHardwareWallet=r,n[0].hasOwnProperty("confirmInfo")?(t.swapInfo=n[0].confirmInfo,t.title="Verify Swap",t.isSwap=!0):t.isSwap=!1,t.unsignedTxArr=n,a||(t.resolver=function(){}),t.resolver=a,t.showTxOverlay=!0,r||t.identifier===p["a"].WEB3_WALLET||t.signBatchTx();case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),x["a"].$on(f["a"].SHOW_MSG_CONFIRM_MODAL,(function(n,a){t.title="Message Signed",t.isSwap=!1,t.instance.signMessage(n).then((function(s){var r=e.from(s).toString("hex");t.signature=JSON.stringify({address:t.address,msg:n,sig:r,version:"3",signer:t.isHardware?t.identifier:"MEW"},null,2),t.signedMessage=r,a(r),t.showSignOverlay=!0})).catch((function(e){t.reset(),t.instance.errorHandler(e)}))})),x["a"].$on(f["a"].SHOW_CROSS_CHAIN_MODAL,(function(e,n){t.title="Send ".concat(e.fromType),t.tx=e,t.showCrossChainModal=!0,t.resolver=function(e){n(e),t.reset()}}))},beforeDestroy:function(){x["a"].$off(f["a"].SHOW_TX_CONFIRM_MODAL),x["a"].$off(f["a"].SHOW_SWAP_TX_MODAL),x["a"].$off(f["a"].SHOW_MSG_CONFIRM_MODAL),x["a"].$off(f["a"].SHOW_CROSS_CHAIN_MODAL)},mounted:function(){this.isOfflineApp&&(this.footer={text:"Need help? Email us at support@myetherwallet.com",linkTitle:"",link:""})},methods:{rejectTransaction:function(){this.isSwap&&this.trackSwap("swapTxCancelled"),this.resolver({rejected:!0}),this.reset()},sendCrossChain:function(e){this.trackSwap("swapSendCrossChain"),this.resolver(e)},dataToAction:function(e){return Object(T["a"])(e)},scrollToElement:function(e){var t=this;setTimeout((function(){if(t.panel.includes(e)){var n=document.getElementById(e),a=t.$refs.scrollableContent,s={duration:500,offset:-60};t.$vuetify.goTo(n,Object(i["a"])({container:a},s))}}),500)},resetSuccess:function(){this.showSuccessSwap=!1,this.reset()},reset:function(){this.showTxOverlay=!1,this.showSignOverlay=!1,this.showSuccessModal=!1,this.showSuccessSwap=!1,this.showCrossChainModal=!1,this.toNonEth=!1,this.isSwap=!1,this.tx={},this.resolver=function(){},this.title="",this.signedTxObject={},this.signature="",this.unsignedTxArr=[],this.signedTxArray=[],this.swapInfo={},this.sendCurrency={},this.toDetails={},this.signing=!1,this.links={ethvm:"",explorer:""},this.error=""},parseRawData:function(e){var t={};e.to&&e.data&&"0xa9059cbb"===e.data.substr(0,10)&&(t=Object(g["a"])(e.data,e.to),e.fromTxData={currency:this.network.type.currencyName,amount:e.amount},e.toTxData={currency:t.tokenSymbol,amount:t.tokenTransferVal,to:t.tokenTransferTo}),e.network=this.network.type.name},sendBatchTransaction:function(){var e=this;return Object(r["a"])(Object(s["a"])().mark((function t(){var n,a,r,i,c;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,a=e.web3,r="sendSignedTransaction",i=e.signedTxArray,c=i.map((function(t,s){var c=t.tx;c.from=n.address;var l=t.rawTransaction,h=a.eth[r](l);return c.network=n.network.type.name,c.gasPrice=Object(o["isHex"])(c.gasPrice)?Object(o["hexToNumberString"])(c.gasPrice):c.gasPrice,c.transactionFee=Object(o["fromWei"])(u()(c.gasPrice).times(c.gas).toString()),c.gasLimit=c.gas,Object(m["b"])(h,c,n.$store.dispatch),h.once("receipt",(function(t){if(n.isSwap&&s+1===i.length){var a=t.transactionHash;n.trackSwap("swapTxReceivedReceipt",a,e.network.type.name)}})).on("transactionHash",(function(t){var a=Object(o["sha3"])("".concat(n.network.type.name,"-").concat(n.address.toLowerCase())),r=d["get"](a);d["set"](a,{nonce:Object(b["f"])(new u.a(r.nonce).plus(1).toString(16)),timestamp:r.timestamp}),s+1===i.length&&(n.isSwap&&(n.showSuccessSwap=!0,n.trackSwap("swapTxBroadcasted",t,e.network.type.name)),n.reset(),n.showSuccess(t))})).catch((function(t){n.isSwap&&s+1===i.length&&(e.rejectedError(t.message)?n.trackSwap("swapTxRejected"):n.emitSwapTxFail(t))})),h})),e.resolver(c);case 6:case"end":return t.stop()}}),t)})))()},sendSignedTx:function(){var e=this.signedTxObject.tx.hash;this.resolver(this.signedTxObject),this.isSwap&&(this.showSuccessSwap=!0),this.tx.data&&this.tx.data.includes("0x33aaf6f2")&&this.trackDapp("ethBlocksMinted"),this.reset(),this.showSuccess(e)},showSuccess:function(e){if(Object(c["isArray"])(e)){var t=e[e.length-1].tx.hash;return this.links.ethvm=this.network.type.isEthVMSupported.supported?this.network.type.isEthVMSupported.blockExplorerTX.replace("[[txHash]]",t):"",this.links.explorer=this.network.type.blockExplorerTX.replace("[[txHash]]",t),this.showSuccessModal=!0,void(this.isSwap&&this.trackSwap("swapTransactionSuccessfullySent",t,this.network.type.name))}this.links.ethvm=this.network.type.isEthVMSupported.supported?this.network.type.isEthVMSupported.blockExplorerTX.replace("[[txHash]]",e):"",this.links.explorer=this.network.type.blockExplorerTX.replace("[[txHash]]",e),this.showSuccessModal=!0,this.isSwap&&this.trackSwap("swapTransactionSuccessfullySent",e,this.network.type.name)},signTx:function(){var e=this;return Object(r["a"])(Object(s["a"])().mark((function t(){var n;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.error="",e.isNotSoftware&&(e.signing=!0),!e.isWeb3Wallet){t.next=8;break}n=e.instance.signTransaction(e.tx),n.on("transactionHash",(function(t){e.isSwap&&e.trackSwap("swapTxBroadcasted",t,e.network.type.name),e.showTxOverlay=!1,e.showSuccess(t)})).once("receipt",(function(t){if(e.isSwap){var n=t.transactionHash;e.trackSwap("swapTxReceivedReceipt",n,e.network.type.name)}})).catch((function(t){e.isSwap&&(e.rejectedError(t.message)?e.trackSwap("swapTxRejected"):e.emitSwapTxFail(t)),e.signedTxObject={},e.error=Object(y["a"])(t),e.signing=!1})),e.resolver(n),t.next=10;break;case 8:return t.next=10,e.instance.signTransaction(e.tx).then((function(t){e.signedTxObject=t,e.isHardware&&e.txSigned&&e.btnAction()})).catch((function(t){e.isSwap&&e.trackSwap("swapTxCancelled"),e.signedTxObject={},e.error=Object(y["a"])(t),e.signing=!1;var n=Object(y["a"])(t,!0);n&&e.instance.errorHandler(n)}));case 10:case"end":return t.stop()}}),t)})))()},signBatchTx:function(){var e=this;return Object(r["a"])(Object(s["a"])().mark((function t(){var n,r,i,l,h;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.error="",n=[],r=[],e.isNotSoftware&&(e.signing=!0),i=Object(s["a"])().mark((function t(a){var i,l;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=Object(c["cloneDeep"])(e.unsignedTxArr[a]),delete i["handleNotification"],delete i["currency"],delete i["confirmInfo"],t.prev=4,e.isWeb3Wallet){t.next=14;break}return t.next=8,e.instance.signTransaction(i);case 8:l=t.sent,e.unsignedTxArr[a].hasOwnProperty("handleNotification")&&(l.tx["handleNotification"]=e.unsignedTxArr[a].handleNotification),n.push(l),e.isHardware&&e.txSigned&&e.btnAction(),t.next=16;break;case 14:return t.next=16,e.instance.signTransaction(i).then((function(t){var s=t.transactionHash;n.push({tx:{hash:s}}),r.push(t);var i=Object(o["sha3"])("".concat(e.network.type.name,"-").concat(e.address.toLowerCase())),c=d["get"](i);d["set"](i,{nonce:Object(b["f"])(new u.a(c.nonce).plus(1).toString(16)),timestamp:c.timestamp}),e.isSwap&&a+1===e.unsignedTxArr.length&&e.trackSwap("swapTxReceivedReceipt",s,e.network.type.name)})).catch((function(t){if(e.isSwap){if(e.rejectedError(t.message))throw e.trackSwap("swapTxRejected"),new Error(t.message);a+1===e.unsignedTxArr.length&&e.emitSwapTxFail(t)}throw e.signing=!1,e.instance.errorHandler(t.message),new Error(t.message)}));case 16:e.signedTxArray=n,t.next=27;break;case 19:return t.prev=19,t.t0=t["catch"](4),e.isSwap&&e.emitSwapTxFail(t.t0),e.error=Object(y["a"])(t.t0),e.signedTxArray=[],e.rejectedError(t.t0.message)&&n.length>0?e.resolver(new Error("Batch transaction rejected in between transactions!")):e.resolver(new Error(t.t0.message)),n.length>0&&e.reset(),t.abrupt("return",{v:void 0});case 27:case"end":return t.stop()}}),t,null,[[4,19]])})),l=0;case 6:if(!(l<e.unsignedTxArr.length)){t.next=14;break}return t.delegateYield(i(l),"t0",8);case 8:if(h=t.t0,"object"!==Object(a["a"])(h)){t.next=11;break}return t.abrupt("return",h.v);case 11:l++,t.next=6;break;case 14:e.isWeb3Wallet||e.isHardware||e.isOtherWallet||(e.signing=!1),e.isWeb3Wallet&&e.resolver(r);case 16:case"end":return t.stop()}}),t)})))()},rejectedError:function(e){return"MetaMask Tx Signature: User denied transaction signature."===e||"User Rejected Request: The user rejected the request."===e},emitSwapTxFail:function(e){var t=e.hasOwnProperty("receipt")&&e.receipt.hasOwnProperty("transactionHash")?e.receipt.transactionHash:"0x";this.trackSwap("swapTxFailed",t,this.network.type.name)},btnAction:function(){if(this.isSwap&&this.trackSwap("swapTransactionSend"),!this.isWeb3Wallet)return(0===this.signedTxArray.length||this.signedTxArray.length<this.unsignedTxArr.length)&&Object(c["isEmpty"])(this.signedTxObject)?void(this.isBatch?this.signBatchTx():this.signTx()):void(this.isBatch?this.sendBatchTransaction():this.sendSignedTx());this.isBatch?this.signBatchTx():this.signTx()},copyToClipboard:function(){this.$refs.messageConfirmationContainer.$refs.signatureContent.$refs.input.select(),document.execCommand("copy"),window.getSelection().removeAllRanges(),Object(w["e"])(this.$t("common.copied"),{},w["d"]),this.reset()},arrayParser:function(e){var t=this,n=e.map((function(e){var n=e.gasLimit?e.gasLimit:e.gas?e.gas:"0x",a=e.gasPrice?e.gasPrice:"0x",s=e.data?e.data:e.hasOwnProperty("encodeABI")?e.encodeABI():"0x",r=Object(c["isEmpty"])(t.sendCurrency)?t.network.type.currencyName:t.sendCurrency.symbol,i="0x"!==s&&(t.isSwap||t.isBatch)?"0 ".concat(t.network.type.currencyName):"".concat(t.value," ").concat(r),l=e.from?e.from:t.address,h=e.to?e.to:t.txTo;return[{title:"Network",value:t.network.type.name_long},{title:"From ENS",value:""},{title:"From address",value:l},{title:"0x"===s||t.isBatch?"To address":"Via Contract Address",value:h},{title:"Sending",value:i},{title:"Gas Price",value:Object(o["fromWei"])(Object(o["hexToNumberString"])(a),"gwei")+" gwei"},{title:"Gas Limit",value:Object(o["hexToNumberString"])(n)},{title:"Nonce",value:Object(o["hexToNumber"])(e.nonce)},{title:"Data",value:s}].filter((function(e){if(""!==e.value)return e}))}));return n}}}}).call(this,n("1c35").Buffer)}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-3cacd685.ed766d2f.js.map