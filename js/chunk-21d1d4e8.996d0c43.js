(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21d1d4e8"],{"8d2f":function(e,t,n){"use strict";n("fef8")},"95c9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mew-component--module-side-apr pa-5 border-radius--10px box-border"},[n("div",{staticClass:"d-flex align-top justify-space-between mb-1"},[e._m(0),n("div",{staticClass:"text-right"},[n("div",{staticClass:"font-weight-bold mew-heading-3 mb-1"},[e._v(" "+e._s(e.formattedBalance)+" ")]),e.ethvmSupport?n("div",{staticClass:"textLight--text"},[e._v(" "+e._s(e.sethBalanceFiat)+" ")]):e._e()])]),e.hasStaked||e.hasPending?e._e():n("div",{staticClass:"mt-4"},[e._v(" You are currently not staking any "+e._s(e.currencyName)+". To earn rewards start staking. "),n("span",{staticClass:"greenPrimary--text cursor--pointer",on:{click:e.scrollToInput}},[e._v("Start staking")])]),e.isEthNetwork?n("div",e._l(e.stakewiseTxs.ETH,(function(t){return n("div",{key:t.hash,staticClass:"d-flex justify-space-between flex-wrap mt-4"},[n("div",{staticClass:"py-1"},[n("v-progress-circular",{staticClass:"mr-1",attrs:{indeterminate:"",color:"greenPrimary",width:2,size:20}}),e._v(" "+e._s(t.amount)+" "+e._s(e.currencyName)+" Pending ")],1),n("div",{staticClass:"greenPrimary--text font-weight-medium d-flex align-center cursor--pointer py-1",on:{click:function(n){return e.checkHash(t.hash)}}},[e._v(" View on "+e._s(e.ethvmSupport?"EthVM":"EtherScan")+" "),n("v-icon",{staticClass:"ml-1",attrs:{color:"greenPrimary",small:""}},[e._v("mdi-open-in-new")])],1)])})),0):n("div",e._l(e.stakewiseTxs.GOERLI,(function(t){return n("div",{key:t.hash,staticClass:"d-flex justify-space-between mt-4"},[n("div",[n("v-progress-circular",{staticClass:"mr-1",attrs:{indeterminate:"",color:"greenPrimary",width:2,size:20}}),e._v(" "+e._s(t.amount)+" "+e._s(e.currencyName)+" Pending ")],1),n("div",{staticClass:"greenPrimary--text font-weight-medium d-flex align-center cursor--pointer",on:{click:function(n){return e.checkHash(t.hash)}}},[e._v(" View on "+e._s(e.ethvmSupport?"EthVM":"EtherScan")+" "),n("v-icon",{staticClass:"ml-1",attrs:{color:"greenPrimary",small:""}},[e._v("mdi-open-in-new")])],1)])})),0),e.hasStaked?n("div",{staticClass:"d-flex align-center justify-space-between mt-4 flex-wrap-reverse"},[e.isEthNetwork?n("mew-button",{staticClass:"py-1",attrs:{title:"Redeem to "+e.currencyName,"btn-style":"transparent","btn-size":"small",disabled:e.enoughToCoverRedeem},nativeOn:{click:function(t){return e.executeSwap.apply(null,arguments)}}}):e._e(),n("mew-button",{staticClass:"py-1",attrs:{title:"Stake more "+e.currencyName,"btn-style":e.compoundRewards?"background":"transparent","btn-size":"small",disabled:e.enoughToCoverRedeem},nativeOn:{click:function(t){return e.scrollToInput.apply(null,arguments)}}})],1):e._e(),e.enoughToCoverRedeem?n("div",{staticClass:"mt-4 greyPrimary--text"},[e._v(" You do not have enough ETH to cover transaction fee. "),n("a",{attrs:{rel:"noopener noreferrer"},on:{click:e.openBuySell}},[e._v(" Buy more ETH")])]):e._e()])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex align-center mt-n4"},[a("div",{staticClass:"stake-icon mr-2"},[a("img",{attrs:{src:n("247b"),alt:"Stakewise"}})]),a("div",{staticClass:"textLight--text"},[a("span",{staticClass:"textMedium--text"},[e._v("Staking")]),e._v(" - sETH2 ")])])}],i=n("5530"),r=(n("d3b7"),n("25f0"),n("159b"),n("07ac"),n("ac1f"),n("5319"),n("14d9"),n("2ef0")),c=n("2f62"),o=n("5ba3"),l=n("901e"),h=n.n(l),u=n("28f8"),d=n("573b"),m=n("35f4"),f=n("ac8e"),p=n("54c6"),v={name:"ModuleSideStaking",components:{},mixins:[p["a"]],props:{compoundRewards:{type:Boolean,default:!1},txFee:{type:String,default:""},hasEnoughBalance:{type:Boolean,default:!1}},data:function(){return{intervals:{}}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(c["c"])("global",["isEthNetwork","network","getFiatValue"])),Object(c["c"])("wallet",["tokensList"])),Object(c["c"])("external",["fiatValue"])),Object(c["e"])("wallet",["web3","address","balance"])),Object(c["e"])("stakewise",["stakewiseTxs","sethBalance","rethBalance"])),{},{currencyName:function(){return this.network.type.currencyName},ethvmSupport:function(){return this.network.type.isEthVMSupported.supported},enoughToCoverRedeem:function(){return!(!this.hasStaked&&!this.hasPending)&&(!this.hasEnoughBalance||!(!h()(this.rethBalance).gt(0)||!h()(this.sethBalance).gt(0))&&!h()(this.balance).gt(this.txFee))},linkUrl:function(){return this.ethvmSupport?this.network.type.isEthVMSupported.blockExplorerTX:this.network.type.blockExplorerTX},hasPending:function(){var e=this.isEthNetwork?this.stakewiseTxs.ETH:this.stakewiseTxs.GOERLI;return e.length>0},formattedBalance:function(){return Object(f["c"])(this.sethBalance).value},sethBalanceFiat:function(){return this.getFiatValue(h()(this.sethBalance).times(this.fiatValue).toString())},seth2Contract:function(){return this.isEthNetwork?u["j"]:u["i"]},hasStaked:function(){return this.ethvmSupport,h()(this.sethBalance).gt(0)}}),watch:{stakewiseTxs:{handler:function(e){var t=this,n=this.isEthNetwork?e.ETH:e.GOERLI;n.length>0&&n.forEach((function(e){t.fetcher(e.hash)}))},deep:!0},$route:{handler:function(e){var t=this;"stake"===e.query.module&&this.$nextTick((function(){t.$emit("scroll"),t.$emit("set-max")}))},deep:!0,immediate:!0}},mounted:function(){var e=this,t=this.isEthNetwork?this.stakewiseTxs.ETH:this.stakewiseTxs.GOERLI;t.length>0&&t.forEach((function(t){e.fetcher(t.hash)}))},beforeDestroy:function(){Object(r["isEmpty"])(this.intervals)&&Object.values(this.intervals).forEach((function(e){clearInterval(e)}))},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])("stakewise",["removePendingTxs","removePendingTxsGoerli","setStakeBalance"])),{},{executeSwap:function(){this.$emit("redeem-to-eth","seth",this.sethBalance)},fetchBalance:function(){var e=this,t=new this.web3.eth.Contract(d["a"],this.seth2Contract);t.methods.balanceOf(this.address).call().then((function(t){return e.setStakeBalance(Object(o["fromWei"])(t))}))},checkHash:function(e){window.open(this.linkUrl.replace("[[txHash]]",e),"_blank")},fetcher:function(e){var t=this;this.intervals[e]=setInterval((function(){t.web3.eth.getTransactionReceipt(e).then((function(n){n&&(clearInterval(t.intervals[e]),t.isEthNetwork?t.removePendingTxs(e):t.removePendingTxsGoerli(e),t.fetchBalance())}))}),1e4)},changeRoute:function(){var e=this;return new Promise((function(t){t(e.$router.push({name:m["a"].CORE.NAME,query:{module:"stake"}}))}))},scrollToInput:function(){var e=this;this.$emit("scroll"),this.changeRoute().then((function(){e.$nextTick((function(){e.$emit("set-max")}))}))}})},w=v,k=(n("8d2f"),n("2877")),g=Object(k["a"])(w,a,s,!1,null,"bf10164e",null);t["default"]=g.exports},fef8:function(e,t,n){}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-21d1d4e8.996d0c43.js.map