(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e40fb79"],{"1db4":function(e,t,n){e.exports=n.p+"img/USD.36ab476e.svg"},"672f":function(e,t,n){"use strict";n.r(t);var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mew-component--moon-pay"},[n("mew-popup",{attrs:{show:e.open,"has-buttons":!1,"has-title":!1,"has-padding":!1,"max-width":"540","left-btn":e.leftBtn,scrollable:"","has-body-content":""}},[0===e.step?n("div",[e.open?n("mew-tabs",{staticClass:"pt-3",attrs:{items:e.tabItems,"active-tab":e.activeTab,"active-color":"greenPrimary","has-underline":""},on:{onTab:e.onTab},scopedSlots:e._u([{key:"tabContent1",fn:function(){return[n("buy-eth-component",{attrs:{"order-handler":e.orderHandler,close:e.close,tab:e.activeTab,"default-currency":e.defaultCurrency,"in-wallet":e.inWallet,"supported-buy":e.supportedBuy},on:{selectedCurrency:e.setSelectedCurrency,openProviders:e.openProviders,selectedFiat:e.setSelectedFiat,hideMoonpay:e.hideMoonpay,simplexQuote:e.setSimplexQuote,toAddress:e.setToAddress,success:e.buySuccess}})]},proxy:!0},{key:"tabContent2",fn:function(){return[n("sell-eth-component",{attrs:{"order-handler":e.orderHandler,close:e.close,tab:e.activeTab,"in-wallet":e.inWallet,"default-currency":e.defaultCurrency},on:{selectedCurrency:e.setSelectedCurrency}})]},proxy:!0}],null,!1,413955045)}):e._e()],1):e._e(),1===e.step?n("MoonPayBuyProviderComponent",{attrs:{"order-handler":e.orderHandler,close:e.close,"in-wallet":e.inWallet,"only-simplex":e.onlySimplex,"selected-currency":e.selectedCurrency,"selected-fiat":e.selectedFiat,"buy-obj":e.buyObj,"simplex-quote":e.simplexQuote,"to-address":e.toAddress},on:{close:function(t){e.step=0},openProviders:e.openProviders,reset:e.reset}}):e._e()],1)],1)},r=[],s=n("c7eb"),o=n("1da1"),a=n("5530"),i=(n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("2532"),n("b0c0"),n("7db0"),n("4ec9"),n("159b"),n("2f62")),u=n("2ef0"),l=n("217a"),d=n("08e1"),h=n("fbdf"),p=n("9b88"),y=n("d4ec"),b=n("bee2"),f=(n("99af"),n("5ba3")),m=n("bc3a"),v=n.n(m),w="https://mainnet.mewwallet.dev",C=function(){function e(){Object(y["a"])(this,e)}return Object(b["a"])(e,[{key:"buy",value:function(e,t,n,c){var r=Object(f["sha3"])(c),s="WEB|".concat(r.substring(0,42));return new Promise((function(r){var o="".concat(w,"/v3/purchase/moonpay/order?address=").concat(c,"&id=").concat(s,"&cryptoCurrency=").concat(e,"&fiatCurrency=").concat(t);n&&(o+="&requestedAmount=".concat(n));var a=encodeURI(o);window.open(a,"_blank"),r()}))}},{key:"sell",value:function(e,t,n){var c=Object(f["sha3"])(n),r="WEB|".concat(c.substring(0,42));return new Promise((function(c){var s=encodeURI("".concat(w,"/v3/sell/moonpay/order?address=").concat(n,"&id=").concat(r,"&cryptoCurrency=").concat(e,"&requestedAmount=").concat(t));window.open(s,"_blank"),c()}))}},{key:"getSupportedFiatToBuy",value:function(e){return v.a.get("".concat(w,"/v3/purchase/providers/web?iso=us&cryptoCurrency=").concat(e),{headers:{"Accept-Language":"en-US"}}).then((function(e){return e.data}))}},{key:"getFiatRatesForBuy",value:function(){return v.a.get("".concat(w,"/v3/purchase/moonpay/quotes"),{headers:{"Accept-Language":"en-US"}}).then((function(e){return e.data}))}},{key:"getSupportedFiatToSell",value:function(e){return v.a.get("".concat(w,"/v3/sell/providers/web?iso=us&cryptoCurrency=").concat(e),{headers:{"Accept-Language":"en-US"}}).then((function(e){return e.data}))}},{key:"simplexBuy",value:function(e,t,n,c){var r=Object(f["sha3"])(c),s="WEB|".concat(r.substring(0,42));return new Promise((function(r){var o=encodeURI("".concat(w,"/v2/purchase/simplex/order?address=").concat(c,"&id=").concat(s,"&requestedCurrency=").concat(t,"&fiatCurrency=").concat(t,"&requestedAmount=").concat(n,"&cryptoCurrency=").concat(e));window.open(o,"_blank"),r()}))}},{key:"getSimplexQuote",value:function(e,t,n,c){var r=Object(f["sha3"])(c),s="WEB|".concat(r.substring(0,42));return new Promise((function(c,r){v.a.get(encodeURI("".concat(w,"/purchase/simplex/quote?id=").concat(s,"&requestedCurrency=").concat(t,"&fiatCurrency=").concat(t,"&requestedAmount=").concat(n,"&cryptoCurrency=").concat(e)),{headers:{"Accept-Language":"en-US"}}).then((function(e){c(e.data)})).catch(r)}))}},{key:"getHistory",value:function(){}}]),e}(),k={name:"MoonPay",components:{BuyEthComponent:function(){return Promise.all([n.e("chunk-87fd17f0"),n.e("chunk-405f8890"),n.e("chunk-27da7fc8")]).then(n.bind(null,"2d11"))},SellEthComponent:function(){return Promise.all([n.e("chunk-87fd17f0"),n.e("chunk-405f8890"),n.e("chunk-b432ca66")]).then(n.bind(null,"037d"))},MoonPayBuyProviderComponent:function(){return n.e("chunk-d4e33a58").then(n.bind(null,"0955"))}},props:{open:{type:Boolean,default:!1}},data:function(){return{isOpen:!1,activeTab:0,orderHandler:{},selectedCurrency:{},selectedFiat:{},nodes:h["a"],onlySimplex:!1,buyObj:{},step:0,simplexQuote:{},toAddress:""}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(i["e"])("wallet",["address","instance"])),Object(i["c"])("wallet",["tokensList"])),Object(i["c"])("global",["network"])),Object(i["c"])("external",["contractToToken"])),{},{inWallet:function(){return this.$route.fullPath.includes("/wallet")&&!this.$route.meta.noAuth},defaultCurrency:function(){if(Object(u["isEmpty"])(this.selectedCurrency)&&this.supportedBuy){if(this.inWallet)return this.tokensList[0];var e=this.contractToToken(d["a"]);return e.value=e.symbol,e}return Object(u["isEmpty"])(this.selectedCurrency)||!this.supportedBuy||1===this.activeTab&&!this.supportedSell?{decimals:18,img:"https://img.mewapi.io/?image=https://raw.githubusercontent.com/MyEtherWallet/ethereum-lists/master/src/icons/ETH-0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee.svg",name:"ETH",subtext:"Ethereum",value:"ETH",symbol:"ETH",network:"ETH",contract:d["a"]}:this.selectedCurrency},supportedBuy:function(){return"ETH"===this.network.type.name||"BSC"===this.network.type.name||"MATIC"===this.network.type.name},supportedSell:function(){return"ETH"===this.selectedCurrency.symbol||"USDT"===this.selectedCurrency.symbol||"USDC"===this.selectedCurrency.symbol},leftBtn:function(){return{method:this.close}},tabItems:function(){return[{name:"Buy"},{name:"Sell"}]}}),watch:{open:function(e){this.isOpen=e,e&&(this.orderHandler=new C),this.selectedCurrency={},this.selectedCurrency=this.defaultCurrency},address:function(){this.selectedCurrency=this.defaultCurrency},network:function(){this.selectedCurrency={},this.selectedCurrency=this.defaultCurrency,this.setTokens()}},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(i["b"])("wallet",["setWeb3Instance"])),Object(i["b"])("global",["setNetwork"])),Object(i["b"])("external",["setNetworkTokens"])),{},{onTab:function(e){var t=this;if(this.selectedCurrency={},this.selectedCurrency=this.defaultCurrency,1!==e&&(0!==e||this.supportedBuy&&this.inWallet))this.activeTab=e;else if(1!==this.network.type.chainID){var n=this.nodes["ETH"].find((function(e){return"myetherwallet.com-ws"===e.service}));(!this.instance||this.instance&&this.instance.identifier!==l["a"].WEB3_WALLET)&&this.setNetwork({network:n}).then((function(){t.setWeb3Instance(),t.activeTab=e,Object(p["e"])("Switched network to: ETH",{},p["d"])}))}},setTokens:function(){var e=this;return Object(o["a"])(Object(s["a"])().mark((function t(){var n,c;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.inWallet){t.next=7;break}return n=new Map,t.next=4,e.network.type.tokens;case 4:c=t.sent,c.forEach((function(e){n.set(e.address.toLowerCase(),e)})),e.setNetworkTokens(n);case 7:case"end":return t.stop()}}),t)})))()},close:function(){this.activeTab=0,this.step=0,this.onlySimplex=!1,this.$emit("close",!1)},setSelectedCurrency:function(e){this.selectedCurrency=e},setSelectedFiat:function(e){this.selectedFiat=e},openProviders:function(e){this.step=e},setBuyObj:function(e){this.buyObj=e},setSimplexQuote:function(e){this.simplexQuote=e},setToAddress:function(e){this.toAddress=e},reset:function(){this.selectedCurrency=this.defaultCurrency,this.selectedFiat={name:"USD",value:"USD",img:n("1db4")},this.onlySimplex=!1},hideMoonpay:function(e){this.onlySimplex=e},buySuccess:function(e){this.setSimplexQuote(e[0]),this.setToAddress(e[1]),this.setBuyObj(e[2]),this.openProviders(e[3]),this.setSelectedCurrency(e[4]),this.setSelectedFiat(e[5])}})},S=k,O=n("2877"),T=Object(O["a"])(S,c,r,!1,null,"d1e38430",null);t["default"]=T.exports}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-3e40fb79.a5806526.js.map