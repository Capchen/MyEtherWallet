(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62a38d9d"],{c825:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mew-module",{staticClass:"d-flex flex-grow-1 pt-6",attrs:{title:"Send Offline","has-elevation":!0,"has-indicator":!0},scopedSlots:t._u([{key:"moduleBody",fn:function(){return[n("v-row",{staticClass:"mt-5"},[n("v-col",{staticClass:"pr-sm-1 pt-0 pb-0 pb-sm-4",attrs:{cols:"12",sm:"6"}},[n("div",{staticClass:"position--relative"},[n("mew-select",{attrs:{label:"Token",items:t.tokens,"is-custom":!0},model:{value:t.selectedCurrency,callback:function(e){t.selectedCurrency=e},expression:"selectedCurrency"}})],1)]),n("v-col",{staticClass:"pl-sm-1 pt-0 pb-2 pb-sm-4",attrs:{cols:"12",sm:"6"}},[n("div",{staticClass:"position--relative"},[n("mew-input",{staticClass:"SendOfflineAmountInput",attrs:{label:"Amount",placeholder:"0","error-messages":t.amountErrors,type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)]),n("v-col",{staticClass:"pt-4 pb-2",attrs:{cols:"12"}},[n("module-address-book",{ref:"addressInput",staticClass:"SendOfflineAddressBook",on:{setAddress:t.setAddress}})],1),n("v-col",{attrs:{cols:"12"}},[n("mew-input",{staticClass:"SendOfflineNonceInput",attrs:{label:t.$t("sendTx.nonce"),placeholder:"0",type:"number","error-messages":t.nonceErrors},model:{value:t.localNonce,callback:function(e){t.localNonce=e},expression:"localNonce"}})],1),n("v-col",{attrs:{cols:"12"}},[n("mew-input",{staticClass:"mb-8 SendOFflineDataInput",attrs:{label:"Data",placeholder:"0x...","error-messages":t.dataErrors,disabled:t.disableData},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}})],1),n("v-col",{attrs:{cols:"12"}},[n("mew-input",{staticClass:"SendOfflineGasLimitInput",attrs:{label:t.$t("common.gas.limit"),"error-messages":t.gasLimitErrors,type:"number"},model:{value:t.gasLimit,callback:function(e){t.gasLimit=e},expression:"gasLimit"}})],1),n("v-col",{attrs:{cols:"12"}},[n("mew-input",{staticClass:"SendOfflineGasPriceInput",attrs:{label:"Gas Price (in wei)","error-messages":t.gasPriceErrors,type:"number"},model:{value:t.gasPrice,callback:function(e){t.gasPrice=e},expression:"gasPrice"}})],1)],1),n("div",{staticClass:"d-flex flex-column mt-12"},[n("div",{staticClass:"text-center"},[n("mew-button",{staticClass:"SendOfflineGenerateTransactionButton",attrs:{title:"Generate Transaction","has-full-width":!1,"btn-size":"xlarge",disabled:t.isDisabledNextBtn},nativeOn:{click:function(e){return t.generateTx.apply(null,arguments)}}})],1),n("div",{staticClass:"text-center"},[n("div",{staticClass:"d-flex flex-column justify-center"},[n("input",{ref:"upload",staticClass:"SendOfflineUploadInput",staticStyle:{opacity:"0"},attrs:{type:"file",accept:"json"},on:{change:t.upload}}),n("mew-button",{staticClass:"mt-2 display--block mx-auto SendOfflineUploadJsonButton",attrs:{title:"Upload JSON file","btn-size":"small","btn-style":"transparent"},nativeOn:{click:function(e){return t.$refs.upload.click()}}})],1),n("mew-button",{attrs:{title:t.$t("common.clear-all"),"has-full-width":!1,"btn-size":"small","btn-style":"transparent"},nativeOn:{click:function(e){return t.clear()}}})],1)])]},proxy:!0}])}),n("mew-overlay",{attrs:{"show-overlay":t.isSignedTxOpen,title:"Signed Transaction",close:function(){return t.isSignedTxOpen=!1},"content-size":"xlarge"}},[t.signedTransaction?n("div",{staticClass:"text-center",staticStyle:{width:"100%"}},[n("mew-text-area",{ref:"signedTxInput",staticClass:"SendOfflineSignedTxResultInput",staticStyle:{width:"100%"},attrs:{label:"Signed Transaction",readonly:"",value:t.signedTransaction.rawTransaction}}),n("mew-text-area",{staticClass:"mt-12",staticStyle:{width:"100%"},attrs:{label:"Signed Raw Transaction",readonly:"",value:t.signed}}),n("mew-button",{staticClass:"mt-5",attrs:{title:"Copy And Continue"},nativeOn:{click:function(e){return t.copyAndContinue.apply(null,arguments)}}}),n("div",{staticClass:"pt-3"},[n("a",{staticClass:"mew-body",attrs:{href:t.jsonFile,download:t.jsonFileName,rel:"noopener noreferrer"}},[t._v("Download")])])],1):t._e()])],1)},a=[],r=n("c7eb"),i=n("1da1"),o=n("5530"),c=(n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),n("e9c4"),n("2b3d"),n("9861"),n("99af"),n("25f0"),n("498a"),n("f1cd")),l=n.n(c),d=n("5ba3"),u=n("2f62"),m=n("901e"),p=n.n(m),h=n("99e5"),f=n.n(h),b=n("5b66"),g=n("2ef0"),w=n("7466"),y=n("9b88"),v=n("ac8e"),O={components:{ModuleAddressBook:function(){return Promise.all([n.e("chunk-437e46c4"),n.e("chunk-3533f628")]).then(n.bind(null,"4b90"))}},data:function(){return{isSignedTxOpen:!1,localNonce:"0",gasLimit:"21000",gasPrice:"0",toAddress:"",isValidAddress:!1,amount:"0",selectedCurrency:{},data:"0x",userInputType:"",defaultGasLimit:"21000",gasLimitError:"",amountError:"",signed:null,raw:null,signedTransaction:null,jsonFileName:"",jsonFile:null,tokens:[]}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["e"])("wallet",["address","instance"])),Object(u["c"])("global",["network"])),{},{networkToken:function(){return{symbol:this.network.type.currencyName,name:this.network.type.name}},isDisabledNextBtn:function(){return""!==this.nonceErrors||""!==this.dataErrors||""!==this.gasLimitErrors||""!==this.gasPriceErrors||""!==this.amountErrors||!this.validAddress},nonceErrors:function(){return p()(this.localNonce).lt(0)||""===this.localNonce||null===this.localNonce?"Nonce has to be greater than or equal to 0!":""},dataErrors:function(){return Object(d["isHexStrict"])(this.data)?"":"Invalid data hex"},gasLimitErrors:function(){return this.gasLimit?p()(this.gasLimit).lte(0)?"Gas limit must be greater than 0":p()(this.gasLimit).dp()>0?"Gas limit can not have decimal points":Object(d["toBN"])(this.gasLimit).lt(Object(d["toBN"])(this.defaultGasLimit))?"Amount too low. Transaction will fail":"":"Required"},gasPriceErrors:function(){return this.gasPrice?p()(this.gasPrice).lte(0)?"Gas price must be greater than 0":"":"Required"},amountErrors:function(){return this.amount?p()(this.amount).lt(0)?"Amount must be greater than or equal to 0":"":"Required"},disableData:function(){return this.selectedCurrency.symbol!==this.network.type.currencyName},validAddress:function(){return""!==this.toAddress&&Object(b["isValidAddress"])(this.toAddress)},canGenerate:function(){return this.validAddress&&!Object(g["isEmpty"])(this.selectedCurrency)&&this.selectedCurrency.symbol!==this.network.type.currencyName}}),watch:{signed:function(t){var e=JSON.parse(t),n=JSON.stringify(e),s=new Blob([n],{type:"mime"});this.jsonFileName="signedTransactionObject-".concat(+new Date,".json"),this.jsonFile=window.URL.createObjectURL(s)},selectedCurrency:{handler:function(){this.canGenerate&&this.generateData()},deep:!0},toAddress:function(){this.canGenerate&&this.generateData()}},mounted:function(){this.selectedCurrency=this.networkToken,this.generateTokens()},methods:{generateTokens:function(){var t=this,e=[this.networkToken];this.network.type.tokens.then((function(n){t.tokens=e.concat(n)}))},generateData:function(){var t=new f.a(this.network.url),e=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],n=new t.eth.Contract(e,this.selectedCurrency.address),s=Object(d["toBN"])(this.amount);this.data=n.methods.transfer(this.toAddress.toLowerCase(),s).encodeABI()},copyAndContinue:function(){l()(this.$refs.signedTxInput.value),this.isSignedTxOpen=!1},clear:function(){this.$refs&&this.$refs.addressInput&&this.$refs.addressInput.clear(),this.toAddress="",this.selectedCurrency=this.networkToken,this.isValidAddress=!1,this.amount="0",this.data="0x",this.userInputType="",this.localNonce="0",this.gasPrice="0",this.defaultGasLimit="21000",this.gasLimitError="",this.amountError=""},setAddress:function(t,e,n){this.toAddress=t,this.isValidAddress=e,this.userInputType=n},upload:function(t){var e=t.target.files,n=new FileReader,s=this;n.onloadend=function(t){var e=t.target.result;try{var n=JSON.parse(e);if(n.nonce)return s.localNonce=Object(d["hexToNumberString"])(n.nonce),s.gasPrice=Object(d["hexToNumberString"])(n.gasPrice),void(s.$refs.upload.value="");Object(y["e"])("Malformed File","","error")}catch(a){Object(y["e"])("Incorrect File Type","","error")}},e[0]&&n.readAsBinaryString(e[0])},generateTx:function(){var t=this;return Object(i["a"])(Object(r["a"])().mark((function e(){var n,s,a,i,o;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.network.type.currencyName,s=t.selectedCurrency.symbol!==n,a=Object(d["toWei"])(t.amount,"ether"),i={nonce:Object(w["a"])(Object(v["h"])(t.localNonce).toString(16)),gasLimit:Object(w["a"])(Object(v["h"])(t.gasLimit).toString(16)),gasPrice:Object(w["a"])(Object(v["h"])(t.gasPrice).toString(16)),to:s?t.selectedCurrency.address:t.toAddress.toLowerCase().trim(),value:s?Object(w["a"])(Object(v["h"])(0).toString(16)):Object(w["a"])(Object(v["h"])(a).toString(16)),data:t.data,chainId:t.network.type.chainID},t.raw=i,e.next=7,t.instance.signTransaction(t.raw);case 7:o=e.sent,t.signedTransaction=o,t.signed=JSON.stringify(o),window.scrollTo(0,0),t.clear(),t.isSignedTxOpen=!0;case 13:case"end":return e.stop()}}),e)})))()}}},C=O,x=n("2877"),k=Object(x["a"])(C,s,a,!1,null,null,null);e["default"]=k.exports},f1cd:function(t,e){function n(){return new DOMException("The request is not allowed","NotAllowedError")}async function s(t){if(!navigator.clipboard)throw n();return navigator.clipboard.writeText(t)}async function a(t){const e=document.createElement("span");e.textContent=t,e.style.whiteSpace="pre",e.style.webkitUserSelect="auto",e.style.userSelect="all",document.body.appendChild(e);const s=window.getSelection(),a=window.document.createRange();s.removeAllRanges(),a.selectNode(e),s.addRange(a);let r=!1;try{r=window.document.execCommand("copy")}finally{s.removeAllRanges(),window.document.body.removeChild(e)}if(!r)throw n()}async function r(t){try{await s(t)}catch(e){try{await a(t)}catch(r){throw r||e||n()}}}
/*! clipboard-copy. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.exports=r}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-62a38d9d.40b60f23.js.map