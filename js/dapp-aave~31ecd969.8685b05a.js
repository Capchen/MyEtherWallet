(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dapp-aave~31ecd969"],{"0356":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),function(e){e["None"]="None",e["Stable"]="Stable",e["Variable"]="Variable"}(a||(a={}));var r,i,s,o,d;(function(e){e[e["mainnet"]=1]="mainnet",e[e["ropsten"]=3]="ropsten",e[e["rinkeby"]=4]="rinkeby",e[e["goerli"]=5]="goerli",e[e["kovan"]=42]="kovan",e[e["xdai"]=100]="xdai",e[e["polygon"]=137]="polygon",e[e["mumbai"]=80001]="mumbai",e[e["avalanche"]=43114]="avalanche",e[e["fuji"]=43113]="fuji",e[e["arbitrum_one"]=42161]="arbitrum_one",e[e["arbitrum_rinkeby"]=421611]="arbitrum_rinkeby",e[e["arbitrum_goerli"]=421613]="arbitrum_goerli",e[e["fantom"]=250]="fantom",e[e["fantom_testnet"]=4002]="fantom_testnet",e[e["optimism"]=10]="optimism",e[e["optimism_kovan"]=69]="optimism_kovan",e[e["optimism_goerli"]=420]="optimism_goerli",e[e["harmony"]=16666e5]="harmony",e[e["harmony_testnet"]=16667e5]="harmony_testnet"})(r||(r={})),function(e){e["ERC20_APPROVAL"]="ERC20_APPROVAL",e["DLP_ACTION"]="DLP_ACTION",e["GOVERNANCE_ACTION"]="GOVERNANCE_ACTION",e["GOV_DELEGATION_ACTION"]="GOV_DELEGATION_ACTION",e["STAKE_ACTION"]="STAKE_ACTION",e["MIGRATION_LEND_AAVE"]="MIGRATION_LEND_AAVE",e["FAUCET_MINT"]="FAUCET_MINT",e["REWARD_ACTION"]="REWARD_ACTION"}(i||(i={})),function(e){e["default"]="default",e["supply"]="supply",e["withdraw"]="withdraw",e["deposit"]="deposit",e["liquidationCall"]="liquidationCall",e["liquidationFlash"]="liquidationFlash",e["repay"]="repay",e["swapCollateral"]="swapCollateral",e["repayCollateral"]="repayCollateral",e["withdrawETH"]="withdrawETH",e["borrowETH"]="borrwoETH"}(s||(s={})),function(e){e[e["Abstain"]=0]="Abstain",e[e["Yes"]=1]="Yes",e[e["No"]=2]="No"}(o||(o={})),function(e){e["aave"]="aave",e["bpt"]="bpt"}(d||(d={}))},"0aa9":function(e,t,n){"use strict";var a=n("dfab"),r=n("779d");function i(e){a.call(this,null==e?"canceled":e,a.ERR_CANCELED),this.name="CanceledError"}r.inherits(i,a,{__CANCEL__:!0}),e.exports=i},"0b13":function(e,t,n){"use strict";n.r(t);var a=n("6e45");n.d(t,"randomBytes",(function(){return a["a"]}));var r=n("5553");n.d(t,"shuffled",(function(){return r["a"]}))},"0c99":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];return e.apply(t,n)}}},"2c3e":function(e,t,n){var a=n("83ab"),r=n("9f7f").MISSED_STICKY,i=n("c6b6"),s=n("edd0"),o=n("69f3").get,d=RegExp.prototype,u=TypeError;a&&r&&s(d,"sticky",{configurable:!0,get:function(){if(this!==d){if("RegExp"===i(this))return!!o(this).sticky;throw u("Incompatible receiver, RegExp required")}}})},"2db0":function(e,t,n){"use strict";var a=n("779d"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(a.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=a.trim(e.substr(0,i)).toLowerCase(),n=a.trim(e.substr(i+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},3301:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"UsdPriceEth"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"priceOracle"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"1",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"usdPriceEth"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:79}};n.loc.source={body:'subscription UsdPriceEth {\r\n  priceOracle(id: "1") {\r\n    usdPriceEth\r\n  }\r\n}\r\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function s(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,s=new Set,o=new Set;a.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var t=r[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(t){var a=i(e,t);a&&n.definitions.push(a)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),r[e.name.value]=t}}))})(),e.exports=n,e.exports["UsdPriceEth"]=s(n,"UsdPriceEth")},"3cf9":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"UserPositionUpdateSubscription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userAddress"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pool"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userReserves"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"user"},value:{kind:"Variable",name:{kind:"Name",value:"userAddress"}}},{kind:"ObjectField",name:{kind:"Name",value:"pool"},value:{kind:"Variable",name:{kind:"Name",value:"pool"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserReserveData"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserReserveData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserReserve"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaledATokenBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reserve"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"underlyingAsset"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"symbol"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"decimals"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"liquidityRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reserveLiquidationBonus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastUpdateTimestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aToken"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"usageAsCollateralEnabledOnUser"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableBorrowRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableBorrowLastUpdateTimestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"principalStableDebt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaledVariableDebt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variableBorrowIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastUpdateTimestamp"},arguments:[],directives:[]}]}}],loc:{start:0,end:617}};n.loc.source={body:"subscription UserPositionUpdateSubscription($userAddress: String!, $pool: String) {\r\n  userReserves(where: {user: $userAddress, pool: $pool}) {\r\n    ...UserReserveData\r\n  }\r\n}\r\n\r\nfragment UserReserveData on UserReserve {\r\n  scaledATokenBalance\r\n  reserve {\r\n    id\r\n    underlyingAsset\r\n    name\r\n    symbol\r\n    decimals\r\n    liquidityRate\r\n    reserveLiquidationBonus\r\n    lastUpdateTimestamp\r\n    aToken {\r\n      id\r\n    }\r\n  }\r\n  usageAsCollateralEnabledOnUser\r\n  stableBorrowRate\r\n  stableBorrowLastUpdateTimestamp\r\n  principalStableDebt\r\n  scaledVariableDebt\r\n  variableBorrowIndex\r\n  lastUpdateTimestamp\r\n}\r\n\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function s(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,s=new Set,o=new Set;a.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var t=r[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(t){var a=i(e,t);a&&n.definitions.push(a)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),r[e.name.value]=t}}))})(),e.exports=n,e.exports["UserPositionUpdateSubscription"]=s(n,"UserPositionUpdateSubscription"),e.exports["UserReserveData"]=s(n,"UserReserveData")},"413f":function(e,t,n){"use strict";n("7fd5")},"461e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mew-component--aave"},[n("the-wrapper-dapp",{attrs:{"is-new-header":!0,"dapp-img":e.headerImg,"banner-text":e.topBanner,"tab-items":e.tabs,"active-tab":e.activeTab,"external-contents":"","on-tab":e.tabChanged,"valid-networks":e.validNetworks},scopedSlots:e._u([{key:"tabContent1",fn:function(){return[n("v-sheet",{staticClass:"mx-auto py-6 px-2 px-md-3",attrs:{color:"transparent","max-width":"724px"}},[n("div",{staticClass:"d-flex align-center justify-end"},[n("div",{staticClass:"mr-3"},[e._v("Health factor")]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mr-3",attrs:{width:"31px",type:"text"}}):n("div",{staticClass:"font-weight-bold mr-3",class:e.healthFactorColor},[e._v(" "+e._s(e.healthFactor)+" ")]),n("mew-tooltip",{attrs:{text:e.healthFactorTooltip}})],1),n("v-row",{staticClass:"mb-1 mt-2",attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"bgWalletBlockDark pa-5 border-radius--5px"},[n("h5",{staticClass:"mb-2 font-weight-bold"},[e._v("Aggregated Balance")]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"20px",type:"text"}}):n("h3",{},[e._v(" "+e._s(e.totalLiquidity.usd)+" ")]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"20px",type:"text"}}):n("div",{staticClass:"mt-2"},[e._v(" "+e._s(e.totalLiquidity.eth)+" ETH ")]),n("v-divider",{staticClass:"my-4"}),n("div",{staticClass:"d-flex justify-space-between"},[n("div",{staticClass:"font-weight-medium"},[e._v("Composition")])]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"12px",type:"text"}}):n("mew-progress-bar",{staticClass:"mt-2",attrs:{data:e.compositionPercentage}})],1)]),n("v-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"bgWalletBlockDark pa-5 border-radius--5px height-100 d-flex flex-column"},[n("div",{staticClass:"d-flex aling-center"},[n("h5",{staticClass:"font-weight-bold mr-auto"},[e._v("Earnings")]),n("div",{staticClass:"d-flex align-center"},[n("div",{staticClass:"d-flex align-center mr-3"},[n("div",{staticClass:"circle pink mr-1"}),e._v(" APR ")]),n("div",{staticClass:"d-flex align-center"},[n("div",{staticClass:"circle lightblue mr-1"}),e._v(" Total ")])])]),n("div",{staticClass:"ma-auto text-center pa-5"},[e._v("No data to show yet")])])]),n("v-col",{staticClass:"pt-md-2",attrs:{cols:"12"}},[n("aave-table",{ref:"depositsTable",attrs:{title:e.aaveTableTitle.balance_deposit,"has-search":!1,"has-toggle":!1}})],1)],1),n("div",{staticClass:"d-flex justify-center mt-9"},[n("mew-button",{attrs:{title:"Deposit","btn-size":"xlarge"},nativeOn:{click:function(t){return e.toggleDepositOverlay(!0)}}})],1)],1)]},proxy:!0},{key:"tabContent2",fn:function(){return[n("v-sheet",{staticClass:"mx-auto py-6 px-2 px-md-3",attrs:{color:"transparent","max-width":"724px"}},[n("div",{staticClass:"d-flex align-center justify-end"},[n("div",{staticClass:"mr-3"},[e._v("Health factor")]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mr-3",attrs:{width:"31px",type:"text"}}):n("div",{staticClass:"font-weight-bold mr-3",class:e.healthFactorColor},[e._v(" "+e._s(e.healthFactor)+" ")]),n("mew-tooltip",{attrs:{text:e.healthFactorTooltip}})],1),n("v-row",{staticClass:"mb-1 mt-2",attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"bgWalletBlockDark pa-5 border-radius--5px"},[n("h5",{staticClass:"mb-2 font-weight-bold"},[e._v("You Borrowed")]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"20px",type:"text"}}):n("h3",[e._v(e._s(e.totalBorrow.usd))]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"20px",type:"text"}}):n("div",{staticClass:"mt-2"},[e._v(" "+e._s(e.totalBorrow.eth)+" ETH ")]),n("v-divider",{staticClass:"my-4"}),n("div",{staticClass:"d-flex justify-space-between"},[n("div",{staticClass:"font-weight-medium"},[e._v("Composition")])]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2 mb-0",attrs:{height:"12px",type:"text"}}):n("mew-progress-bar",{staticClass:"mt-2",attrs:{data:e.borrowingsPercentage}})],1)]),n("v-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"bgWalletBlockDark pa-5 border-radius--5px"},[n("h5",{staticClass:"mb-2 font-weight-bold"},[e._v("Your Collateral")]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"20px",type:"text"}}):n("h3",[e._v(e._s(e.totalCollateral.usd))]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"20px",type:"text"}}):n("div",{staticClass:"mt-2"},[e._v(" "+e._s(e.totalCollateral.eth)+" ETH ")]),n("v-divider",{staticClass:"my-4"}),n("div",{staticClass:"d-flex justify-space-between"},[n("div",{staticClass:"font-weight-medium"},[e._v("Composition")])]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"12px",type:"text"}}):n("mew-progress-bar",{staticClass:"mt-2",attrs:{data:e.collateralPercentage}})],1)]),n("v-col",{staticClass:"pt-md-2",attrs:{cols:"12"}},[n("div",{staticClass:"bgWalletBlockDark pa-5 loan-value-container"},[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"9"}},[n("span",{staticClass:"mew-heading-3"},[e._v("Loan to Value")])]),n("v-col",{attrs:{cols:"3"}},[n("div",{staticClass:"d-flex justify-end align-center"},[e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2 mb-0",attrs:{height:"19px",width:"",type:"text"}}):n("span",{staticClass:"mew-heading-3"},[e._v(e._s(e.loanValue))])],1)])],1)],1)]),n("v-col",{staticClass:"pt-md-2",attrs:{cols:"12"}},[n("aave-table",{ref:"borrowsTable",attrs:{title:e.aaveTableTitle.balance_borrow,"has-search":!1,"has-toggle":!1}})],1)],1),n("div",{staticClass:"d-flex justify-center mt-9"},[n("mew-button",{attrs:{title:"Borrow","btn-size":"xlarge"},nativeOn:{click:function(t){return e.toggleBorrowOverlay(!0)}}})],1)],1)]},proxy:!0}])}),n("aave-deposit-overlay",{attrs:{open:e.showDepositOverlay,close:e.toggleDepositOverlay,"pre-selected-token":e.tokenSelected}}),n("aave-borrow-overlay",{attrs:{"pre-selected-token":e.tokenSelected,open:e.showBorrowOverlay,close:e.toggleBorrowOverlay}}),n("aave-collateral-overlay",{attrs:{open:e.showCollateralOverlay,close:e.closeCollateralOverlay,"pre-selected-token":e.tokenSelected},on:{onConfirm:e.setCollateral,onClose:e.resetCollateralToggle}}),n("aave-withdraw-overlay",{attrs:{open:e.showWithdrawOverlay,close:e.closeWithdrawOverlay,"pre-selected-token":e.tokenSelected}}),n("aave-repay-overlay",{attrs:{open:e.showRepayOverlay,close:e.closeRepayOverlay,"pre-selected-token":e.tokenSelected}}),n("aave-set-apr-overlay",{attrs:{open:e.showAprTypeOverlay,close:e.closeAprTypeOverlay,"pre-selected-token":e.tokenSelected},on:{onConfirm:e.setBorrowRate,onClose:e.resetAprToggle}})],1)},r=[],i=n("5530"),s=(n("b64b"),n("d81d"),n("4de4"),n("d3b7"),n("b680"),n("14d9"),n("159b"),n("2f62")),o=n("901e"),d=n.n(o),u=n("913e"),c=[u["ETH"]],l=n("580f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mew-overlay",{attrs:{"show-overlay":e.open,title:e.header,close:e.callClose,"content-size":"xlarge"}},[0===e.step?n("aave-table",{attrs:{title:e.borrowTitle},on:{selectedBorrow:e.handleSelectedBorrow}}):e._e(),1===e.step?n("aave-amount-form",{attrs:{"selected-token":e.selectedToken,"action-type":e.borrowTitle,"show-toggle":e.aaveBorrowForm.showToggle,"left-side-values":e.aaveBorrowForm.leftSideValues,"right-side-values":e.aaveBorrowForm.rightSideValues,"form-text":e.aaveBorrowForm.formText,"button-title":e.aaveBorrowForm.buttonTitle,"token-balance":e.tokenBalance.toFixed(),"token-decimal":e.tokenDecimals},on:{cancel:e.handleCancel,emitValues:e.handleValues}}):e._e(),2===e.step?n("aave-select-interest",{attrs:{"selected-token":e.selectedTokenDetails},on:{continue:e.handleContinue}}):e._e(),3===e.step||4===e.step?n("aave-summary",{attrs:{"selected-token":e.selectedToken,amount:e.amount,step:e.step,apr:e.apr,"action-type":e.borrowTitle,"amount-usd":e.amountUsd},on:{onConfirm:e.handleConfirm}}):e._e()],1)},f=[],y=(n("99af"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-row",{staticClass:"align-end justify-space-between"},[e.hasSearch?n("v-col",{attrs:{cols:"12",sm:"6"}},[n("mew-search",{attrs:{placeholder:"Search Token Symbol",value:e.searchInput},on:{input:e.setSearchInput}})],1):e._e(),e.hasToggle?n("div",{staticClass:"align-end justify-center pa-3"},[n("v-btn-toggle",{attrs:{mandatory:"","active-class":"buttonToggleDark white--text"},model:{value:e.toggleType,callback:function(t){e.toggleType=t},expression:"toggleType"}},[n("v-btn",{attrs:{small:""}},[e._v("All")]),n("v-btn",{attrs:{small:""}},[e._v("Stable")])],1)],1):e._e(),n("v-col",{attrs:{cols:"12"}},[n("mew-table",{attrs:{"has-color":!1,"table-headers":e.header,"table-data":e.listData,"no-data-text":"You currently don't have any tokens.",loading:e.isLoadingData}})],1)],1)],1)}),m=[],b=(n("caad"),n("7db0"),n("25f0"),n("2532"),{deposit:"DEPOSIT",borrow:"BORROW",withdraw:"WITHDRAW",repay:"REPAY",balance_deposit:"BALANCE_DEPOSIT",balance_borrow:"BALANCE_BORROW"}),h={deposit:"deposit",borrow:"borrow",collateral:"collateral",interest:"interest",withdraw:"withdraw",repay:"repay",switch:"switch"},T={stable:"Stable",variable:"Variable"},g={deposit:{title:"Deposit",btnStyle:"background",colorTheme:"greenPrimary",disabled:!1},swap:{title:"Swap",btnStyle:"outline",colorTheme:"greenPrimary"},borrow:{title:"Borrow",btnStyle:"background",colorTheme:"greenPrimary"},withdraw:{title:"Withdraw",btnStyle:"outline",colorTheme:"greenPrimary"},repay:{title:"Repay",btnStyle:"transparent",colorTheme:"greenPrimary"}},v={deposit:[{text:"Token",value:"token",sortable:!0,width:"15%"},{text:"Available",value:"available",sortable:!0},{text:"Deposited",value:"deposited",sortable:!0},{text:"APY",value:"apy",sortable:!1,width:"14%"},{text:"",value:"callToAction",sortable:!1,width:"32%"}],borrow:[{text:"Token",value:"token",sortable:!1,width:"15%"},{text:"Available",value:"available",sortable:!0},{text:"Stable APY",value:"stableApy",sortable:!1,width:"15%"},{text:"Variable APY",value:"variableApy",sortable:!1,width:"15%"},{text:"",value:"callToAction",sortable:!1,width:"32%"}],balanceDeposit:[{text:"Token",value:"token",sortable:!1,filterable:!1,width:"20%"},{text:"Deposited",value:"balance",sortable:!1,filterable:!1,width:"20%"},{text:"APY",value:"apy",sortable:!1,filterable:!1,width:"20%"},{text:"Use as collateral",value:"toggle",sortable:!1,filterable:!1,width:"10%"},{text:"",value:"callToAction",sortable:!1,filterable:!1,containsLink:!0,width:"30%"}],balanceBorrow:[{text:"Token",value:"token",sortable:!1,filterable:!1},{text:"Borrowed",value:"balance",sortable:!1,filterable:!1},{text:"APY",value:"apy",sortable:!1,filterable:!1,containsLink:!0},{text:"APR Type",value:"toggle",sortable:!1,filterable:!1},{text:"",value:"callToAction",sortable:!1,filterable:!1,containsLink:!0,width:"32%"}]},w=n("ac8e"),O=n("db3a"),_=n("c7eb"),j=n("1da1"),A=n("b85c"),k=(n("3ca3"),n("ddb0"),n("b0c0"),n("d9e2"),n("c740"),n("4d8a")),x=n("f179");x["c"];var C;(function(e){e["DEPOSITOR"]="DEPOSITOR",e["BORROWER"]="BORROWER",e["LIQUIDATOR"]="LIQUIDATOR",e["STABLE_RATE_MANAGER"]="STABLE_RATE_MANAGER"})(C||(C={}));C.DEPOSITOR,C.BORROWER,C.LIQUIDATOR,C.STABLE_RATE_MANAGER;var S=n("9ab4");class P{static connect(e,t){return new x["b"](e,E,t)}}const E=[{inputs:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"}],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"}],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"}],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"}];var D,I;(function(e){e["eth"]="eth",e["usd"]="usd"})(D||(D={})),function(e){e["eth"]="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",e["usd"]="0x0000000000000000000000000000000000000348"}(I||(I={}));class R{constructor({provider:e,chainlinkFeedsRegistry:t}){if(this.latestRoundData=async(e,t)=>{if(!Object(k["isAddress"])(e))throw new Error("tokenAddress is not valid");return this._registryContract.latestRoundData(e,I[t])},this.decimals=async(e,t)=>{if(!Object(k["isAddress"])(e))throw new Error("tokenAddress is not valid");return this._registryContract.decimals(e,I[t])},this.getPriceFeed=async(e,t)=>{const n=await this.latestRoundData(e,t),a=await this.decimals(e,t);return{answer:n[1].toString(),updatedAt:n[3].toNumber(),decimals:a}},!Object(k["isAddress"])(t))throw new Error("contract address is not valid");this._registryContract=P.connect(t,e)}}var M=n("e36d"),B=n("0356");const U=30,N=60,L=async(e,t,n)=>{const a=await t.estimateGas(e),r=await t.getNetwork();return r.chainId===B["a"].polygon?a.add(a.mul(N).div(100)):a.add(a.mul(null!==n&&void 0!==n?n:U).div(100))};var F=n("bc86");class V{constructor(e,t){this.getContractInstance=e=>(this.contractInstances[e]||(this.contractInstances[e]=this.contractFactory.connect(e,this.provider)),this.contractInstances[e]),this.generateTxCallback=({rawTxMethod:e,from:t,value:n,gasSurplus:a,action:r})=>async()=>{const i=await e(),s=Object.assign(Object.assign({},i),{from:t,value:null!==n&&void 0!==n?n:F["c"]});return s.gasLimit=await L(s,this.provider,a),r&&F["i"][r]&&s.gasLimit.lte(M["a"].from(F["i"][r].limit))&&(s.gasLimit=M["a"].from(F["i"][r].recommended)),s},this.generateTxPriceEstimation=(e,t,n=B["c"].default)=>async(a=!1)=>{const r=await this.provider.getGasPrice(),i=e.find(e=>e.txType===B["d"].ERC20_APPROVAL);if(!i||a){const{gasLimit:e,gasPrice:n}=await t();if(!e)throw new Error("Transaction calculation error");return{gasLimit:e.toString(),gasPrice:n?n.toString():r.toString()}}return{gasLimit:F["i"][n].recommended,gasPrice:r.toString()}},this.contractFactory=t,this.provider=e,this.contractInstances={}}}var H=n("6779"),W=n("f01d");function q(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.lendingPoolAddress)&&H["utils"].isAddress(this.flashLiquidationAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),Object(W["b"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LPFlahsLiquidationValidator] You need to pass valid addresses"),[])}}function G(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.poolAddress)&&H["utils"].isAddress(this.flashLiquidationAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),Object(W["b"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LPFlahsLiquidationValidator] You need to pass valid addresses"),[])}}function z(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.lendingPoolAddress)&&H["utils"].isAddress(this.repayWithCollateralAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LPRepayWithCollateralValidator] You need to pass valid addresses"),[])}}function Y(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.lendingPoolAddress)&&H["utils"].isAddress(this.swapCollateralAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LPSwapCollateralValidator] You need to pass valid addresses"),[])}}function K(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.poolAddress)&&H["utils"].isAddress(this.repayWithCollateralAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LPRepayWithCollateralValidator] You need to pass valid addresses"),[])}}function J(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.poolAddress)&&H["utils"].isAddress(this.swapCollateralAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LPSwapCollateralValidator] You need to pass valid addresses"),[])}}function Q(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.lendingPoolAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),Object(W["b"])(e,t,arguments),Object(W["a"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LendingPoolValidator] You need to pass valid addresses"),[])}}function Z(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.l2PoolAddress)&&H["utils"].isAddress(this.encoderAddress)?(Object(W["d"])(e,t,arguments),a.apply(this,arguments)):(console.error(`[L2PoolValidator] You need to pass valid addresses: l2pool: ${this.l2PoolAddress} encoder: ${this.encoderAddress}`),[])}}function $(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.poolAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),Object(W["b"])(e,t,arguments),Object(W["a"])(e,t,arguments),a.apply(this,arguments)):(console.error("[PoolValidator] You need to pass valid addresses"),[])}}function X(e,t,n){const a=n.value;n.value=function(){if(!H["utils"].isAddress(this.uiIncentiveDataProviderAddress))throw console.error("[UiIncentiveDataProviderValidator] You need to pass valid addresses"),new Error("UiIncentiveDataProviderAddress must be an eth valid address");return Object(W["g"])(e,t,arguments),a.apply(this,arguments)}}function ee(e,t,n){const a=n.value;n.value=function(){return Object(W["g"])(e,t,arguments),Object(W["e"])(e,t,arguments),a.apply(this,arguments)}}function te(e,t,n){const a=n.value;n.value=function(){return Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),a.apply(this,arguments)}}function ne(e,t,n){const a=n.value;n.value=function(){return Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),a.apply(this,arguments)}}function ae(e,t,n){const a=n.value;n.value=function(){return Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),Object(W["b"])(e,t,arguments),a.apply(this,arguments)}}function re(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.liquiditySwapAdapterAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),Object(W["b"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LiquiditySwapValidator] You need to pass valid addresses"),[])}}function ie(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.repayWithCollateralAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),Object(W["b"])(e,t,arguments),a.apply(this,arguments)):(console.error("[RepayWithCollateralValidator] You need to pass valid addresses"),[])}}function se(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.stakingContractAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),Object(W["b"])(e,t,arguments),a.apply(this,arguments)):(console.error("[StakingValidator] You need to pass valid addresses"),[])}}function oe(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.stakingContractAddress)&&H["utils"].isAddress(this.stakingHelperContractAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),Object(W["a"])(e,t,arguments),a.apply(this,arguments)):(console.error("[StakingValidator] You need to pass valid addresses"),[])}}function de(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.faucetAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),a.apply(this,arguments)):(console.error("[FaucetValidator] You need to pass valid addresses"),[])}}function ue(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.wethGatewayAddress)?(Object(W["g"])(e,t,arguments),Object(W["c"])(e,t,arguments),Object(W["b"])(e,t,arguments),Object(W["a"])(e,t,arguments),a.apply(this,arguments)):(console.error("[WethGatewayValidator] You need to pass valid addresses"),[])}}function ce(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.aaveGovernanceV2Address)&&H["utils"].isAddress(this.aaveGovernanceV2HelperAddress)?(Object(W["g"])(e,t,arguments),Object(W["a"])(e,t,arguments),Object(W["e"])(e,t,arguments),a.apply(this,arguments)):(console.error("[GovernanceValidator] You need to pass valid addresses"),[])}}function le(e,t,n){const a=n.value;n.value=function(){return H["utils"].isAddress(this.aaveGovernanceV2Address)?(Object(W["g"])(e,t,arguments),Object(W["a"])(e,t,arguments),a.apply(this,arguments)):(console.error("[GovernanceValidator] You need to pass valid addresses"),[])}}function pe(e,t,n){const a=n.value;n.value=function(){return Object(W["g"])(e,t,arguments),Object(W["f"])(e,t,arguments),Object(W["c"])(e,t,arguments),Object(W["a"])(e,t,arguments),a.apply(this,arguments)}}function fe(e,t,n){const a=n.value;n.value=function(){return Object(W["g"])(e,t,arguments),a.apply(this,arguments)}}var ye=n("fbe8");const me=[{inputs:[{internalType:"contract IPoolAddressesProvider",name:"provider",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"getFullReservesIncentiveData",outputs:[{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"uint256",name:"emissionPerSecond",type:"uint256"},{internalType:"uint256",name:"incentivesLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesIndex",type:"uint256"},{internalType:"uint256",name:"emissionEndTimestamp",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"},{internalType:"uint8",name:"precision",type:"uint8"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.RewardInfo[]",name:"rewardsTokenInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.IncentiveData",name:"aIncentiveData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"uint256",name:"emissionPerSecond",type:"uint256"},{internalType:"uint256",name:"incentivesLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesIndex",type:"uint256"},{internalType:"uint256",name:"emissionEndTimestamp",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"},{internalType:"uint8",name:"precision",type:"uint8"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.RewardInfo[]",name:"rewardsTokenInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.IncentiveData",name:"vIncentiveData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"uint256",name:"emissionPerSecond",type:"uint256"},{internalType:"uint256",name:"incentivesLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesIndex",type:"uint256"},{internalType:"uint256",name:"emissionEndTimestamp",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"},{internalType:"uint8",name:"precision",type:"uint8"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.RewardInfo[]",name:"rewardsTokenInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.IncentiveData",name:"sIncentiveData",type:"tuple"}],internalType:"struct IUiIncentiveDataProviderV3.AggregatedReserveIncentiveData[]",name:"",type:"tuple[]"},{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"uint256",name:"userUnclaimedRewards",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesUserIndex",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.UserRewardInfo[]",name:"userRewardsInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.UserIncentiveData",name:"aTokenIncentivesUserData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"uint256",name:"userUnclaimedRewards",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesUserIndex",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.UserRewardInfo[]",name:"userRewardsInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.UserIncentiveData",name:"vTokenIncentivesUserData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"uint256",name:"userUnclaimedRewards",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesUserIndex",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.UserRewardInfo[]",name:"userRewardsInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.UserIncentiveData",name:"sTokenIncentivesUserData",type:"tuple"}],internalType:"struct IUiIncentiveDataProviderV3.UserReserveIncentiveData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPoolAddressesProvider",name:"provider",type:"address"}],name:"getReservesIncentivesData",outputs:[{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"uint256",name:"emissionPerSecond",type:"uint256"},{internalType:"uint256",name:"incentivesLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesIndex",type:"uint256"},{internalType:"uint256",name:"emissionEndTimestamp",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"},{internalType:"uint8",name:"precision",type:"uint8"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.RewardInfo[]",name:"rewardsTokenInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.IncentiveData",name:"aIncentiveData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"uint256",name:"emissionPerSecond",type:"uint256"},{internalType:"uint256",name:"incentivesLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesIndex",type:"uint256"},{internalType:"uint256",name:"emissionEndTimestamp",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"},{internalType:"uint8",name:"precision",type:"uint8"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.RewardInfo[]",name:"rewardsTokenInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.IncentiveData",name:"vIncentiveData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"uint256",name:"emissionPerSecond",type:"uint256"},{internalType:"uint256",name:"incentivesLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesIndex",type:"uint256"},{internalType:"uint256",name:"emissionEndTimestamp",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"},{internalType:"uint8",name:"precision",type:"uint8"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.RewardInfo[]",name:"rewardsTokenInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.IncentiveData",name:"sIncentiveData",type:"tuple"}],internalType:"struct IUiIncentiveDataProviderV3.AggregatedReserveIncentiveData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPoolAddressesProvider",name:"provider",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"getUserReservesIncentivesData",outputs:[{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"uint256",name:"userUnclaimedRewards",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesUserIndex",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.UserRewardInfo[]",name:"userRewardsInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.UserIncentiveData",name:"aTokenIncentivesUserData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"uint256",name:"userUnclaimedRewards",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesUserIndex",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.UserRewardInfo[]",name:"userRewardsInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.UserIncentiveData",name:"vTokenIncentivesUserData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"uint256",name:"userUnclaimedRewards",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesUserIndex",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.UserRewardInfo[]",name:"userRewardsInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.UserIncentiveData",name:"sTokenIncentivesUserData",type:"tuple"}],internalType:"struct IUiIncentiveDataProviderV3.UserReserveIncentiveData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}];class be{static createInterface(){return new H["utils"].Interface(me)}static connect(e,t){return new x["b"](e,me,t)}}be.abi=me;class he extends V{constructor({provider:e,uiIncentiveDataProviderAddress:t,chainId:n}){super(e,be),this._getFeed=async(e,t,n)=>{const a=await this._chainlinkFeedsRegistries[t].getPriceFeed(e,n);return Object.assign(Object.assign({},a),{rewardTokenAddress:e})},this.uiIncentiveDataProviderAddress=t,this._chainlinkFeedsRegistries={},this.chainId=n}async getFullReservesIncentiveData({user:e,lendingPoolAddressProvider:t}){const n=this.getContractInstance(this.uiIncentiveDataProviderAddress);return n.getFullReservesIncentiveData(t,e)}async getReservesIncentivesData({lendingPoolAddressProvider:e}){const t=this.getContractInstance(this.uiIncentiveDataProviderAddress);return t.getReservesIncentivesData(e)}async getUserReservesIncentivesData({user:e,lendingPoolAddressProvider:t}){const n=this.getContractInstance(this.uiIncentiveDataProviderAddress);return n.getUserReservesIncentivesData(t,e)}async getReservesIncentivesDataHumanized({lendingPoolAddressProvider:e}){const t=await this.getReservesIncentivesData({lendingPoolAddressProvider:e});return t.map(t=>({id:`${this.chainId}-${t.underlyingAsset}-${e}`.toLowerCase(),underlyingAsset:t.underlyingAsset.toLowerCase(),aIncentiveData:this._formatIncentiveData(t.aIncentiveData),vIncentiveData:this._formatIncentiveData(t.vIncentiveData),sIncentiveData:this._formatIncentiveData(t.sIncentiveData)}))}async getUserReservesIncentivesDataHumanized({user:e,lendingPoolAddressProvider:t}){const n=await this.getUserReservesIncentivesData({user:e,lendingPoolAddressProvider:t});return n.map(n=>({id:`${this.chainId}-${e}-${n.underlyingAsset}-${t}`.toLowerCase(),underlyingAsset:n.underlyingAsset.toLowerCase(),aTokenIncentivesUserData:this._formatUserIncentiveData(n.aTokenIncentivesUserData),vTokenIncentivesUserData:this._formatUserIncentiveData(n.vTokenIncentivesUserData),sTokenIncentivesUserData:this._formatUserIncentiveData(n.sTokenIncentivesUserData)}))}async getIncentivesDataWithPriceLegacy({lendingPoolAddressProvider:e,chainlinkFeedsRegistry:t,quote:n=D.eth}){const a=await this.getReservesIncentivesDataHumanized({lendingPoolAddressProvider:e}),r=[];if(t&&Object(k["isAddress"])(t)){this._chainlinkFeedsRegistries[t]||(this._chainlinkFeedsRegistries[t]=new R({provider:this.provider,chainlinkFeedsRegistry:t}));const e=new Set;a.forEach(t=>{t.aIncentiveData.rewardsTokenInformation.map(t=>e.add(t.rewardTokenAddress)),t.vIncentiveData.rewardsTokenInformation.map(t=>e.add(t.rewardTokenAddress)),t.sIncentiveData.rewardsTokenInformation.map(t=>e.add(t.rewardTokenAddress))});const i=Array.from(e),s=i.map(e=>this._getFeed(e,t,n)),o=await Promise.allSettled(s);o.forEach(e=>{"fulfilled"===e.status&&r.push(e.value)})}return a.map(t=>({id:`${this.chainId}-${t.underlyingAsset}-${e}`.toLowerCase(),underlyingAsset:t.underlyingAsset,aIncentiveData:Object.assign(Object.assign({},t.aIncentiveData),{rewardsTokenInformation:t.aIncentiveData.rewardsTokenInformation.map(e=>{const t=r.find(t=>t.rewardTokenAddress===e.rewardTokenAddress);return Object.assign(Object.assign({},e),{rewardPriceFeed:(null===t||void 0===t?void 0:t.answer)?t.answer:e.rewardPriceFeed,priceFeedDecimals:(null===t||void 0===t?void 0:t.decimals)?t.decimals:e.priceFeedDecimals})})}),vIncentiveData:Object.assign(Object.assign({},t.vIncentiveData),{rewardsTokenInformation:t.vIncentiveData.rewardsTokenInformation.map(e=>{const t=r.find(t=>t.rewardTokenAddress===e.rewardTokenAddress);return Object.assign(Object.assign({},e),{rewardPriceFeed:(null===t||void 0===t?void 0:t.answer)?t.answer:e.rewardPriceFeed,priceFeedDecimals:(null===t||void 0===t?void 0:t.decimals)?t.decimals:e.priceFeedDecimals})})}),sIncentiveData:Object.assign(Object.assign({},t.sIncentiveData),{rewardsTokenInformation:t.sIncentiveData.rewardsTokenInformation.map(e=>{const t=r.find(t=>t.rewardTokenAddress===e.rewardTokenAddress);return Object.assign(Object.assign({},e),{rewardPriceFeed:(null===t||void 0===t?void 0:t.answer)?t.answer:e.rewardPriceFeed,priceFeedDecimals:(null===t||void 0===t?void 0:t.decimals)?t.decimals:e.priceFeedDecimals})})})}))}_formatIncentiveData(e){return{tokenAddress:e.tokenAddress,incentiveControllerAddress:e.incentiveControllerAddress,rewardsTokenInformation:e.rewardsTokenInformation.map(e=>({precision:e.precision,rewardTokenAddress:e.rewardTokenAddress,rewardTokenDecimals:e.rewardTokenDecimals,emissionPerSecond:e.emissionPerSecond.toString(),incentivesLastUpdateTimestamp:e.incentivesLastUpdateTimestamp.toNumber(),tokenIncentivesIndex:e.tokenIncentivesIndex.toString(),emissionEndTimestamp:e.emissionEndTimestamp.toNumber(),rewardTokenSymbol:e.rewardTokenSymbol,rewardOracleAddress:e.rewardOracleAddress,rewardPriceFeed:e.rewardPriceFeed.toString(),priceFeedDecimals:e.priceFeedDecimals}))}}_formatUserIncentiveData(e){return{tokenAddress:e.tokenAddress,incentiveControllerAddress:e.incentiveControllerAddress,userRewardsInformation:e.userRewardsInformation.map(e=>({rewardTokenAddress:e.rewardTokenAddress,rewardTokenDecimals:e.rewardTokenDecimals,tokenIncentivesUserIndex:e.tokenIncentivesUserIndex.toString(),userUnclaimedRewards:e.userUnclaimedRewards.toString(),rewardTokenSymbol:e.rewardTokenSymbol,rewardOracleAddress:e.rewardOracleAddress,rewardPriceFeed:e.rewardPriceFeed.toString(),priceFeedDecimals:e.priceFeedDecimals}))}}}Object(S["__decorate"])([X,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("lendingPoolAddressProvider")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],he.prototype,"getFullReservesIncentiveData",null),Object(S["__decorate"])([X,Object(S["__param"])(0,Object(ye["d"])("lendingPoolAddressProvider")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],he.prototype,"getReservesIncentivesData",null),Object(S["__decorate"])([X,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("lendingPoolAddressProvider")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],he.prototype,"getUserReservesIncentivesData",null),Object(S["__decorate"])([X,Object(S["__param"])(0,Object(ye["d"])("lendingPoolAddressProvider")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],he.prototype,"getReservesIncentivesDataHumanized",null),Object(S["__decorate"])([X,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("lendingPoolAddressProvider")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],he.prototype,"getUserReservesIncentivesDataHumanized",null),Object(S["__decorate"])([X,Object(S["__param"])(0,Object(ye["d"])("lendingPoolAddressProvider")),Object(S["__param"])(0,Object(ye["d"])("chainlinkFeedsRegistry")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],he.prototype,"getIncentivesDataWithPriceLegacy",null);const Te=[{inputs:[{internalType:"contract IPoolAddressesProvider",name:"provider",type:"address"}],name:"getReservesData",outputs:[{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"decimals",type:"uint256"},{internalType:"uint256",name:"baseLTVasCollateral",type:"uint256"},{internalType:"uint256",name:"reserveLiquidationThreshold",type:"uint256"},{internalType:"uint256",name:"reserveLiquidationBonus",type:"uint256"},{internalType:"uint256",name:"reserveFactor",type:"uint256"},{internalType:"bool",name:"usageAsCollateralEnabled",type:"bool"},{internalType:"bool",name:"borrowingEnabled",type:"bool"},{internalType:"bool",name:"stableBorrowRateEnabled",type:"bool"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"bool",name:"isFrozen",type:"bool"},{internalType:"uint128",name:"liquidityIndex",type:"uint128"},{internalType:"uint128",name:"variableBorrowIndex",type:"uint128"},{internalType:"uint128",name:"liquidityRate",type:"uint128"},{internalType:"uint128",name:"variableBorrowRate",type:"uint128"},{internalType:"uint128",name:"stableBorrowRate",type:"uint128"},{internalType:"uint40",name:"lastUpdateTimestamp",type:"uint40"},{internalType:"address",name:"aTokenAddress",type:"address"},{internalType:"address",name:"stableDebtTokenAddress",type:"address"},{internalType:"address",name:"variableDebtTokenAddress",type:"address"},{internalType:"address",name:"interestRateStrategyAddress",type:"address"},{internalType:"uint256",name:"availableLiquidity",type:"uint256"},{internalType:"uint256",name:"totalPrincipalStableDebt",type:"uint256"},{internalType:"uint256",name:"averageStableRate",type:"uint256"},{internalType:"uint256",name:"stableDebtLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"totalScaledVariableDebt",type:"uint256"},{internalType:"uint256",name:"priceInMarketReferenceCurrency",type:"uint256"},{internalType:"address",name:"priceOracle",type:"address"},{internalType:"uint256",name:"variableRateSlope1",type:"uint256"},{internalType:"uint256",name:"variableRateSlope2",type:"uint256"},{internalType:"uint256",name:"stableRateSlope1",type:"uint256"},{internalType:"uint256",name:"stableRateSlope2",type:"uint256"},{internalType:"uint256",name:"baseStableBorrowRate",type:"uint256"},{internalType:"uint256",name:"baseVariableBorrowRate",type:"uint256"},{internalType:"uint256",name:"optimalUsageRatio",type:"uint256"},{internalType:"bool",name:"isPaused",type:"bool"},{internalType:"bool",name:"isSiloedBorrowing",type:"bool"},{internalType:"uint128",name:"accruedToTreasury",type:"uint128"},{internalType:"uint128",name:"unbacked",type:"uint128"},{internalType:"uint128",name:"isolationModeTotalDebt",type:"uint128"},{internalType:"uint256",name:"debtCeiling",type:"uint256"},{internalType:"uint256",name:"debtCeilingDecimals",type:"uint256"},{internalType:"uint8",name:"eModeCategoryId",type:"uint8"},{internalType:"uint256",name:"borrowCap",type:"uint256"},{internalType:"uint256",name:"supplyCap",type:"uint256"},{internalType:"uint16",name:"eModeLtv",type:"uint16"},{internalType:"uint16",name:"eModeLiquidationThreshold",type:"uint16"},{internalType:"uint16",name:"eModeLiquidationBonus",type:"uint16"},{internalType:"address",name:"eModePriceSource",type:"address"},{internalType:"string",name:"eModeLabel",type:"string"},{internalType:"bool",name:"borrowableInIsolation",type:"bool"}],internalType:"struct IUiPoolDataProviderV3.AggregatedReserveData[]",name:"",type:"tuple[]"},{components:[{internalType:"uint256",name:"marketReferenceCurrencyUnit",type:"uint256"},{internalType:"int256",name:"marketReferenceCurrencyPriceInUsd",type:"int256"},{internalType:"int256",name:"networkBaseTokenPriceInUsd",type:"int256"},{internalType:"uint8",name:"networkBaseTokenPriceDecimals",type:"uint8"}],internalType:"struct IUiPoolDataProviderV3.BaseCurrencyInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPoolAddressesProvider",name:"provider",type:"address"}],name:"getReservesList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPoolAddressesProvider",name:"provider",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"getUserReservesData",outputs:[{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{internalType:"uint256",name:"scaledATokenBalance",type:"uint256"},{internalType:"bool",name:"usageAsCollateralEnabledOnUser",type:"bool"},{internalType:"uint256",name:"stableBorrowRate",type:"uint256"},{internalType:"uint256",name:"scaledVariableDebt",type:"uint256"},{internalType:"uint256",name:"principalStableDebt",type:"uint256"},{internalType:"uint256",name:"stableBorrowLastUpdateTimestamp",type:"uint256"}],internalType:"struct IUiPoolDataProviderV3.UserReserveData[]",name:"",type:"tuple[]"},{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"}];class ge{static createInterface(){return new H["utils"].Interface(Te)}static connect(e,t){return new x["b"](e,Te,t)}}ge.abi=Te;x["c"];class ve{static connect(e,t){return new x["b"](e,we,t)}}const we=[{inputs:[],name:"getGeneralStakeUIData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"}],internalType:"struct StakeUIHelperI.GeneralStakeUIData",name:"",type:"tuple"},{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"}],internalType:"struct StakeUIHelperI.GeneralStakeUIData",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getStkAaveData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"},{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.AssetUIData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getStkBptData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"},{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.AssetUIData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStkGeneralAaveData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"}],internalType:"struct StakeUIHelperI.GeneralStakeUIData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStkGeneralBptData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"}],internalType:"struct StakeUIHelperI.GeneralStakeUIData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getStkUserAaveData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getStkUserBptData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"user",type:"address[]"}],name:"getStkUsersAaveData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"user",type:"address[]"}],name:"getStkUsersBptData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserStakeUIData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData",name:"",type:"tuple"},{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserUIData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"},{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.AssetUIData",name:"",type:"tuple"},{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"},{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.AssetUIData",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"user",type:"address[]"}],name:"getUsersStakeUIData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData[]",name:"",type:"tuple[]"},{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData[]",name:"",type:"tuple[]"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class Oe{constructor(e){this._contract=ve.connect(e.uiStakeDataProvider,e.provider)}async getUserStakeUIData({user:e}){return this._contract.getUserStakeUIData(e)}async getUserStakeUIDataHumanized({user:e}){const{0:t,1:n,2:a}=await this.getUserStakeUIData({user:e});return{aave:{stakeTokenUserBalance:t.stakeTokenUserBalance.toString(),underlyingTokenUserBalance:t.underlyingTokenUserBalance.toString(),userCooldown:t.userCooldown.toNumber(),userIncentivesToClaim:t.userIncentivesToClaim.toString(),userPermitNonce:t.userPermitNonce.toString()},bpt:{stakeTokenUserBalance:n.stakeTokenUserBalance.toString(),underlyingTokenUserBalance:n.underlyingTokenUserBalance.toString(),userCooldown:n.userCooldown.toNumber(),userIncentivesToClaim:n.userIncentivesToClaim.toString(),userPermitNonce:n.userPermitNonce.toString()},usdPriceEth:a.toString()}}async getGeneralStakeUIData(){return this._contract.getGeneralStakeUIData()}async getGeneralStakeUIDataHumanized(){const{0:e,1:t,2:n}=await this.getGeneralStakeUIData();return{aave:{stakeTokenTotalSupply:e.stakeTokenTotalSupply.toString(),stakeCooldownSeconds:e.stakeCooldownSeconds.toNumber(),stakeUnstakeWindow:e.stakeUnstakeWindow.toNumber(),stakeTokenPriceEth:e.stakeTokenPriceEth.toString(),rewardTokenPriceEth:e.rewardTokenPriceEth.toString(),stakeApy:e.stakeApy.toString(),distributionPerSecond:e.distributionPerSecond.toString(),distributionEnd:e.distributionEnd.toString()},bpt:{stakeTokenTotalSupply:t.stakeTokenTotalSupply.toString(),stakeCooldownSeconds:t.stakeCooldownSeconds.toNumber(),stakeUnstakeWindow:t.stakeUnstakeWindow.toNumber(),stakeTokenPriceEth:t.stakeTokenPriceEth.toString(),rewardTokenPriceEth:t.rewardTokenPriceEth.toString(),stakeApy:t.stakeApy.toString(),distributionPerSecond:t.distributionPerSecond.toString(),distributionEnd:t.distributionEnd.toString()},usdPriceEth:n.toString()}}}Object(S["__decorate"])([fe,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Oe.prototype,"getUserStakeUIData",null),Object(S["__decorate"])([fe,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Oe.prototype,"getUserStakeUIDataHumanized",null);class _e{static connect(e,t){return new x["b"](e,je,t)}}const je=[{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];class Ae extends V{constructor(e){super(e,_e)}claimRewards({user:e,assets:t,to:n,incentivesControllerAddress:a}){const r=this.getContractInstance(a),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.claimRewards(t,H["constants"].MaxUint256.toString(),null!==n&&void 0!==n?n:e),from:e});return[{tx:i,txType:B["d"].REWARD_ACTION,gas:this.generateTxPriceEstimation([],i)}]}}Object(S["__decorate"])([ee,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("incentivesControllerAddress")),Object(S["__param"])(0,Object(ye["d"])("to")),Object(S["__param"])(0,Object(ye["e"])("assets")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Array)],Ae.prototype,"claimRewards",null);const ke=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!1,internalType:"uint256",name:"emission",type:"uint256"},{indexed:!1,internalType:"uint256",name:"distributionEnd",type:"uint256"}],name:"AssetConfigUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!1,internalType:"uint256",name:"index",type:"uint256"}],name:"AssetIndexUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"claimer",type:"address"}],name:"ClaimerSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!0,internalType:"address",name:"rewardOracle",type:"address"}],name:"RewardOracleUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardsAccrued",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"address",name:"claimer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardsClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!0,internalType:"address",name:"transferStrategy",type:"address"}],name:"TransferStrategyInstalled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!1,internalType:"uint256",name:"index",type:"uint256"}],name:"UserIndexUpdated",type:"event"},{inputs:[],name:"PRECISION",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"claimAllRewards",outputs:[{internalType:"address[]",name:"rewardsList",type:"address[]"},{internalType:"uint256[]",name:"claimedAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"claimAllRewardsOnBehalf",outputs:[{internalType:"address[]",name:"rewardsList",type:"address[]"},{internalType:"uint256[]",name:"claimedAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"}],name:"claimAllRewardsToSelf",outputs:[{internalType:"address[]",name:"rewardsList",type:"address[]"},{internalType:"uint256[]",name:"claimedAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"claimRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"claimRewardsOnBehalf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"reward",type:"address"}],name:"claimRewardsToSelf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint104",name:"emissionPerSecond",type:"uint104"},{internalType:"uint256",name:"totalSupply",type:"uint256"},{internalType:"uint40",name:"distributionEnd",type:"uint40"},{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"reward",type:"address"},{internalType:"contract ITransferStrategy",name:"transferStrategy",type:"address"},{internalType:"bytes",name:"transferStrategyParams",type:"bytes"},{internalType:"contract IEACAggregatorProxy",name:"rewardOracle",type:"address"}],internalType:"struct DistributionTypesV2.RewardsConfigInput[]",name:"config",type:"tuple[]"}],name:"configureAssets",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"address",name:"user",type:"address"}],name:"getAllUserRewardsBalance",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getClaimer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"getDistributionEnd",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"reward",type:"address"}],name:"getRewardOracle",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getRewardsByAsset",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"getRewardsData",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRewardsList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"reward",type:"address"}],name:"getTransferStrategy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"getUserAssetData",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"getUserRewardsBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"getUserUnclaimedRewardsFromStorage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"userBalance",type:"uint256"},{internalType:"uint256",name:"totalSupply",type:"uint256"}],name:"handleAction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"claimer",type:"address"}],name:"setClaimer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"reward",type:"address"},{internalType:"uint40",name:"distributionEnd",type:"uint40"}],name:"setDistributionEnd",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reward",type:"address"},{internalType:"contract IEACAggregatorProxy",name:"rewardOracle",type:"address"}],name:"setRewardOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reward",type:"address"},{internalType:"contract ITransferStrategy",name:"transferStrategy",type:"address"},{internalType:"bytes",name:"params",type:"bytes"}],name:"setTransferStrategy",outputs:[],stateMutability:"nonpayable",type:"function"}];class xe{static createInterface(){return new H["utils"].Interface(ke)}static connect(e,t){return new x["b"](e,ke,t)}}xe.abi=ke;class Ce extends V{constructor(e){super(e,xe)}claimRewards({user:e,assets:t,to:n,incentivesControllerAddress:a,reward:r}){const i=this.getContractInstance(a),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.claimRewards(t,H["constants"].MaxUint256.toString(),null!==n&&void 0!==n?n:e,r),from:e});return[{tx:s,txType:B["d"].REWARD_ACTION,gas:this.generateTxPriceEstimation([],s)}]}claimAllRewards({user:e,assets:t,to:n,incentivesControllerAddress:a}){const r=this.getContractInstance(a),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.claimAllRewards(t,null!==n&&void 0!==n?n:e),from:e});return[{tx:i,txType:B["d"].REWARD_ACTION,gas:this.generateTxPriceEstimation([],i)}]}}Object(S["__decorate"])([ee,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("incentivesControllerAddress")),Object(S["__param"])(0,Object(ye["d"])("to")),Object(S["__param"])(0,Object(ye["d"])("reward")),Object(S["__param"])(0,Object(ye["e"])("assets")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Array)],Ce.prototype,"claimRewards",null),Object(S["__decorate"])([ee,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("incentivesControllerAddress")),Object(S["__param"])(0,Object(ye["d"])("to")),Object(S["__param"])(0,Object(ye["e"])("assets")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Array)],Ce.prototype,"claimAllRewards",null);class Se{static connect(e,t){return new x["b"](e,Pe,t)}}const Pe=[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class Ee extends V{constructor(e){super(e,Se),this.tokenDecimals={},this.tokenMetadata={},this.approve=this.approve.bind(this),this.isApproved=this.isApproved.bind(this),this.getTokenData=this.getTokenData.bind(this),this.decimalsOf=this.decimalsOf.bind(this)}approve({user:e,token:t,spender:n,amount:a}){const r=this.getContractInstance(t),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.approve(n,a),from:e});return{tx:i,txType:B["d"].ERC20_APPROVAL,gas:this.generateTxPriceEstimation([],i)}}async isApproved({user:e,token:t,spender:n,amount:a}){if(t.toLowerCase()===F["a"].toLowerCase())return!0;const r=await this.decimalsOf(t),i=this.getContractInstance(t),s=await i.allowance(e,n),o="-1"===a?M["a"].from(F["e"]):M["a"].from(Object(F["l"])(a,r));return s.gte(o)}async decimalsOf(e){if(e.toLowerCase()===F["a"].toLowerCase())return 18;if(!this.tokenDecimals[e]){const t=this.getContractInstance(e);this.tokenDecimals[e]=await t.decimals()}return this.tokenDecimals[e]}async getTokenData(e){if(e.toLowerCase()===F["a"].toLowerCase())return{name:"Ethereum",symbol:"ETH",decimals:18,address:e};if(e.toLowerCase()==="0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2".toLowerCase())return{name:"Maker",symbol:"MKR",decimals:18,address:e};if(!this.tokenMetadata[e]){const{name:t,symbol:n}=this.getContractInstance(e),[a,r,i]=await Promise.all([t(),n(),this.decimalsOf(e)]);this.tokenMetadata[e]={name:a,symbol:r,decimals:i,address:e}}return this.tokenMetadata[e]}}Object(S["__decorate"])([ae,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("token")),Object(S["__param"])(0,Object(ye["d"])("spender")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Object)],Ee.prototype,"approve",null),Object(S["__decorate"])([ae,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("token")),Object(S["__param"])(0,Object(ye["d"])("spender")),Object(S["__param"])(0,Object(ye["n"])("amount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ee.prototype,"isApproved",null),Object(S["__decorate"])([ae,Object(S["__param"])(0,Object(ye["d"])()),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[String]),Object(S["__metadata"])("design:returntype",Promise)],Ee.prototype,"decimalsOf",null),Object(S["__decorate"])([ae,Object(S["__param"])(0,Object(ye["d"])()),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[String]),Object(S["__metadata"])("design:returntype",Promise)],Ee.prototype,"getTokenData",null);class De{static connect(e,t){return new x["b"](e,Ie,t)}}const Ie=[{inputs:[{internalType:"address",name:"assetToSwapFrom",type:"address"},{internalType:"address",name:"assetToSwapTo",type:"address"},{internalType:"uint256",name:"amountToSwap",type:"uint256"},{internalType:"uint256",name:"minAmountToReceive",type:"uint256"},{internalType:"uint256",name:"swapAllBalanceOffset",type:"uint256"},{internalType:"bytes",name:"swapCalldata",type:"bytes"},{internalType:"address",name:"augustus",type:"address"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IParaSwapLiquiditySwapAdapter.PermitSignature",name:"permitParams",type:"tuple"}],name:"swapAndDeposit",outputs:[],stateMutability:"nonpayable",type:"function"}];function Re(e){switch(e.slice(0,10)){case"0xda8567c8":return 100;case"0x58b9d179":return 4;case"0x0863b7ac":return 68;case"0x8f00eccb":return 68;case"0xec1d21dd":return 68;case"0x54840d1a":return 4;case"0xf5661034":return 68;case"0x0b86a4c1":return 36;case"0x64466805":return 68;case"0xa94e78ef":return 68;case"0x46c67b6d":return 68;default:throw new Error("Unrecognized function selector for Augustus")}}class Me extends V{constructor(e,t){super(e,De),this.liquiditySwapAdapterAddress=null!==t&&void 0!==t?t:"",this.swapAndDeposit=this.swapAndDeposit.bind(this)}swapAndDeposit({user:e,assetToSwapFrom:t,assetToSwapTo:n,amountToSwap:a,minAmountToReceive:r,permitParams:i,augustus:s,swapCallData:o,swapAll:d},u){const c=this.getContractInstance(this.liquiditySwapAdapterAddress),l=this.generateTxCallback({rawTxMethod:async()=>c.populateTransaction.swapAndDeposit(t,n,a,r,d?Re(o):0,o,s,i),from:e});return{tx:l,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(null!==u&&void 0!==u?u:[],l,B["c"].swapCollateral)}}}Object(S["__decorate"])([re,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("assetToSwapFrom")),Object(S["__param"])(0,Object(ye["d"])("assetToSwapTo")),Object(S["__param"])(0,Object(ye["d"])("augustus")),Object(S["__param"])(0,Object(ye["l"])("amountToSwap")),Object(S["__param"])(0,Object(ye["l"])("minAmountToReceive")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object,Array]),Object(S["__metadata"])("design:returntype",Object)],Me.prototype,"swapAndDeposit",null);const Be=[{inputs:[{internalType:"contract IPoolAddressesProvider",name:"addressesProvider",type:"address"},{internalType:"contract IParaSwapAugustusRegistry",name:"augustusRegistry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"fromAsset",type:"address"},{indexed:!0,internalType:"address",name:"toAsset",type:"address"},{indexed:!1,internalType:"uint256",name:"amountSold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"receivedAmount",type:"uint256"}],name:"Bought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"fromAsset",type:"address"},{indexed:!0,internalType:"address",name:"toAsset",type:"address"},{indexed:!1,internalType:"uint256",name:"fromAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"receivedAmount",type:"uint256"}],name:"Swapped",type:"event"},{inputs:[],name:"ADDRESSES_PROVIDER",outputs:[{internalType:"contract IPoolAddressesProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"AUGUSTUS_REGISTRY",outputs:[{internalType:"contract IParaSwapAugustusRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_SLIPPAGE_PERCENT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ORACLE",outputs:[{internalType:"contract IPriceOracleGetter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"POOL",outputs:[{internalType:"contract IPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"premiums",type:"uint256[]"},{internalType:"address",name:"initiator",type:"address"},{internalType:"bytes",name:"params",type:"bytes"}],name:"executeOperation",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"}],name:"rescueTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20Detailed",name:"collateralAsset",type:"address"},{internalType:"contract IERC20Detailed",name:"debtAsset",type:"address"},{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"debtRepayAmount",type:"uint256"},{internalType:"uint256",name:"debtRateMode",type:"uint256"},{internalType:"uint256",name:"buyAllBalanceOffset",type:"uint256"},{internalType:"bytes",name:"paraswapData",type:"bytes"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct BaseParaSwapAdapter.PermitSignature",name:"permitSignature",type:"tuple"}],name:"swapAndRepay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Ue="0x6101006040523480156200001257600080fd5b506040516200333638038062003336833981016040819052620000359162000263565b81818180806001600160a01b03166080816001600160a01b031681525050806001600160a01b031663026b1d5f6040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000092573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620000b89190620002a2565b6001600160a01b031660a05250600080546001600160a01b031916339081178255604051909182917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a350806001600160a01b031663fca513a86040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000145573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200016b9190620002a2565b6001600160a01b0390811660c05260405163fb04e17b60e01b815260006004820152908316915063fb04e17b90602401602060405180830381865afa158015620001b9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620001df9190620002c9565b15620002315760405162461bcd60e51b815260206004820152601c60248201527f4e6f7420612076616c6964204175677573747573206164647265737300000000604482015260640160405180910390fd5b6001600160a01b031660e05250506001805550620002ed565b6001600160a01b03811681146200026057600080fd5b50565b600080604083850312156200027757600080fd5b825162000284816200024a565b602084015190925062000297816200024a565b809150509250929050565b600060208284031215620002b557600080fd5b8151620002c2816200024a565b9392505050565b600060208284031215620002dc57600080fd5b81518015158114620002c257600080fd5b60805160a05160c05160e051612fa06200039660003960008181610176015261111801526000818161014f015261237b0152600081816101b8015281816104bb015281816105750152818161064b015281816106e50152818161079f0152818161087501528181610a7001528181611a6801528181611b2601528181611bfe01528181611cc301528181611d5e01528181611fc6015261217b0152600060e70152612fa06000f3fe608060405234801561001057600080fd5b50600436106100c85760003560e01c80634db9dc97116100815780638da5cb5b1161005b5780638da5cb5b146101da578063920f5c84146101f8578063f2fde38b1461021b57600080fd5b80634db9dc9714610198578063715018a6146101ab5780637535d246146101b357600080fd5b806332e4b286116100b257806332e4b2861461013357806338013f021461014a5780633a8298671461017157600080fd5b8062ae3bf8146100cd5780630542975c146100e2575b600080fd5b6100e06100db366004612585565b61022e565b005b6101097f000000000000000000000000000000000000000000000000000000000000000081565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020015b60405180910390f35b61013c610bb881565b60405190815260200161012a565b6101097f000000000000000000000000000000000000000000000000000000000000000081565b6101097f000000000000000000000000000000000000000000000000000000000000000081565b6100e06101a63660046125eb565b610385565b6100e06108f4565b6101097f000000000000000000000000000000000000000000000000000000000000000081565b60005473ffffffffffffffffffffffffffffffffffffffff16610109565b61020b6102063660046126f9565b6109e4565b604051901515815260200161012a565b6100e0610229366004612585565b610c31565b60005473ffffffffffffffffffffffffffffffffffffffff1633146102b4576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064015b60405180910390fd5b6103826102d660005473ffffffffffffffffffffffffffffffffffffffff1690565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff8416906370a0823190602401602060405180830381865afa158015610340573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061036491906127d4565b73ffffffffffffffffffffffffffffffffffffffff84169190610de2565b50565b600260015414156103f2576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064016102ab565b60026001556104048886868933610ebb565b955061042089338961041b3686900386018661291f565b61108e565b60006104688585858080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152508f92508e91508d90508c6110b4565b90506000610476828a61296a565b905080156106a8576040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000081166004830152600060248301528c169063095ea7b3906044016020604051808303816000875af1158015610513573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105379190612981565b506040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018390528c169063095ea7b3906044016020604051808303816000875af11580156105cd573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105f19190612981565b506040517fe8eda9df00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8c8116600483015260248201839052336044830152600060648301527f0000000000000000000000000000000000000000000000000000000000000000169063e8eda9df90608401600060405180830381600087803b15801561068f57600080fd5b505af11580156106a3573d6000803e3d6000fd5b505050505b6040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000081166004830152600060248301528b169063095ea7b3906044016020604051808303816000875af115801561073d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107619190612981565b506040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018a90528b169063095ea7b3906044016020604051808303816000875af11580156107f7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061081b9190612981565b506040517f573ade8100000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8b81166004830152602482018a9052604482018990523360648301527f0000000000000000000000000000000000000000000000000000000000000000169063573ade81906084016020604051808303816000875af11580156108be573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108e291906127d4565b50506001805550505050505050505050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610975576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016102ab565b6000805460405173ffffffffffffffffffffffffffffffffffffffff909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080547fffffffffffffffffffffffff0000000000000000000000000000000000000000169055565b600060026001541415610a53576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064016102ab565b60026001553373ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001614610af7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f43414c4c45525f4d5553545f42455f504f4f4c0000000000000000000000000060448201526064016102ab565b600189148015610b075750600187145b8015610b135750600185145b610b9f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602760248201527f464c4153484c4f414e5f4d554c5449504c455f4153534554535f4e4f545f535560448201527f50504f525445440000000000000000000000000000000000000000000000000060648201526084016102ab565b600088886000818110610bb457610bb46129a3565b905060200201359050600087876000818110610bd257610bd26129a3565b905060200201359050600086905060008d8d6000818110610bf557610bf56129a3565b9050602002016020810190610c0a9190612585565b9050610c1a8787858585896119ed565b505060018080559c9b505050505050505050505050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610cb2576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016102ab565b73ffffffffffffffffffffffffffffffffffffffff8116610d55576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084016102ab565b6000805460405173ffffffffffffffffffffffffffffffffffffffff808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b6040517fa9059cbb0000000000000000000000000000000000000000000000000000000080825273ffffffffffffffffffffffffffffffffffffffff84166004830152602482018390529060008060448382895af1610e45573d6000803e3d6000fd5b50610e4f84611e35565b610eb5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f475076323a206661696c6564207472616e73666572000000000000000000000060448201526064016102ab565b50505050565b600080610ec787611f01565b905060006001876002811115610edf57610edf6129d2565b6002811115610ef057610ef06129d2565b14610f0057816101400151610f07565b8161012001515b6040517f70a0823100000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff86811660048301529192506000918316906370a0823190602401602060405180830381865afa158015610f79573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f9d91906127d4565b90508615611017578581111561100f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f494e53554646494349454e545f414d4f554e545f544f5f52455041590000000060448201526064016102ab565b809550611081565b80861115611081576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f494e56414c49445f444542545f52455041595f414d4f554e540000000000000060448201526064016102ab565b5093979650505050505050565b600061109985611f01565b610100015190506110ad8582868686612038565b5050505050565b6000806000878060200190518101906110cd9190612a73565b6040517ffb04e17b00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff80831660048301529294509092507f00000000000000000000000000000000000000000000000000000000000000009091169063fb04e17b90602401602060405180830381865afa158015611161573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111859190612981565b6111eb576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f494e56414c49445f41554755535455530000000000000000000000000000000060448201526064016102ab565b60006111f688612251565b60ff169050600061120688612251565b60ff16905060006112168a612333565b905060006112238a612333565b9050600061127b611238612710610bb86123e8565b61127561125061124988600a612c26565b87906123f8565b61126f6112686112618b600a612c26565b88906123f8565b8e906123f8565b90612422565b90612435565b9050808a111561130d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f6d6178416d6f756e74546f5377617020657863656564206d617820736c69707060448201527f616765000000000000000000000000000000000000000000000000000000000060648201526084016102ab565b50506040517f70a082310000000000000000000000000000000000000000000000000000000081523060048201526000935073ffffffffffffffffffffffffffffffffffffffff8b1692506370a082319150602401602060405180830381865afa15801561137f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113a391906127d4565b90508581101561140f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f494e53554646494349454e545f42414c414e43455f4245464f52455f5357415060448201526064016102ab565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015260009073ffffffffffffffffffffffffffffffffffffffff8916906370a0823190602401602060405180830381865afa15801561147c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114a091906127d4565b905060008373ffffffffffffffffffffffffffffffffffffffff1663d2c4b5986040518163ffffffff1660e01b8152600401602060405180830381865afa1580156114ef573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115139190612c42565b6040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff808316600483015260006024830152919250908b169063095ea7b3906044016020604051808303816000875af115801561158c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115b09190612981565b506040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8281166004830152602482018a90528b169063095ea7b3906044016020604051808303816000875af1158015611626573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061164a9190612981565b508b156116dd5760048c1015801561166e5750845161166a906020612478565b8c11155b6116d4576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f544f5f414d4f554e545f4f46465345545f4f55545f4f465f52414e474500000060448201526064016102ab565b8660208d018601525b60008473ffffffffffffffffffffffffffffffffffffffff16866040516117049190612c5f565b6000604051808303816000865af19150503d8060008114611741576040519150601f19603f3d011682016040523d82523d6000602084013e611746565b606091505b5050905080611759573d6000803e3d6000fd5b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015260009073ffffffffffffffffffffffffffffffffffffffff8d16906370a0823190602401602060405180830381865afa1580156117c6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117ea91906127d4565b90506117f6818661296a565b975089881115611862576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f57524f4e475f42414c414e43455f41465445525f53574150000000000000000060448201526064016102ab565b6040517f70a082310000000000000000000000000000000000000000000000000000000081523060048201526000906118ff90869073ffffffffffffffffffffffffffffffffffffffff8f16906370a0823190602401602060405180830381865afa1580156118d5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118f991906127d4565b90612478565b90508981101561196b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f494e53554646494349454e545f414d4f554e545f52454345495645440000000060448201526064016102ab565b8b73ffffffffffffffffffffffffffffffffffffffff168d73ffffffffffffffffffffffffffffffffffffffff167fbf77fd13a39d14dc0da779342c14105c38d9a5d0c60f2caa22f5fd1d5525416d8b846040516119d3929190918252602082015260400190565b60405180910390a350505050505050509695505050505050565b60008080808080611a008b8d018d612c7b565b955095509550955095509550611a19868486888d610ebb565b94506000611a2b85848b8a8c8b6110b4565b6040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000081166004830152600060248301529192509088169063095ea7b3906044016020604051808303816000875af1158015611ac4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ae89190612981565b506040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000811660048301526024820188905288169063095ea7b3906044016020604051808303816000875af1158015611b7e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ba29190612981565b506040517f573ade8100000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff888116600483015260248201889052604482018690528b811660648301527f0000000000000000000000000000000000000000000000000000000000000000169063573ade81906084016020604051808303816000875af1158015611c47573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611c6b91906127d4565b506000611c78828d6123e8565b9050611c868a8c838661108e565b6040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000081166004830152600060248301528b169063095ea7b3906044016020604051808303816000875af1158015611d1b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d3f9190612981565b508973ffffffffffffffffffffffffffffffffffffffff1663095ea7b37f0000000000000000000000000000000000000000000000000000000000000000611d908f8d6123e890919063ffffffff16565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e085901b16815273ffffffffffffffffffffffffffffffffffffffff909216600483015260248201526044016020604051808303816000875af1158015611e00573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e249190612981565b505050505050505050505050505050565b6000611e75565b7f08c379a00000000000000000000000000000000000000000000000000000000060005260206004528060245250806044525060646000fd5b3d8015611eb45760208114611eee57611eaf7f475076323a206d616c666f726d6564207472616e7366657220726573756c7400601f611e3c565b611efb565b823b611ee557611ee57f475076323a206e6f74206120636f6e74726163740000000000000000000000006014611e3c565b60019150611efb565b3d6000803e600051151591505b50919050565b604080516102008101825260006101e08201818152825260208201819052918101829052606081018290526080810182905260a0810182905260c0810182905260e08101829052610100810182905261012081018290526101408101829052610160810182905261018081018290526101a081018290526101c08101919091526040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff83811660048301527f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa15801561200e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906120329190612dc0565b92915050565b60208101511561210557805160208201516040808401516060850151608086015192517fd505accf00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff89811660048301523060248301526044820196909652606481019490945260ff909116608484015260a483015260c48201529085169063d505accf9060e401600060405180830381600087803b1580156120ec57600080fd5b505af1158015612100573d6000803e3d6000fd5b505050505b61212773ffffffffffffffffffffffffffffffffffffffff8516843085612488565b6040517f69328dec00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff86811660048301526024820184905230604483015283917f0000000000000000000000000000000000000000000000000000000000000000909116906369328dec906064016020604051808303816000875af11580156121c6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906121ea91906127d4565b146110ad576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f554e45585045435445445f414d4f554e545f57495448445241574e000000000060448201526064016102ab565b6000808273ffffffffffffffffffffffffffffffffffffffff1663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa15801561229f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122c39190612ee3565b9050604d8160ff161115612032576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f544f4f5f4d414e595f444543494d414c535f4f4e5f544f4b454e00000000000060448201526064016102ab565b6040517fb3596f0700000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff82811660048301526000917f00000000000000000000000000000000000000000000000000000000000000009091169063b3596f0790602401602060405180830381865afa1580156123c4573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061203291906127d4565b8082018281101561203257600080fd5b60008215806124195750508181028183828161241657612416612f00565b04145b61203257600080fd5b600061242e8284612f2f565b9392505050565b600081157fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec778390048411151761246a57600080fd5b506127109102611388010490565b8082038281111561203257600080fd5b6040517f23b872dd0000000000000000000000000000000000000000000000000000000080825273ffffffffffffffffffffffffffffffffffffffff8581166004840152841660248301526044820183905290600080606483828a5af16124f3573d6000803e3d6000fd5b506124fd85611e35565b6110ad576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f475076323a206661696c6564207472616e7366657246726f6d0000000000000060448201526064016102ab565b73ffffffffffffffffffffffffffffffffffffffff8116811461038257600080fd5b60006020828403121561259757600080fd5b813561242e81612563565b60008083601f8401126125b457600080fd5b50813567ffffffffffffffff8111156125cc57600080fd5b6020830191508360208285010111156125e457600080fd5b9250929050565b6000806000806000806000806000898b0361018081121561260b57600080fd5b8a3561261681612563565b995060208b013561262681612563565b985060408b0135975060608b0135965060808b0135955060a08b0135945060c08b013567ffffffffffffffff81111561265e57600080fd5b61266a8d828e016125a2565b90955093505060a07fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff20820112156126a057600080fd5b5060e08a0190509295985092959850929598565b60008083601f8401126126c657600080fd5b50813567ffffffffffffffff8111156126de57600080fd5b6020830191508360208260051b85010111156125e457600080fd5b600080600080600080600080600060a08a8c03121561271757600080fd5b893567ffffffffffffffff8082111561272f57600080fd5b61273b8d838e016126b4565b909b50995060208c013591508082111561275457600080fd5b6127608d838e016126b4565b909950975060408c013591508082111561277957600080fd5b6127858d838e016126b4565b909750955060608c0135915061279a82612563565b90935060808b013590808211156127b057600080fd5b506127bd8c828d016125a2565b915080935050809150509295985092959850929598565b6000602082840312156127e657600080fd5b5051919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040516101e0810167ffffffffffffffff81118282101715612840576128406127ed565b60405290565b604051601f82017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016810167ffffffffffffffff8111828210171561288d5761288d6127ed565b604052919050565b60ff8116811461038257600080fd5b600060a082840312156128b657600080fd5b60405160a0810181811067ffffffffffffffff821117156128d9576128d96127ed565b8060405250809150823581526020830135602082015260408301356128fd81612895565b8060408301525060608301356060820152608083013560808201525092915050565b600060a0828403121561293157600080fd5b61242e83836128a4565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60008282101561297c5761297c61293b565b500390565b60006020828403121561299357600080fd5b8151801515811461242e57600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b600067ffffffffffffffff821115612a1b57612a1b6127ed565b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b60005b83811015612a62578181015183820152602001612a4a565b83811115610eb55750506000910152565b60008060408385031215612a8657600080fd5b825167ffffffffffffffff811115612a9d57600080fd5b8301601f81018513612aae57600080fd5b8051612ac1612abc82612a01565b612846565b818152866020838501011115612ad657600080fd5b612ae7826020830160208601612a47565b8094505050506020830151612afb81612563565b809150509250929050565b600181815b80851115612b5f57817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04821115612b4557612b4561293b565b80851615612b5257918102915b93841c9390800290612b0b565b509250929050565b600082612b7657506001612032565b81612b8357506000612032565b8160018114612b995760028114612ba357612bbf565b6001915050612032565b60ff841115612bb457612bb461293b565b50506001821b612032565b5060208310610133831016604e8410600b8410161715612be2575081810a612032565b612bec8383612b06565b807fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04821115612c1e57612c1e61293b565b029392505050565b600061242e8383612b67565b8051612c3d81612563565b919050565b600060208284031215612c5457600080fd5b815161242e81612563565b60008251612c71818460208701612a47565b9190910192915050565b6000806000806000806101408789031215612c9557600080fd5b8635612ca081612563565b9550602087013594506040870135935060608701359250608087013567ffffffffffffffff811115612cd157600080fd5b8701601f81018913612ce257600080fd5b8035612cf0612abc82612a01565b8181528a6020838501011115612d0557600080fd5b81602084016020830137600060208383010152809450505050612d2b8860a089016128a4565b90509295509295509295565b600060208284031215612d4957600080fd5b6040516020810181811067ffffffffffffffff82111715612d6c57612d6c6127ed565b6040529151825250919050565b80516fffffffffffffffffffffffffffffffff81168114612c3d57600080fd5b805164ffffffffff81168114612c3d57600080fd5b805161ffff81168114612c3d57600080fd5b60006101e08284031215612dd357600080fd5b612ddb61281c565b612de58484612d37565b8152612df360208401612d79565b6020820152612e0460408401612d79565b6040820152612e1560608401612d79565b6060820152612e2660808401612d79565b6080820152612e3760a08401612d79565b60a0820152612e4860c08401612d99565b60c0820152612e5960e08401612dae565b60e0820152610100612e6c818501612c32565b90820152610120612e7e848201612c32565b90820152610140612e90848201612c32565b90820152610160612ea2848201612c32565b90820152610180612eb4848201612d79565b908201526101a0612ec6848201612d79565b908201526101c0612ed8848201612d79565b908201529392505050565b600060208284031215612ef557600080fd5b815161242e81612895565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b600082612f65577f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b50049056fea26469706673582212201ae79dd35f34ecf1387bee8e87022a83fa61b3a7ba8b1ecade15267edadaceb264736f6c634300080a0033";class Ne extends x["c"]{constructor(e){super(Be,Ue,e)}deploy(e,t,n){return super.deploy(e,t,n||{})}getDeployTransaction(e,t,n){return super.getDeployTransaction(e,t,n||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static createInterface(){return new H["utils"].Interface(Be)}static connect(e,t){return new x["b"](e,Be,t)}}Ne.bytecode=Ue,Ne.abi=Be;class Le extends V{constructor(e,t){super(e,Ne),this.repayWithCollateralAddress=null!==t&&void 0!==t?t:"",this.swapAndRepay=this.swapAndRepay.bind(this)}swapAndRepay({collateralAsset:e,debtAsset:t,collateralAmount:n,debtRepayAmount:a,debtRateMode:r,repayAll:i,permitParams:s,swapAndRepayCallData:o,user:d,augustus:u},c){const l=r===B["b"].Stable?1:2,p=this.getContractInstance(this.repayWithCollateralAddress),f=H["utils"].defaultAbiCoder.encode(["bytes","address"],[o,u]),y=this.generateTxCallback({rawTxMethod:async()=>p.populateTransaction.swapAndRepay(e,t,n,a,l,i?Object(F["g"])(o):0,f,s),from:d});return{tx:y,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(null!==c&&void 0!==c?c:[],y,B["c"].repayCollateral)}}}Object(S["__decorate"])([ie,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("collateralAsset")),Object(S["__param"])(0,Object(ye["d"])("debtAsset")),Object(S["__param"])(0,Object(ye["l"])("collateralAmount")),Object(S["__param"])(0,Object(ye["l"])("debtRepayAmount")),Object(S["__param"])(0,Object(ye["d"])("augustus")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object,Array]),Object(S["__metadata"])("design:returntype",Object)],Le.prototype,"swapAndRepay",null);class Fe{static connect(e,t){return new x["b"](e,Ve,t)}}const Ve=[{inputs:[{internalType:"address",name:"collateralAsset",type:"address"},{internalType:"address",name:"debtAsset",type:"address"},{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"debtRepayAmount",type:"uint256"},{internalType:"uint256",name:"debtRateMode",type:"uint256"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IRepayWithCollateral.PermitSignature",name:"permitSignature",type:"tuple"},{internalType:"bool",name:"useEthPath",type:"bool"}],name:"swapAndRepay",outputs:[],stateMutability:"nonpayable",type:"function"}];class He extends V{constructor(e,t){super(e,Fe),this.repayWithCollateralAddress=null!==t&&void 0!==t?t:"",this.swapAndRepay=this.swapAndRepay.bind(this)}swapAndRepay({user:e,collateralAsset:t,debtAsset:n,collateralAmount:a,debtRepayAmount:r,debtRateMode:i,permit:s,useEthPath:o},d){const u=i===B["b"].Stable?1:2,c=this.getContractInstance(this.repayWithCollateralAddress),l=this.generateTxCallback({rawTxMethod:async()=>c.populateTransaction.swapAndRepay(t,n,a,r,u,s,null!==o&&void 0!==o&&o),from:e});return{tx:l,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(null!==d&&void 0!==d?d:[],l,B["c"].repayCollateral)}}}Object(S["__decorate"])([ie,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("collateralAsset")),Object(S["__param"])(0,Object(ye["d"])("debtAsset")),Object(S["__param"])(0,Object(ye["l"])("collateralAmount")),Object(S["__param"])(0,Object(ye["l"])("debtRepayAmount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object,Array]),Object(S["__metadata"])("design:returntype",Object)],He.prototype,"swapAndRepay",null);class We{static connect(e,t){return new x["b"](e,qe,t)}}const qe=[{inputs:[{internalType:"address",name:"account",type:"address"}],name:"transferableSynthetix",outputs:[{internalType:"uint256",name:"transferable",type:"uint256"}],stateMutability:"view",type:"function"}],Ge={[B["a"].mainnet]:"0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f"};class ze extends V{constructor(e){super(e,We),this.synthetixValidation=this.synthetixValidation.bind(this)}async synthetixValidation({user:e,reserve:t,amount:n}){const{chainId:a}=await this.provider.getNetwork();if(Ge[a]&&t.toLowerCase()===Ge[a].toLowerCase()){const t=this.getContractInstance(Ge[a]),r=await t.transferableSynthetix(e);return M["a"].from(n).lte(r)}return!0}}Object(S["__decorate"])([ne,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],ze.prototype,"synthetixValidation",null);class Ye{static connect(e,t){return new x["b"](e,Ke,t)}}const Ke=[{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approveDelegation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"fromUser",type:"address"},{internalType:"address",name:"toUser",type:"address"}],name:"borrowAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class Je extends V{constructor(e,t){super(e,Ye),this.erc20Service=t}approveDelegation({user:e,delegatee:t,debtTokenAddress:n,amount:a}){const r=this.getContractInstance(n),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.approveDelegation(t,a),from:e});return{tx:i,txType:B["d"].ERC20_APPROVAL,gas:this.generateTxPriceEstimation([],i)}}async isDelegationApproved({debtTokenAddress:e,allowanceGiver:t,allowanceReceiver:n,amount:a}){const r=await this.erc20Service.decimalsOf(e),i=this.getContractInstance(e),s=await i.borrowAllowance(t,n),o=M["a"].from(Object(F["l"])(a,r));return s.gt(o)}}Object(S["__decorate"])([te,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("delegatee")),Object(S["__param"])(0,Object(ye["d"])("debtTokenAddress")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Object)],Je.prototype,"approveDelegation",null),Object(S["__decorate"])([te,Object(S["__param"])(0,Object(ye["d"])("debtTokenAddress")),Object(S["__param"])(0,Object(ye["d"])("allowanceGiver")),Object(S["__param"])(0,Object(ye["d"])("allowanceReceiver")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Je.prototype,"isDelegationApproved",null);class Qe{static connect(e,t){return new x["b"](e,Ze,t)}}const Ze=[{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interesRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"borrowETH",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"depositETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"repayETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"}];class $e extends V{constructor(e,t,n){super(e,Qe),this.erc20Service=t,this.baseDebtTokenService=new Je(this.provider,this.erc20Service),this.wethGatewayAddress=null!==n&&void 0!==n?n:"",this.depositETH=this.depositETH.bind(this),this.withdrawETH=this.withdrawETH.bind(this),this.repayETH=this.repayETH.bind(this),this.borrowETH=this.borrowETH.bind(this)}depositETH({lendingPool:e,user:t,amount:n,onBehalfOf:a,referralCode:r}){const i=Object(F["l"])(n,18),s=this.getContractInstance(this.wethGatewayAddress),o=this.generateTxCallback({rawTxMethod:async()=>s.populateTransaction.depositETH(e,null!==a&&void 0!==a?a:t,null!==r&&void 0!==r?r:"0"),from:t,value:i});return[{tx:o,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],o)}]}async borrowETH({lendingPool:e,user:t,amount:n,debtTokenAddress:a,interestRateMode:r,referralCode:i}){const s=[],o=Object(F["l"])(n,18),d=r===B["b"].Variable?2:1,u=await this.baseDebtTokenService.isDelegationApproved({debtTokenAddress:a,allowanceGiver:t,allowanceReceiver:this.wethGatewayAddress,amount:n});if(!u){const e=this.baseDebtTokenService.approveDelegation({user:t,delegatee:this.wethGatewayAddress,debtTokenAddress:a,amount:H["constants"].MaxUint256.toString()});s.push(e)}const c=this.getContractInstance(this.wethGatewayAddress),l=this.generateTxCallback({rawTxMethod:async()=>c.populateTransaction.borrowETH(e,o,d,null!==i&&void 0!==i?i:"0"),from:t});return s.push({tx:l,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(s,l,B["c"].borrowETH)}),s}async withdrawETH({lendingPool:e,user:t,amount:n,onBehalfOf:a,aTokenAddress:r}){const i=[],{isApproved:s,approve:o}=this.erc20Service,d="-1"===n?H["constants"].MaxUint256.toString():Object(F["l"])(n,18),u=await s({token:r,user:t,spender:this.wethGatewayAddress,amount:n});if(!u){const e=o({user:t,token:r,spender:this.wethGatewayAddress,amount:H["constants"].MaxUint256.toString()});i.push(e)}const c=this.getContractInstance(this.wethGatewayAddress),l=this.generateTxCallback({rawTxMethod:async()=>c.populateTransaction.withdrawETH(e,d,null!==a&&void 0!==a?a:t),from:t});return i.push({tx:l,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(i,l,B["c"].withdrawETH)}),i}repayETH({lendingPool:e,user:t,amount:n,interestRateMode:a,onBehalfOf:r}){const i=Object(F["l"])(n,18),s=a===B["b"].Variable?2:1,o=this.getContractInstance(this.wethGatewayAddress),d=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.repayETH(e,i,s,null!==r&&void 0!==r?r:t),gasSurplus:30,from:t,value:i});return[{tx:d,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],d)}]}}Object(S["__decorate"])([ue,Object(S["__param"])(0,Object(ye["d"])("lendingPool")),Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__param"])(0,Object(ye["a"])("referralCode")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Array)],$e.prototype,"depositETH",null),Object(S["__decorate"])([ue,Object(S["__param"])(0,Object(ye["d"])("lendingPool")),Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__param"])(0,Object(ye["d"])("debtTokenAddress")),Object(S["__param"])(0,Object(ye["a"])("referralCode")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],$e.prototype,"borrowETH",null),Object(S["__decorate"])([ue,Object(S["__param"])(0,Object(ye["d"])("lendingPool")),Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__param"])(0,Object(ye["n"])("amount")),Object(S["__param"])(0,Object(ye["d"])("aTokenAddress")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],$e.prototype,"withdrawETH",null),Object(S["__decorate"])([ue,Object(S["__param"])(0,Object(ye["d"])("lendingPool")),Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Array)],$e.prototype,"repayETH",null);class Xe{static connect(e,t){return new x["b"](e,et,t)}}const et=[{inputs:[],name:"FLASHLOAN_PREMIUM_TOTAL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"borrow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"modes",type:"uint256[]"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"bytes",name:"params",type:"bytes"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"flashLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"collateral",type:"address"},{internalType:"address",name:"reserve",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"purchaseAmount",type:"uint256"},{internalType:"bool",name:"receiveAToken",type:"bool"}],name:"liquidationCall",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"repay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"bool",name:"useAsCollateral",type:"bool"}],name:"setUserUseReserveAsCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"rateMode",type:"uint256"}],name:"swapBorrowRateMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],tt=(e,t,n,a,r,i,s,o,d,u)=>H["utils"].defaultAbiCoder.encode(["address","uint256","uint256","bytes","address","tuple(uint256,uint256,uint8,bytes32,bytes32)"],[e,t,n,a,r,[i,s,o,d,u]]);class nt extends V{constructor(e,t){super(e,Xe);const{LENDING_POOL:n,FLASH_LIQUIDATION_ADAPTER:a,REPAY_WITH_COLLATERAL_ADAPTER:r,SWAP_COLLATERAL_ADAPTER:i,WETH_GATEWAY:s}=null!==t&&void 0!==t?t:{};this.lendingPoolAddress=null!==n&&void 0!==n?n:"",this.flashLiquidationAddress=null!==a&&void 0!==a?a:"",this.swapCollateralAddress=null!==i&&void 0!==i?i:"",this.repayWithCollateralAddress=null!==r&&void 0!==r?r:"",this.erc20Service=new Ee(e),this.synthetixService=new ze(e),this.wethGatewayService=new $e(e,this.erc20Service,s),this.liquiditySwapAdapterService=new Me(e,i),this.repayWithCollateralAdapterService=new He(e,r),this.paraswapRepayWithCollateralAdapterService=new Le(e,r)}async deposit({user:e,reserve:t,amount:n,onBehalfOf:a,referralCode:r}){if(t.toLowerCase()===F["a"].toLowerCase())return this.wethGatewayService.depositETH({lendingPool:this.lendingPoolAddress,user:e,amount:n,onBehalfOf:a,referralCode:r});const{isApproved:i,approve:s,decimalsOf:o}=this.erc20Service,d=[],u=await o(t),c=Object(F["l"])(n,u),l=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:c});if(!l)throw new Error("Not enough funds to execute operation");const p=await i({token:t,user:e,spender:this.lendingPoolAddress,amount:n});if(!p){const n=s({user:e,token:t,spender:this.lendingPoolAddress,amount:F["b"]});d.push(n)}const f=this.getContractInstance(this.lendingPoolAddress),y=this.generateTxCallback({rawTxMethod:async()=>f.populateTransaction.deposit(t,c,null!==a&&void 0!==a?a:e,null!==r&&void 0!==r?r:"0"),from:e,value:Object(F["j"])(t,c)});return d.push({tx:y,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,y,B["c"].deposit)}),d}async withdraw({user:e,reserve:t,amount:n,onBehalfOf:a,aTokenAddress:r}){if(t.toLowerCase()===F["a"].toLowerCase()){if(!r)throw new Error("To withdraw ETH you need to pass the aWETH token address");return this.wethGatewayService.withdrawETH({lendingPool:this.lendingPoolAddress,user:e,amount:n,onBehalfOf:a,aTokenAddress:r})}const{decimalsOf:i}=this.erc20Service,s=await i(t),o="-1"===n?H["constants"].MaxUint256.toString():Object(F["l"])(n,s),d=this.getContractInstance(this.lendingPoolAddress),u=this.generateTxCallback({rawTxMethod:async()=>d.populateTransaction.withdraw(t,o,null!==a&&void 0!==a?a:e),from:e,action:B["c"].withdraw});return[{tx:u,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],u,B["c"].withdraw)}]}async borrow({user:e,reserve:t,amount:n,interestRateMode:a,debtTokenAddress:r,onBehalfOf:i,referralCode:s}){if(t.toLowerCase()===F["a"].toLowerCase()){if(!r)throw new Error("To borrow ETH you need to pass the stable or variable WETH debt Token Address corresponding the interestRateMode");return this.wethGatewayService.borrowETH({lendingPool:this.lendingPoolAddress,user:e,amount:n,debtTokenAddress:r,interestRateMode:a,referralCode:s})}const{decimalsOf:o}=this.erc20Service,d=await o(t),u=Object(F["l"])(n,d),c=a===B["b"].Variable?2:1,l=this.getContractInstance(this.lendingPoolAddress),p=this.generateTxCallback({rawTxMethod:async()=>l.populateTransaction.borrow(t,u,c,null!==s&&void 0!==s?s:0,null!==i&&void 0!==i?i:e),from:e});return[{tx:p,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],p)}]}async repay({user:e,reserve:t,amount:n,interestRateMode:a,onBehalfOf:r}){if(t.toLowerCase()===F["a"].toLowerCase())return this.wethGatewayService.repayETH({lendingPool:this.lendingPoolAddress,user:e,amount:n,interestRateMode:a,onBehalfOf:r});const i=[],{isApproved:s,approve:o,decimalsOf:d}=this.erc20Service,u=this.getContractInstance(this.lendingPoolAddress),{populateTransaction:c}=u,l=a===B["b"].Variable?2:1,p=await d(t),f="-1"===n?H["constants"].MaxUint256.toString():Object(F["l"])(n,p);if("-1"!==n){const n=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:f});if(!n)throw new Error("Not enough funds to execute operation")}const y=await s({token:t,user:e,spender:this.lendingPoolAddress,amount:n});if(!y){const n=o({user:e,token:t,spender:this.lendingPoolAddress,amount:F["b"]});i.push(n)}const m=this.generateTxCallback({rawTxMethod:async()=>c.repay(t,f,l,null!==r&&void 0!==r?r:e),from:e,value:Object(F["j"])(t,f)});return i.push({tx:m,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(i,m,B["c"].repay)}),i}swapBorrowRateMode({user:e,reserve:t,interestRateMode:n}){const a=n===B["b"].Variable?2:1,r=this.getContractInstance(this.lendingPoolAddress),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.swapBorrowRateMode(t,a),from:e});return[{txType:B["d"].DLP_ACTION,tx:i,gas:this.generateTxPriceEstimation([],i)}]}setUsageAsCollateral({user:e,reserve:t,usageAsCollateral:n}){const a=this.getContractInstance(this.lendingPoolAddress),r=this.generateTxCallback({rawTxMethod:async()=>a.populateTransaction.setUserUseReserveAsCollateral(t,n),from:e});return[{tx:r,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],r)}]}async liquidationCall({liquidator:e,liquidatedUser:t,debtReserve:n,collateralReserve:a,purchaseAmount:r,getAToken:i,liquidateAll:s}){const o=[],{isApproved:d,approve:u,decimalsOf:c}=this.erc20Service,l=await d({token:n,user:e,spender:this.lendingPoolAddress,amount:r});if(!l){const t=u({user:e,token:n,spender:this.lendingPoolAddress,amount:F["b"]});o.push(t)}let p=H["constants"].MaxUint256.toString();if(!s){const e=await c(n);p=Object(F["l"])(r,e)}const f=this.getContractInstance(this.lendingPoolAddress),y=this.generateTxCallback({rawTxMethod:async()=>f.populateTransaction.liquidationCall(a,n,t,p,null!==i&&void 0!==i&&i),from:e,value:Object(F["j"])(n,p)});return o.push({tx:y,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(o,y,B["c"].liquidationCall)}),o}async swapCollateral({user:e,flash:t,fromAsset:n,fromAToken:a,toAsset:r,fromAmount:i,minToAmount:s,permitSignature:o,swapAll:d,onBehalfOf:u,referralCode:c,augustus:l,swapCallData:p}){const f=[],y=null!==o&&void 0!==o?o:{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},m=await this.erc20Service.isApproved({token:a,user:e,spender:this.swapCollateralAddress,amount:i});if(!m){const t=this.erc20Service.approve({user:e,token:a,spender:this.swapCollateralAddress,amount:H["constants"].MaxUint256.toString()});f.push(t)}const b=await this.erc20Service.decimalsOf(n),h=Object(F["l"])(i,b),T=await this.erc20Service.decimalsOf(r),g=Object(F["l"])(s,T),v=this.getContractInstance(this.lendingPoolAddress);if(t){const t=tt(r,g,d?Re(p):0,p,l,y.amount,y.deadline,y.v,y.r,y.s),a=(Number(i)+Number(i)*Number(F["f"])/100).toString(),s=Object(F["l"])(a,b),o=this.generateTxCallback({rawTxMethod:async()=>v.populateTransaction.flashLoan(this.swapCollateralAddress,[n],d?[s]:[h],[0],null!==u&&void 0!==u?u:e,t,null!==c&&void 0!==c?c:"0"),from:e});return f.push({tx:o,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(f,o,B["c"].swapCollateral)}),f}const w=this.liquiditySwapAdapterService.swapAndDeposit({user:e,assetToSwapFrom:n,assetToSwapTo:r,amountToSwap:h,minAmountToReceive:g,swapAll:d,swapCallData:p,augustus:l,permitParams:y},f);return f.push(w),f}async repayWithCollateral({user:e,fromAsset:t,fromAToken:n,assetToRepay:a,repayWithAmount:r,repayAmount:i,permitSignature:s,repayAllDebt:o,rateMode:d,onBehalfOf:u,referralCode:c,flash:l,useEthPath:p}){const f=[],y=null!==s&&void 0!==s?s:{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},m=await this.erc20Service.isApproved({token:n,user:e,spender:this.repayWithCollateralAddress,amount:r});if(!m){const t=this.erc20Service.approve({user:e,token:n,spender:this.repayWithCollateralAddress,amount:H["constants"].MaxUint256.toString()});f.push(t)}const b=await this.erc20Service.decimalsOf(t),h=Object(F["l"])(r,b),T=(Number(i)+Number(i)*Number(F["f"])/100).toString(),g=await this.erc20Service.decimalsOf(a),v=o?Object(F["l"])(T,g):Object(F["l"])(i,g),w=d===B["b"].Stable?1:2;if(l){const n=H["utils"].defaultAbiCoder.encode(["address","uint256","uint256","uint256","uint256","uint8","bytes32","bytes32","bool"],[t,h,w,y.amount,y.deadline,y.v,y.r,y.s,null!==p&&void 0!==p&&p]),r=this.getContractInstance(this.lendingPoolAddress),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.flashLoan(this.repayWithCollateralAddress,[a],[v],[0],null!==u&&void 0!==u?u:e,n,null!==c&&void 0!==c?c:"0"),from:e});return f.push({tx:i,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(f,i,B["c"].repayCollateral)}),f}const O=this.repayWithCollateralAdapterService.swapAndRepay({user:e,collateralAsset:t,debtAsset:a,collateralAmount:h,debtRepayAmount:v,debtRateMode:d,permit:y,useEthPath:p},f);return f.push(O),f}async paraswapRepayWithCollateral({user:e,fromAsset:t,fromAToken:n,assetToRepay:a,repayWithAmount:r,repayAmount:i,permitSignature:s,repayAllDebt:o,rateMode:d,onBehalfOf:u,referralCode:c,flash:l,swapAndRepayCallData:p,augustus:f}){const y=[],m=null!==s&&void 0!==s?s:{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},b=await this.erc20Service.isApproved({token:n,user:e,spender:this.repayWithCollateralAddress,amount:r});if(!b){const t=this.erc20Service.approve({user:e,token:n,spender:this.repayWithCollateralAddress,amount:H["constants"].MaxUint256.toString()});y.push(t)}const h=await this.erc20Service.decimalsOf(t),T=Object(F["l"])(r,h),g=(Number(r)+Number(r)*Number(F["f"])/100).toString(),v=Object(F["l"])(g,h),w=await this.erc20Service.decimalsOf(a),O=Object(F["l"])(i,w),_=d===B["b"].Stable?1:2;if(l){const n=H["utils"].defaultAbiCoder.encode(["bytes","address"],[p,f]),r=H["utils"].defaultAbiCoder.encode(["address","uint256","uint256","uint256","bytes","uint256","uint256","uint8","bytes32","bytes32"],[a,O,o?Object(F["g"])(p):0,_,n,m.amount,m.deadline,m.v,m.r,m.s]),i=this.getContractInstance(this.lendingPoolAddress),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.flashLoan(this.repayWithCollateralAddress,[t],o?[v]:[T],[0],null!==u&&void 0!==u?u:e,r,null!==c&&void 0!==c?c:"0"),from:e});return y.push({tx:s,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(y,s,B["c"].repayCollateral)}),y}const j=this.paraswapRepayWithCollateralAdapterService.swapAndRepay({user:e,collateralAsset:t,debtAsset:a,collateralAmount:T,debtRepayAmount:O,debtRateMode:d,permitParams:m,repayAll:null!==o&&void 0!==o&&o,swapAndRepayCallData:p,augustus:f},y);return y.push(j),y}async flashLiquidation({user:e,collateralAsset:t,borrowedAsset:n,debtTokenCover:a,liquidateAll:r,initiator:i,useEthPath:s}){const o=e=>(Number(e)+Number(e)*Number(e)/100).toString(),d=[],u=this.getContractInstance(this.lendingPoolAddress),c=await this.erc20Service.decimalsOf(n),l=Object(F["l"])(a,c),p=r?H["constants"].MaxUint256.toString():l,f=r?Object(F["l"])(o(a),c):l,y=H["utils"].defaultAbiCoder.encode(["address","address","address","uint256","bool"],[t,n,e,p,null!==s&&void 0!==s&&s]),m=this.generateTxCallback({rawTxMethod:async()=>u.populateTransaction.flashLoan(this.flashLiquidationAddress,[n],[f],[0],i,y,"0"),from:i});return d.push({tx:m,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,m,B["c"].liquidationFlash)}),d}}Object(S["__decorate"])([Q,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],nt.prototype,"deposit",null),Object(S["__decorate"])([Q,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["n"])("amount")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__param"])(0,Object(ye["d"])("aTokenAddress")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],nt.prototype,"withdraw",null),Object(S["__decorate"])([Q,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__param"])(0,Object(ye["d"])("debtTokenAddress")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],nt.prototype,"borrow",null),Object(S["__decorate"])([Q,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["n"])("amount")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],nt.prototype,"repay",null),Object(S["__decorate"])([Q,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Array)],nt.prototype,"swapBorrowRateMode",null),Object(S["__decorate"])([Q,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Array)],nt.prototype,"setUsageAsCollateral",null),Object(S["__decorate"])([Q,Object(S["__param"])(0,Object(ye["d"])("liquidator")),Object(S["__param"])(0,Object(ye["d"])("liquidatedUser")),Object(S["__param"])(0,Object(ye["d"])("debtReserve")),Object(S["__param"])(0,Object(ye["d"])("collateralReserve")),Object(S["__param"])(0,Object(ye["l"])("purchaseAmount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],nt.prototype,"liquidationCall",null),Object(S["__decorate"])([Y,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("fromAsset")),Object(S["__param"])(0,Object(ye["d"])("fromAToken")),Object(S["__param"])(0,Object(ye["d"])("toAsset")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__param"])(0,Object(ye["d"])("augustus")),Object(S["__param"])(0,Object(ye["l"])("fromAmount")),Object(S["__param"])(0,Object(ye["l"])("minToAmount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],nt.prototype,"swapCollateral",null),Object(S["__decorate"])([z,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("fromAsset")),Object(S["__param"])(0,Object(ye["d"])("fromAToken")),Object(S["__param"])(0,Object(ye["d"])("assetToRepay")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__param"])(0,Object(ye["l"])("repayWithAmount")),Object(S["__param"])(0,Object(ye["l"])("repayAmount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],nt.prototype,"repayWithCollateral",null),Object(S["__decorate"])([z,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("fromAsset")),Object(S["__param"])(0,Object(ye["d"])("fromAToken")),Object(S["__param"])(0,Object(ye["d"])("assetToRepay")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__param"])(0,Object(ye["l"])("repayWithAmount")),Object(S["__param"])(0,Object(ye["l"])("repayAmount")),Object(S["__param"])(0,Object(ye["d"])("augustus")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],nt.prototype,"paraswapRepayWithCollateral",null),Object(S["__decorate"])([q,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("collateralAsset")),Object(S["__param"])(0,Object(ye["d"])("borrowedAsset")),Object(S["__param"])(0,Object(ye["l"])("debtTokenCover")),Object(S["__param"])(0,Object(ye["d"])("initiator")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],nt.prototype,"flashLiquidation",null);class at{static connect(e,t){return new x["b"](e,rt,t)}}const rt=[{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"getMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"}];class it extends V{constructor(e,t){super(e,at),this.faucetAddress=null!==t&&void 0!==t?t:""}mint({userAddress:e,reserve:t,tokenSymbol:n}){const a=F["k"][n];if(!a)return console.log("No amount predefined for minting for token : "+n),[];const r=this.getContractInstance(this.faucetAddress),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.mint(t,a),from:e,value:F["c"]});return[{tx:i,txType:B["d"].FAUCET_MINT,gas:this.generateTxPriceEstimation([],i)}]}}Object(S["__decorate"])([de,Object(S["__param"])(0,Object(ye["d"])("userAddress")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Array)],it.prototype,"mint",null);class st{static connect(e,t){return new x["b"](e,ot,t)}}const ot=[{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"}];class dt{static connect(e,t){return new x["b"](e,ut,t)}}const ut=[{inputs:[],name:"REWARD_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"STAKED_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cooldown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"}];class ct extends V{constructor(e,t){var n;super(e,dt),this.erc20Service=new Ee(e),this.stakingContractAddress=t.TOKEN_STAKING_ADDRESS,this.stakingHelperContractAddress=null!==(n=t.STAKING_HELPER_ADDRESS)&&void 0!==n?n:"",""!==this.stakingHelperContractAddress&&(this.stakingHelperContract=st.connect(this.stakingHelperContractAddress,e))}async signStaking(e,t,n){const{getTokenData:a}=this.erc20Service,r=this.getContractInstance(this.stakingContractAddress),i=await r.STAKED_TOKEN(),{name:s,decimals:o}=await a(i),d=Object(F["l"])(t,o),{chainId:u}=await this.provider.getNetwork(),c={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},primaryType:"Permit",domain:{name:s,version:"1",chainId:u,verifyingContract:i},message:{owner:e,spender:this.stakingHelperContractAddress,value:d,nonce:n,deadline:H["constants"].MaxUint256.toString()}};return JSON.stringify(c)}async stakeWithPermit(e,t,n){const a=[],{decimalsOf:r}=this.erc20Service,i=this.getContractInstance(this.stakingContractAddress),s=await i.STAKED_TOKEN(),o=await r(s),d=Object(F["l"])(t,o),u=H["utils"].splitSignature(n),c=this.generateTxCallback({rawTxMethod:async()=>this.stakingHelperContract.populateTransaction.stake(e,d,u.v,u.r,u.s),from:e});return a.push({tx:c,txType:B["d"].STAKE_ACTION,gas:this.generateTxPriceEstimation(a,c)}),a}async stake(e,t,n){const a=[],{decimalsOf:r,isApproved:i,approve:s}=this.erc20Service,o=this.getContractInstance(this.stakingContractAddress),d=await o.STAKED_TOKEN(),u=await r(d),c=Object(F["l"])(t,u),l=await i({token:d,user:e,spender:this.stakingContractAddress,amount:t});if(!l){const t=s({user:e,token:d,spender:this.stakingContractAddress,amount:F["b"]});a.push(t)}console.log(o);const p=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.stake(null!==n&&void 0!==n?n:e,c),from:e});return a.push({tx:p,txType:B["d"].STAKE_ACTION,gas:this.generateTxPriceEstimation(a,p)}),a}async redeem(e,t){let n;const a=this.getContractInstance(this.stakingContractAddress);if("-1"===t)n=H["constants"].MaxUint256.toString();else{const{decimalsOf:e}=this.erc20Service,r=await a.STAKED_TOKEN(),i=await e(r);n=Object(F["l"])(t,i)}const r=this.generateTxCallback({rawTxMethod:async()=>a.populateTransaction.redeem(e,n),from:e,gasSurplus:20});return[{tx:r,txType:B["d"].STAKE_ACTION,gas:this.generateTxPriceEstimation([],r)}]}cooldown(e){const t=this.getContractInstance(this.stakingContractAddress),n=this.generateTxCallback({rawTxMethod:async()=>t.populateTransaction.cooldown(),from:e});return[{tx:n,txType:B["d"].STAKE_ACTION,gas:this.generateTxPriceEstimation([],n)}]}async claimRewards(e,t){let n;const a=this.getContractInstance(this.stakingContractAddress);if("-1"===t)n=H["constants"].MaxUint256.toString();else{const{decimalsOf:e}=this.erc20Service,r=await a.REWARD_TOKEN(),i=await e(r);n=Object(F["l"])(t,i)}const r=this.generateTxCallback({rawTxMethod:async()=>a.populateTransaction.claimRewards(e,n),from:e,gasSurplus:20});return[{tx:r,txType:B["d"].STAKE_ACTION,gas:this.generateTxPriceEstimation([],r)}]}}Object(S["__decorate"])([oe,Object(S["__param"])(0,Object(ye["d"])()),Object(S["__param"])(1,Object(ye["l"])()),Object(S["__param"])(2,Object(ye["a"])()),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[String,String,String]),Object(S["__metadata"])("design:returntype",Promise)],ct.prototype,"signStaking",null),Object(S["__decorate"])([oe,Object(S["__param"])(0,Object(ye["d"])()),Object(S["__param"])(1,Object(ye["l"])()),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[String,String,Object]),Object(S["__metadata"])("design:returntype",Promise)],ct.prototype,"stakeWithPermit",null),Object(S["__decorate"])([se,Object(S["__param"])(0,Object(ye["d"])()),Object(S["__param"])(1,Object(ye["l"])()),Object(S["__param"])(2,Object(ye["d"])()),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[String,String,String]),Object(S["__metadata"])("design:returntype",Promise)],ct.prototype,"stake",null),Object(S["__decorate"])([se,Object(S["__param"])(0,Object(ye["d"])()),Object(S["__param"])(1,Object(ye["n"])()),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[String,String]),Object(S["__metadata"])("design:returntype",Promise)],ct.prototype,"redeem",null),Object(S["__decorate"])([se,Object(S["__param"])(0,Object(ye["d"])()),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[String]),Object(S["__metadata"])("design:returntype",Array)],ct.prototype,"cooldown",null),Object(S["__decorate"])([se,Object(S["__param"])(0,Object(ye["d"])()),Object(S["__param"])(1,Object(ye["n"])()),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[String,String]),Object(S["__metadata"])("design:returntype",Promise)],ct.prototype,"claimRewards",null);class lt{static connect(e,t){return new x["b"](e,pt,t)}}const pt=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"executor",type:"address"}],name:"ExecutorAuthorized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"executor",type:"address"}],name:"ExecutorUnauthorized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newStrategy",type:"address"},{indexed:!0,internalType:"address",name:"initiatorChange",type:"address"}],name:"GovernanceStrategyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"}],name:"ProposalCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!0,internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{indexed:!1,internalType:"address[]",name:"targets",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"},{indexed:!1,internalType:"string[]",name:"signatures",type:"string[]"},{indexed:!1,internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{indexed:!1,internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{indexed:!1,internalType:"uint256",name:"startBlock",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endBlock",type:"uint256"},{indexed:!1,internalType:"address",name:"strategy",type:"address"},{indexed:!1,internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],name:"ProposalCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorExecution",type:"address"}],name:"ProposalExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"executionTime",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorQueueing",type:"address"}],name:"ProposalQueued",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"voter",type:"address"},{indexed:!1,internalType:"bool",name:"support",type:"bool"},{indexed:!1,internalType:"uint256",name:"votingPower",type:"uint256"}],name:"VoteEmitted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newVotingDelay",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorChange",type:"address"}],name:"VotingDelayChanged",type:"event"},{inputs:[],name:"__abdicate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"executors",type:"address[]"}],name:"authorizeExecutors",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"cancel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],name:"create",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getGovernanceStrategy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGuardian",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalById",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],internalType:"struct IAaveGovernanceV2.ProposalWithoutVotes",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalState",outputs:[{internalType:"enum IAaveGovernanceV2.ProposalState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProposalsCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"address",name:"voter",type:"address"}],name:"getVoteOnProposal",outputs:[{components:[{internalType:"bool",name:"support",type:"bool"},{internalType:"uint248",name:"votingPower",type:"uint248"}],internalType:"struct IAaveGovernanceV2.Vote",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVotingDelay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"executor",type:"address"}],name:"isExecutorAuthorized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"queue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"governanceStrategy",type:"address"}],name:"setGovernanceStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"votingDelay",type:"uint256"}],name:"setVotingDelay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"}],name:"submitVote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"submitVoteBySignature",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"executors",type:"address[]"}],name:"unauthorizeExecutors",outputs:[],stateMutability:"nonpayable",type:"function"}];class ft{static connect(e,t){return new x["b"](e,yt,t)}}const yt=[{inputs:[],name:"AAVE",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"STK_AAVE",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPropositionPowerAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getTotalPropositionSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getTotalVotingSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getVotingPowerAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class mt{static connect(e,t){return new x["b"](e,bt,t)}}const bt=[{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"contract IAaveGovernanceV2",name:"governance",type:"address"}],name:"getProposal",outputs:[{components:[{internalType:"uint256",name:"totalVotingSupply",type:"uint256"},{internalType:"uint256",name:"minimumQuorum",type:"uint256"},{internalType:"uint256",name:"minimumDiff",type:"uint256"},{internalType:"uint256",name:"executionTimeWithGracePeriod",type:"uint256"},{internalType:"uint256",name:"proposalCreated",type:"uint256"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"},{internalType:"enum IAaveGovernanceV2.ProposalState",name:"proposalState",type:"uint8"}],internalType:"struct IGovernanceV2Helper.ProposalStats",name:"proposalStats",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"skip",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"contract IAaveGovernanceV2",name:"governance",type:"address"}],name:"getProposals",outputs:[{components:[{internalType:"uint256",name:"totalVotingSupply",type:"uint256"},{internalType:"uint256",name:"minimumQuorum",type:"uint256"},{internalType:"uint256",name:"minimumDiff",type:"uint256"},{internalType:"uint256",name:"executionTimeWithGracePeriod",type:"uint256"},{internalType:"uint256",name:"proposalCreated",type:"uint256"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"},{internalType:"enum IAaveGovernanceV2.ProposalState",name:"proposalState",type:"uint8"}],internalType:"struct IGovernanceV2Helper.ProposalStats[]",name:"proposalsStats",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address[]",name:"tokens",type:"address[]"}],name:"getTokensPower",outputs:[{components:[{internalType:"uint256",name:"votingPower",type:"uint256"},{internalType:"address",name:"delegatedAddressVotingPower",type:"address"},{internalType:"uint256",name:"propositionPower",type:"uint256"},{internalType:"address",name:"delegatedAddressPropositionPower",type:"address"}],internalType:"struct IGovernanceV2Helper.Power[]",name:"power",type:"tuple[]"}],stateMutability:"view",type:"function"}];var ht,Tt;(function(e){e[e["Short"]=0]="Short",e[e["Long"]=1]="Long"})(ht||(ht={})),function(e){e["Pending"]="Pending",e["Canceled"]="Canceled",e["Active"]="Active",e["Failed"]="Failed",e["Succeeded"]="Succeeded",e["Queued"]="Queued",e["Expired"]="Expired",e["Executed"]="Executed"}(Tt||(Tt={}));const gt=e=>({id:Number(e.id.toString()),creator:e.creator,executor:e.executor,targets:e.targets,values:e.values,signatures:e.signatures,calldatas:e.calldatas,withDelegatecalls:e.withDelegatecalls,startBlock:Number(e.startBlock.toString()),endBlock:Number(e.endBlock.toString()),executionTime:Number(e.executionTime.toString()),forVotes:e.forVotes.toString(),againstVotes:e.againstVotes.toString(),executed:e.executed,canceled:e.canceled,strategy:e.strategy,state:Object.values(Tt)[e.proposalState],minimumQuorum:e.minimumQuorum.toString(),minimumDiff:e.minimumDiff.toString(),executionTimeWithGracePeriod:Number(e.executionTimeWithGracePeriod.toString()),proposalCreated:Number(e.proposalCreated.toString()),totalVotingSupply:e.totalVotingSupply.toString(),ipfsHash:e.ipfsHash});class vt extends V{constructor(e,t){var n;super(e,lt),this.aaveGovernanceV2Address=t.GOVERNANCE_ADDRESS,this.aaveGovernanceV2HelperAddress=null!==(n=t.GOVERNANCE_HELPER_ADDRESS)&&void 0!==n?n:""}submitVote({user:e,proposalId:t,support:n}){const a=[],r=this.getContractInstance(this.aaveGovernanceV2Address),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.submitVote(t,n),from:e});return a.push({tx:i,txType:B["d"].GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(a,i)}),a}async getProposals({skip:e,limit:t}){const n=mt.connect(this.aaveGovernanceV2HelperAddress,this.provider),a=await n.getProposals(e.toString(),t.toString(),this.aaveGovernanceV2Address);return a.map(e=>gt(e))}async getProposal({proposalId:e}){const t=mt.connect(this.aaveGovernanceV2HelperAddress,this.provider),n=await t.getProposal(e,this.aaveGovernanceV2Address);return gt(n)}async getVotingPowerAt({user:e,block:t,strategy:n}){const a=ft.connect(n,this.provider),r=await a.getVotingPowerAt(e,t.toString());return Object(k["formatEther"])(r)}async getTokensPower({user:e,tokens:t}){const n=mt.connect(this.aaveGovernanceV2HelperAddress,this.provider);return n.getTokensPower(e,t)}async getVoteOnProposal({proposalId:e,user:t}){const n=this.getContractInstance(this.aaveGovernanceV2Address);return n.getVoteOnProposal(e,t)}async getProposalsCount(){const e=this.getContractInstance(this.aaveGovernanceV2Address);return(await e.getProposalsCount()).toNumber()}}Object(S["__decorate"])([le,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["a"])("proposalId")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Array)],vt.prototype,"submitVote",null),Object(S["__decorate"])([ce,Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],vt.prototype,"getProposals",null),Object(S["__decorate"])([ce,Object(S["__param"])(0,Object(ye["a"])("proposalId")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],vt.prototype,"getProposal",null),Object(S["__decorate"])([le,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],vt.prototype,"getVotingPowerAt",null),Object(S["__decorate"])([ce,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["e"])("tokens")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],vt.prototype,"getTokensPower",null),Object(S["__decorate"])([le,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["a"])("proposalId")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],vt.prototype,"getVoteOnProposal",null),Object(S["__decorate"])([le,Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[]),Object(S["__metadata"])("design:returntype",Promise)],vt.prototype,"getProposalsCount",null);var wt=n("549e");class Ot{static connect(e,t){return new x["b"](e,_t,t)}}const _t=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!0,internalType:"address",name:"delegatee",type:"address"},{indexed:!1,internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"DelegateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"DelegatedPowerChanged",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"delegateByType",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateByTypeBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getDelegateeByType",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getPowerAtBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getPowerCurrent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"totalSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class jt extends V{constructor(e){super(e,Ot)}async delegate({user:e,delegatee:t,governanceToken:n}){const a=[],r=this.getContractInstance(n),i=await this.getDelegateeAddress(t),s=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.delegate(i),from:e});return a.push({tx:s,txType:B["d"].GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(a,s)}),a}async delegateByType({user:e,delegatee:t,delegationType:n,governanceToken:a}){const r=[],i=this.getContractInstance(a),s=await this.getDelegateeAddress(t),o=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.delegateByType(s,n),from:e});return r.push({tx:o,txType:B["d"].GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(r,o)}),r}async delegateBySig({user:e,delegatee:t,expiry:n,signature:a,governanceToken:r}){const i=[],s=this.getContractInstance(r),o=await this.getNonce({user:e,governanceToken:r}),{v:d,r:u,s:c}=Object(wt["splitSignature"])(a),l=await this.getDelegateeAddress(t),p=this.generateTxCallback({rawTxMethod:async()=>s.populateTransaction.delegateBySig(l,o,n,d,u,c),from:e});return i.push({tx:p,txType:B["d"].GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(i,p)}),i}async delegateByTypeBySig({user:e,delegatee:t,delegationType:n,expiry:a,signature:r,governanceToken:i}){const s=[],o=this.getContractInstance(i),d=await this.getNonce({user:e,governanceToken:i}),{v:u,r:c,s:l}=Object(wt["splitSignature"])(r),p=await this.getDelegateeAddress(t),f=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.delegateByTypeBySig(p,n,d,a,u,c,l),from:e});return s.push({tx:f,txType:B["d"].GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(s,f)}),s}async prepareDelegateSignature({delegatee:e,nonce:t,expiry:n,governanceTokenName:a,governanceToken:r}){const i=await this.getDelegateeAddress(e),{chainId:s}=await this.provider.getNetwork(),o={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Delegate:[{name:"delegatee",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"}]},primaryType:"Delegate",domain:{name:a,chainId:s,verifyingContract:r},message:{delegatee:i,nonce:t,expiry:n}};return JSON.stringify(o)}async prepareDelegateByTypeSignature({delegatee:e,type:t,nonce:n,expiry:a,governanceTokenName:r,governanceToken:i}){const s=await this.getDelegateeAddress(e),{chainId:o}=await this.provider.getNetwork(),d={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],DelegateByType:[{name:"delegatee",type:"address"},{name:"type",type:"uint256"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"}]},primaryType:"DelegateByType",domain:{name:r,chainId:o,verifyingContract:i},message:{delegatee:s,type:t,nonce:n,expiry:a}};return JSON.stringify(d)}async getDelegateeByType({delegator:e,delegationType:t,governanceToken:n}){const a=this.getContractInstance(n);return a.getDelegateeByType(e,t)}async getPowerCurrent({user:e,delegationType:t,governanceToken:n}){const a=this.getContractInstance(n);return(await a.getPowerCurrent(e,t)).toString()}async getPowerAtBlock({user:e,blockNumber:t,delegationType:n,governanceToken:a}){const r=this.getContractInstance(a);return(await r.getPowerAtBlock(e,t,n)).toString()}async getNonce({user:e,governanceToken:t}){const n=this.getContractInstance(t);return(await n._nonces(e)).toString()}async getDelegateeAddress(e){if(Object(F["h"])(e)){const t=await this.provider.resolveName(e);if(!t)throw new Error(`Address: ${e} is not a valid ENS address`);return t}return e}}Object(S["__decorate"])([pe,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["i"])("delegatee")),Object(S["__param"])(0,Object(ye["d"])("governanceToken")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],jt.prototype,"delegate",null),Object(S["__decorate"])([pe,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["i"])("delegatee")),Object(S["__param"])(0,Object(ye["d"])("governanceToken")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],jt.prototype,"delegateByType",null),Object(S["__decorate"])([pe,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["i"])("delegatee")),Object(S["__param"])(0,Object(ye["d"])("governanceToken")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],jt.prototype,"delegateBySig",null),Object(S["__decorate"])([pe,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["i"])("delegatee")),Object(S["__param"])(0,Object(ye["d"])("governanceToken")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],jt.prototype,"delegateByTypeBySig",null),Object(S["__decorate"])([pe,Object(S["__param"])(0,Object(ye["i"])("delegatee")),Object(S["__param"])(0,Object(ye["d"])("governanceToken")),Object(S["__param"])(0,Object(ye["a"])("nonce")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],jt.prototype,"prepareDelegateSignature",null),Object(S["__decorate"])([pe,Object(S["__param"])(0,Object(ye["i"])("delegatee")),Object(S["__param"])(0,Object(ye["d"])("governanceToken")),Object(S["__param"])(0,Object(ye["a"])("nonce")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],jt.prototype,"prepareDelegateByTypeSignature",null),Object(S["__decorate"])([pe,Object(S["__param"])(0,Object(ye["d"])("delegator")),Object(S["__param"])(0,Object(ye["d"])("governanceToken")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],jt.prototype,"getDelegateeByType",null),Object(S["__decorate"])([pe,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("governanceToken")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],jt.prototype,"getPowerCurrent",null),Object(S["__decorate"])([pe,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("governanceToken")),Object(S["__param"])(0,Object(ye["l"])("blockNumber")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],jt.prototype,"getPowerAtBlock",null),Object(S["__decorate"])([pe,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("governanceToken")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],jt.prototype,"getNonce",null);const At=[{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"_nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class kt{static createInterface(){return new H["utils"].Interface(At)}static connect(e,t){return new x["b"](e,At,t)}}kt.abi=At;class xt extends V{constructor(e){super(e,kt),this.getNonce=this.getNonce.bind(this)}async getNonce({token:e,owner:t}){const n=this.getContractInstance(e);let a;try{return a=await n.nonces(t),a.toNumber()}catch(r){}try{return a=await n._nonces(t),a.toNumber()}catch(r){console.log(`Token ${e} does not implement nonces or _nonces method`)}return null}}Object(S["__decorate"])([ae,Object(S["__param"])(0,Object(ye["d"])("token")),Object(S["__param"])(0,Object(ye["d"])("owner")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],xt.prototype,"getNonce",null);const Ct=[{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"borrow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args1",type:"bytes32"},{internalType:"bytes32",name:"args2",type:"bytes32"}],name:"liquidationCall",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"rebalanceStableBorrowRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"repay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"repayWithATokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"repayWithPermit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"setUserUseReserveAsCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"supply",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"supplyWithPermit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"swapBorrowRateMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}];class St{static createInterface(){return new H["utils"].Interface(Ct)}static connect(e,t){return new x["b"](e,Ct,t)}}St.abi=Ct;const Pt=[{inputs:[{internalType:"contract IPool",name:"pool",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"POOL",outputs:[{internalType:"contract IPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"encodeBorrowParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collateralAsset",type:"address"},{internalType:"address",name:"debtAsset",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"debtToCover",type:"uint256"},{internalType:"bool",name:"receiveAToken",type:"bool"}],name:"encodeLiquidationCall",outputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"encodeRebalanceStableBorrowRate",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"encodeRepayParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"encodeRepayWithATokensParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"permitV",type:"uint8"},{internalType:"bytes32",name:"permitR",type:"bytes32"},{internalType:"bytes32",name:"permitS",type:"bytes32"}],name:"encodeRepayWithPermitParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"bool",name:"useAsCollateral",type:"bool"}],name:"encodeSetUserUseReserveAsCollateral",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"encodeSupplyParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"permitV",type:"uint8"},{internalType:"bytes32",name:"permitR",type:"bytes32"},{internalType:"bytes32",name:"permitS",type:"bytes32"}],name:"encodeSupplyWithPermitParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"encodeSwapBorrowRateMode",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"encodeWithdrawParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"}],Et="0x60a060405234801561001057600080fd5b5060405161143138038061143183398101604081905261002f91610040565b6001600160a01b0316608052610070565b60006020828403121561005257600080fd5b81516001600160a01b038116811461006957600080fd5b9392505050565b6080516113606100d16000396000818161016b0152818161027e015281816103760152818161043f015281816105180152818161062e0152818161073c015281816107fc0152818161094101528181610a700152610b5501526113606000f3fe608060405234801561001057600080fd5b50600436106100d45760003560e01c806388d5185211610081578063b76398e41161005b578063b76398e414610200578063fc0eed8514610213578063fed63a931461022157600080fd5b806388d51852146101b25780638da7fb18146101da5780639d2ffc1b146101ed57600080fd5b80635cc7bc10116100b25780635cc7bc1014610125578063671a7fae146101385780637535d2461461016657600080fd5b80631a64acf2146100d95780631a8f6dee146100ff5780631fd3479714610112575b600080fd5b6100ec6100e7366004610e66565b610234565b6040519081526020015b60405180910390f35b6100ec61010d366004610eb0565b61032c565b6100ec610120366004610ee9565b6103f5565b6100ec610133366004610ee9565b6104ce565b61014b610146366004610f2b565b6105e0565b604080519384526020840192909252908201526060016100f6565b61018d7f000000000000000000000000000000000000000000000000000000000000000081565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020016100f6565b6101c56101c0366004610fa9565b6106f0565b604080519283526020830191909152016100f6565b6100ec6101e836600461100d565b6108e2565b6100ec6101fb36600461100d565b6108f7565b6100ec61020e366004611042565b610a26565b6100ec61010d366004611084565b61014b61022f3660046110b9565b610b07565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff858116600483015260009182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa1580156102c6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102ea9190611207565b60e081015190915060006102fd87610c5d565b9050600061030a87610d08565b60109290921b60909290921b60989690961b9590950101019695505050505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff838116600483015260009182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa1580156103be573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103e29190611207565b60e00151601084901b0191505092915050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff838116600483015260009182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa158015610487573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104ab9190611207565b60e081015190915060006104be85610d08565b60101b9190910195945050505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff838116600483015260009182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa158015610560573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105849190611207565b60e081015190915060007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff85146105c3576105be85610c5d565b6104be565b5071ffffffffffffffffffffffffffffffff000001949350505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff88811660048301526000918291829182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa158015610676573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061069a9190611207565b60e081015190915060006106ad8c610c5d565b905060006106ba8b610d9b565b905060008a60c01b8260a01b018d60901b018360101b0184019050808a8a97509750975050505050509750975097945050505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8681166004830152600091829182917f0000000000000000000000000000000000000000000000000000000000000000909116906335ea6a75906024016101e060405180830381865afa158015610786573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107aa9190611207565b60e08101516040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8a8116600483015292935090916000917f0000000000000000000000000000000000000000000000000000000000000000909116906335ea6a75906024016101e060405180830381865afa158015610846573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061086a9190611207565b60e081015190915060007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff89146108a9576108a489610c5d565b6108bb565b6fffffffffffffffffffffffffffffffff5b60109290921b9390930160208a901b019550608087901b0193505050509550959350505050565b60006108ef8484846108f7565b949350505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff848116600483015260009182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa158015610989573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109ad9190611207565b60e081015190915060007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff86146109ec576109e786610c5d565b6109fe565b6fffffffffffffffffffffffffffffffff5b90506000610a0b86610d08565b60901b60109290921b91909101919091019695505050505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff848116600483015260009182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa158015610ab8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610adc9190611207565b60e08101519091506000610aef86610c5d565b60101b609086901b0191909101925050509392505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff88811660048301526000918291829182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa158015610b9d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bc19190611207565b60e081015190915060007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8c14610c0057610bfb8c610c5d565b610c12565b6fffffffffffffffffffffffffffffffff5b90506000610c1f8c610d08565b90506000610c2c8c610d9b565b60b89b909b1b60989b909b1b9a909a0160909190911b0160109190911b01019b959a50939850939650505050505050565b60006fffffffffffffffffffffffffffffffff821115610d04576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602760248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203160448201527f323820626974730000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b5090565b600060ff821115610d04576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602560248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203860448201527f20626974730000000000000000000000000000000000000000000000000000006064820152608401610cfb565b600063ffffffff821115610d04576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203360448201527f32206269747300000000000000000000000000000000000000000000000000006064820152608401610cfb565b73ffffffffffffffffffffffffffffffffffffffff81168114610e5357600080fd5b50565b61ffff81168114610e5357600080fd5b60008060008060808587031215610e7c57600080fd5b8435610e8781610e31565b935060208501359250604085013591506060850135610ea581610e56565b939692955090935050565b60008060408385031215610ec357600080fd5b8235610ece81610e31565b91506020830135610ede81610e31565b809150509250929050565b60008060408385031215610efc57600080fd5b8235610f0781610e31565b946020939093013593505050565b803560ff81168114610f2657600080fd5b919050565b600080600080600080600060e0888a031215610f4657600080fd5b8735610f5181610e31565b9650602088013595506040880135610f6881610e56565b945060608801359350610f7d60808901610f15565b925060a0880135915060c0880135905092959891949750929550565b80358015158114610f2657600080fd5b600080600080600060a08688031215610fc157600080fd5b8535610fcc81610e31565b94506020860135610fdc81610e31565b93506040860135610fec81610e31565b92506060860135915061100160808701610f99565b90509295509295909350565b60008060006060848603121561102257600080fd5b833561102d81610e31565b95602085013595506040909401359392505050565b60008060006060848603121561105757600080fd5b833561106281610e31565b925060208401359150604084013561107981610e56565b809150509250925092565b6000806040838503121561109757600080fd5b82356110a281610e31565b91506110b060208401610f99565b90509250929050565b600080600080600080600060e0888a0312156110d457600080fd5b87356110df81610e31565b9650602088013595506040880135945060608801359350610f7d60808901610f15565b6040516101e0810167ffffffffffffffff8111828210171561114d577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60405290565b60006020828403121561116557600080fd5b6040516020810181811067ffffffffffffffff821117156111af577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040529151825250919050565b80516fffffffffffffffffffffffffffffffff81168114610f2657600080fd5b805164ffffffffff81168114610f2657600080fd5b8051610f2681610e56565b8051610f2681610e31565b60006101e0828403121561121a57600080fd5b611222611102565b61122c8484611153565b815261123a602084016111bc565b602082015261124b604084016111bc565b604082015261125c606084016111bc565b606082015261126d608084016111bc565b608082015261127e60a084016111bc565b60a082015261128f60c084016111dc565b60c08201526112a060e084016111f1565b60e08201526101006112b38185016111fc565b908201526101206112c58482016111fc565b908201526101406112d78482016111fc565b908201526101606112e98482016111fc565b908201526101806112fb8482016111bc565b908201526101a061130d8482016111bc565b908201526101c061131f8482016111bc565b90820152939250505056fea2646970667358221220550a5d1ca13779d56fd6a3f9cf5cee982d93d61310d74a95690bcec9ee75ab4a64736f6c634300080a0033";class Dt extends x["c"]{constructor(...e){1===e.length?super(Pt,Et,e[0]):super(...e)}deploy(e,t){return super.deploy(e,t||{})}getDeployTransaction(e,t){return super.getDeployTransaction(e,t||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static createInterface(){return new H["utils"].Interface(Pt)}static connect(e,t){return new x["b"](e,Pt,t)}}Dt.bytecode=Et,Dt.abi=Pt;class It extends V{constructor(e,t){super(e,St);const{l2PoolAddress:n,encoderAddress:a}=null!==t&&void 0!==t?t:{};this.l2PoolAddress=null!==n&&void 0!==n?n:"",this.encoderAddress=null!==a&&void 0!==a?a:""}async supply({user:e,reserve:t,amount:n,referralCode:a},r){const i=this.getEncoder(),s=await i.encodeSupplyParams(t,n,null!==a&&void 0!==a?a:0),o=this.getContractInstance(this.l2PoolAddress),d=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.supply(s),from:e,value:Object(F["j"])(t,n)});return r.push({tx:d,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(r,d,B["c"].supply)}),r}async supplyWithPermit({user:e,reserve:t,amount:n,deadline:a,referralCode:r,permitR:i,permitS:s,permitV:o},d){const u=this.getEncoder(),c=await u.encodeSupplyWithPermitParams(t,n,null!==r&&void 0!==r?r:0,a,o,i,s),l=this.getContractInstance(this.l2PoolAddress),p=this.generateTxCallback({rawTxMethod:async()=>l.populateTransaction.supplyWithPermit(c[0],i,s),from:e});return d.push({tx:p,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,p)}),d}async withdraw({user:e,reserve:t,amount:n}){const a=this.getEncoder(),r=await a.encodeWithdrawParams(t,n),i=this.getContractInstance(this.l2PoolAddress),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.withdraw(r),from:e,action:B["c"].withdraw});return[{tx:s,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],s,B["c"].supply)}]}async borrow({user:e,reserve:t,amount:n,numericRateMode:a,referralCode:r}){const i=this.getEncoder(),s=await i.encodeBorrowParams(t,n,a,null!==r&&void 0!==r?r:0),o=this.getContractInstance(this.l2PoolAddress),d=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.borrow(s),from:e});return[{tx:d,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],d)}]}async repay({reserve:e,user:t,amount:n,numericRateMode:a},r){const i=this.getEncoder(),s=await i.encodeRepayParams(e,n,a),o=this.getContractInstance(this.l2PoolAddress),d=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.repay(s),from:t,value:Object(F["j"])(e,n)});return r.push({tx:d,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(r,d,B["c"].repay)}),r}async repayWithPermit({user:e,reserve:t,amount:n,numericRateMode:a,permitR:r,permitS:i,permitV:s,deadline:o},d){const u=this.getEncoder(),c=await u.encodeRepayWithPermitParams(t,n,a,o,s,r,i),l=this.getContractInstance(this.l2PoolAddress),p=this.generateTxCallback({rawTxMethod:async()=>l.populateTransaction.repayWithPermit(c[0],r,i),from:e,value:Object(F["j"])(t,n)});return d.push({tx:p,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,p,B["c"].repay)}),d}async repayWithATokens({reserve:e,user:t,amount:n,numericRateMode:a},r){const i=this.getEncoder(),s=await i.encodeRepayWithATokensParams(e,n,a),o=this.getContractInstance(this.l2PoolAddress),d=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.repayWithATokens(s),from:t,value:Object(F["j"])(e,n)});return r.push({tx:d,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(r,d,B["c"].repay)}),r}async swapBorrowRateMode({reserve:e,numericRateMode:t,user:n}){const a=this.getEncoder(),r=await a.encodeSwapBorrowRateMode(e,t),i=this.getContractInstance(this.l2PoolAddress),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.swapBorrowRateMode(r),from:n});return[{tx:s,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],s)}]}async setUserUseReserveAsCollateral({reserve:e,usageAsCollateral:t,user:n}){const a=this.getEncoder(),r=await a.encodeSetUserUseReserveAsCollateral(e,t),i=this.getContractInstance(this.l2PoolAddress),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.setUserUseReserveAsCollateral(r),from:n});return[{tx:s,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],s)}]}async liquidationCall({liquidator:e,liquidatedUser:t,debtReserve:n,collateralReserve:a,debtToCover:r,getAToken:i},s){const o=this.getEncoder(),d=await o.encodeLiquidationCall(a,n,t,r,null!==i&&void 0!==i&&i),u=this.getContractInstance(this.l2PoolAddress),c=this.generateTxCallback({rawTxMethod:async()=>u.populateTransaction.liquidationCall(d[0],d[1]),from:e,value:Object(F["j"])(n,r)});return s.push({tx:c,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],c,B["c"].liquidationCall)}),s}getEncoder(){return this.encoderContract||""===this.encoderAddress||(this.encoderContract=Dt.connect(this.encoderAddress,this.provider)),this.encoderContract}}Object(S["__decorate"])([Z,Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object,Array]),Object(S["__metadata"])("design:returntype",Promise)],It.prototype,"supply",null),Object(S["__decorate"])([Z,Object(S["__param"])(0,Object(ye["c"])("deadline")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object,Array]),Object(S["__metadata"])("design:returntype",Promise)],It.prototype,"supplyWithPermit",null),Object(S["__decorate"])([Z,Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],It.prototype,"withdraw",null),Object(S["__decorate"])([Z,Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],It.prototype,"borrow",null),Object(S["__decorate"])([Z,Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object,Array]),Object(S["__metadata"])("design:returntype",Promise)],It.prototype,"repay",null),Object(S["__decorate"])([Z,Object(S["__param"])(0,Object(ye["c"])("deadline")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object,Array]),Object(S["__metadata"])("design:returntype",Promise)],It.prototype,"repayWithPermit",null),Object(S["__decorate"])([Z,Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object,Array]),Object(S["__metadata"])("design:returntype",Promise)],It.prototype,"repayWithATokens",null),Object(S["__decorate"])([Z,Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],It.prototype,"swapBorrowRateMode",null),Object(S["__decorate"])([Z,Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],It.prototype,"setUserUseReserveAsCollateral",null),Object(S["__decorate"])([Z,Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object,Array]),Object(S["__metadata"])("design:returntype",Promise)],It.prototype,"liquidationCall",null);const Rt=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"backer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"BackUnbacked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"onBehalfOf",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"enum DataTypes.InterestRateMode",name:"interestRateMode",type:"uint8"},{indexed:!1,internalType:"uint256",name:"borrowRate",type:"uint256"},{indexed:!0,internalType:"uint16",name:"referral",type:"uint16"}],name:"Borrow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"target",type:"address"},{indexed:!0,internalType:"address",name:"initiator",type:"address"},{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"enum DataTypes.InterestRateMode",name:"interestRateMode",type:"uint8"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint16",name:"referralCode",type:"uint16"}],name:"FlashLoan",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!1,internalType:"uint256",name:"totalDebt",type:"uint256"}],name:"IsolationModeTotalDebtUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collateralAsset",type:"address"},{indexed:!0,internalType:"address",name:"debtAsset",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"debtToCover",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidatedCollateralAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"liquidator",type:"address"},{indexed:!1,internalType:"bool",name:"receiveAToken",type:"bool"}],name:"LiquidationCall",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"onBehalfOf",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"uint16",name:"referral",type:"uint16"}],name:"MintUnbacked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!1,internalType:"uint256",name:"amountMinted",type:"uint256"}],name:"MintedToTreasury",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"RebalanceStableBorrowRate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"repayer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bool",name:"useATokens",type:"bool"}],name:"Repay",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!1,internalType:"uint256",name:"liquidityRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stableBorrowRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"variableBorrowRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidityIndex",type:"uint256"},{indexed:!1,internalType:"uint256",name:"variableBorrowIndex",type:"uint256"}],name:"ReserveDataUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"ReserveUsedAsCollateralDisabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"ReserveUsedAsCollateralEnabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"onBehalfOf",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"uint16",name:"referralCode",type:"uint16"}],name:"Supply",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"enum DataTypes.InterestRateMode",name:"interestRateMode",type:"uint8"}],name:"SwapBorrowRateMode",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint8",name:"categoryId",type:"uint8"}],name:"UserEModeSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"ADDRESSES_PROVIDER",outputs:[{internalType:"contract IPoolAddressesProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"BRIDGE_PROTOCOL_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FLASHLOAN_PREMIUM_TOTAL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FLASHLOAN_PREMIUM_TO_PROTOCOL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_NUMBER_RESERVES",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STABLE_RATE_BORROW_SIZE_PERCENT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"fee",type:"uint256"}],name:"backUnbacked",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"borrow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"id",type:"uint8"},{components:[{internalType:"uint16",name:"ltv",type:"uint16"},{internalType:"uint16",name:"liquidationThreshold",type:"uint16"},{internalType:"uint16",name:"liquidationBonus",type:"uint16"},{internalType:"address",name:"priceSource",type:"address"},{internalType:"string",name:"label",type:"string"}],internalType:"struct DataTypes.EModeCategory",name:"config",type:"tuple"}],name:"configureEModeCategory",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"dropReserve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"balanceFromBefore",type:"uint256"},{internalType:"uint256",name:"balanceToBefore",type:"uint256"}],name:"finalizeTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiverAddress",type:"address"},{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"interestRateModes",type:"uint256[]"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"bytes",name:"params",type:"bytes"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"flashLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiverAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"params",type:"bytes"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"flashLoanSimple",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getConfiguration",outputs:[{components:[{internalType:"uint256",name:"data",type:"uint256"}],internalType:"struct DataTypes.ReserveConfigurationMap",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"id",type:"uint8"}],name:"getEModeCategoryData",outputs:[{components:[{internalType:"uint16",name:"ltv",type:"uint16"},{internalType:"uint16",name:"liquidationThreshold",type:"uint16"},{internalType:"uint16",name:"liquidationBonus",type:"uint16"},{internalType:"address",name:"priceSource",type:"address"},{internalType:"string",name:"label",type:"string"}],internalType:"struct DataTypes.EModeCategory",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getReserveData",outputs:[{components:[{components:[{internalType:"uint256",name:"data",type:"uint256"}],internalType:"struct DataTypes.ReserveConfigurationMap",name:"configuration",type:"tuple"},{internalType:"uint128",name:"liquidityIndex",type:"uint128"},{internalType:"uint128",name:"currentLiquidityRate",type:"uint128"},{internalType:"uint128",name:"variableBorrowIndex",type:"uint128"},{internalType:"uint128",name:"currentVariableBorrowRate",type:"uint128"},{internalType:"uint128",name:"currentStableBorrowRate",type:"uint128"},{internalType:"uint40",name:"lastUpdateTimestamp",type:"uint40"},{internalType:"uint16",name:"id",type:"uint16"},{internalType:"address",name:"aTokenAddress",type:"address"},{internalType:"address",name:"stableDebtTokenAddress",type:"address"},{internalType:"address",name:"variableDebtTokenAddress",type:"address"},{internalType:"address",name:"interestRateStrategyAddress",type:"address"},{internalType:"uint128",name:"accruedToTreasury",type:"uint128"},{internalType:"uint128",name:"unbacked",type:"uint128"},{internalType:"uint128",name:"isolationModeTotalDebt",type:"uint128"}],internalType:"struct DataTypes.ReserveData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getReserveNormalizedIncome",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getReserveNormalizedVariableDebt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReservesList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserAccountData",outputs:[{internalType:"uint256",name:"totalCollateralBase",type:"uint256"},{internalType:"uint256",name:"totalDebtBase",type:"uint256"},{internalType:"uint256",name:"availableBorrowsBase",type:"uint256"},{internalType:"uint256",name:"currentLiquidationThreshold",type:"uint256"},{internalType:"uint256",name:"ltv",type:"uint256"},{internalType:"uint256",name:"healthFactor",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserConfiguration",outputs:[{components:[{internalType:"uint256",name:"data",type:"uint256"}],internalType:"struct DataTypes.UserConfigurationMap",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserEMode",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"aTokenAddress",type:"address"},{internalType:"address",name:"stableDebtAddress",type:"address"},{internalType:"address",name:"variableDebtAddress",type:"address"},{internalType:"address",name:"interestRateStrategyAddress",type:"address"}],name:"initReserve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"collateralAsset",type:"address"},{internalType:"address",name:"debtAsset",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"debtToCover",type:"uint256"},{internalType:"bool",name:"receiveAToken",type:"bool"}],name:"liquidationCall",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"}],name:"mintToTreasury",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"mintUnbacked",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"rebalanceStableBorrowRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"repay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"repayWithATokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"permitV",type:"uint8"},{internalType:"bytes32",name:"permitR",type:"bytes32"},{internalType:"bytes32",name:"permitS",type:"bytes32"}],name:"repayWithPermit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"configuration",type:"uint256"}],name:"setConfiguration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"rateStrategyAddress",type:"address"}],name:"setReserveInterestRateStrategyAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"categoryId",type:"uint8"}],name:"setUserEMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"bool",name:"useAsCollateral",type:"bool"}],name:"setUserUseReserveAsCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"supply",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"permitV",type:"uint8"},{internalType:"bytes32",name:"permitR",type:"bytes32"},{internalType:"bytes32",name:"permitS",type:"bytes32"}],name:"supplyWithPermit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"swapBorrowRateMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bridgeProtocolFee",type:"uint256"}],name:"updateBridgeProtocolFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"flashLoanPremiumTotal",type:"uint256"},{internalType:"uint256",name:"flashLoanPremiumToProtocol",type:"uint256"}],name:"updateFlashloanPremiums",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"withdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];class Mt{static createInterface(){return new H["utils"].Interface(Rt)}static connect(e,t){return new x["b"](e,Rt,t)}}Mt.abi=Rt;const Bt=(e,t,n,a,r,i,s,o,d,u)=>H["utils"].defaultAbiCoder.encode(["address","uint256","uint256","bytes","address","tuple(uint256,uint256,uint8,bytes32,bytes32)"],[e,t,n,a,r,[i,s,o,d,u]]);class Ut extends V{constructor(e,t){super(e,Mt);const{POOL:n,FLASH_LIQUIDATION_ADAPTER:a,REPAY_WITH_COLLATERAL_ADAPTER:r,SWAP_COLLATERAL_ADAPTER:i,WETH_GATEWAY:s,L2_ENCODER:o}=null!==t&&void 0!==t?t:{};this.poolAddress=null!==n&&void 0!==n?n:"",this.flashLiquidationAddress=null!==a&&void 0!==a?a:"",this.swapCollateralAddress=null!==i&&void 0!==i?i:"",this.repayWithCollateralAddress=null!==r&&void 0!==r?r:"",this.l2EncoderAddress=null!==o&&void 0!==o?o:"",this.erc20_2612Service=new xt(e),this.erc20Service=new Ee(e),this.synthetixService=new ze(e),this.wethGatewayService=new $e(e,this.erc20Service,s),this.liquiditySwapAdapterService=new Me(e,i),this.paraswapRepayWithCollateralAdapterService=new Le(e,r),this.l2PoolService=new It(e,{l2PoolAddress:this.poolAddress,encoderAddress:this.l2EncoderAddress})}async deposit({user:e,reserve:t,amount:n,onBehalfOf:a,referralCode:r}){if(t.toLowerCase()===F["a"].toLowerCase())return this.wethGatewayService.depositETH({lendingPool:this.poolAddress,user:e,amount:n,onBehalfOf:a,referralCode:r});const{isApproved:i,approve:s,decimalsOf:o}=this.erc20Service,d=[],u=await o(t),c=Object(F["l"])(n,u),l=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:c});if(!l)throw new Error("Not enough funds to execute operation");const p=await i({token:t,user:e,spender:this.poolAddress,amount:n});if(!p){const n=s({user:e,token:t,spender:this.poolAddress,amount:F["b"]});d.push(n)}const f=this.getContractInstance(this.poolAddress),y=this.generateTxCallback({rawTxMethod:async()=>f.populateTransaction.deposit(t,c,null!==a&&void 0!==a?a:e,null!==r&&void 0!==r?r:"0"),from:e,value:Object(F["j"])(t,c)});return d.push({tx:y,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,y,B["c"].supply)}),d}async supply({user:e,reserve:t,amount:n,onBehalfOf:a,referralCode:r,useOptimizedPath:i}){if(t.toLowerCase()===F["a"].toLowerCase())return this.wethGatewayService.depositETH({lendingPool:this.poolAddress,user:e,amount:n,onBehalfOf:a,referralCode:r});const{isApproved:s,approve:o,decimalsOf:d}=this.erc20Service,u=[],c=await d(t),l=Object(F["l"])(n,c),p=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:l});if(!p)throw new Error("Not enough funds to execute operation");const f=await s({token:t,user:e,spender:this.poolAddress,amount:n});if(!f){const n=o({user:e,token:t,spender:this.poolAddress,amount:F["b"]});u.push(n)}const y=this.getContractInstance(this.poolAddress);if(i)return this.l2PoolService.supply({user:e,reserve:t,amount:l,referralCode:r},u);const m=this.generateTxCallback({rawTxMethod:async()=>y.populateTransaction.supply(t,l,null!==a&&void 0!==a?a:e,null!==r&&void 0!==r?r:"0"),from:e,value:Object(F["j"])(t,l)});return u.push({tx:m,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(u,m,B["c"].supply)}),u}async signERC20Approval({user:e,reserve:t,amount:n,deadline:a}){const{getTokenData:r,isApproved:i}=this.erc20Service,{name:s,decimals:o}=await r(t),d="-1"===n?H["constants"].MaxUint256.toString():Object(F["l"])(n,o),u=await i({token:t,user:e,spender:this.poolAddress,amount:n});if(u)return"";const{chainId:c}=await this.provider.getNetwork(),l=await this.erc20_2612Service.getNonce({token:t,owner:e});if(null===l)return"";const p={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},primaryType:"Permit",domain:{name:s,version:"1",chainId:c,verifyingContract:t},message:{owner:e,spender:this.poolAddress,value:d,nonce:l,deadline:a}};return JSON.stringify(p)}async supplyWithPermit({user:e,reserve:t,onBehalfOf:n,amount:a,referralCode:r,signature:i,useOptimizedPath:s,deadline:o}){const d=[],{decimalsOf:u}=this.erc20Service,c=this.getContractInstance(this.poolAddress),l=await u(t),p=Object(F["l"])(a,l),f=Object(wt["splitSignature"])(i),y=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:p});if(!y)throw new Error("Not enough funds to execute operation");if(s)return this.l2PoolService.supplyWithPermit({user:e,reserve:t,amount:p,referralCode:r,deadline:o,permitV:f.v,permitR:f.r,permitS:f.s},d);const m=this.generateTxCallback({rawTxMethod:async()=>c.populateTransaction.supplyWithPermit(t,p,null!==n&&void 0!==n?n:e,null!==r&&void 0!==r?r:0,o,f.v,f.r,f.s),from:e});return d.push({tx:m,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,m)}),d}async withdraw({user:e,reserve:t,amount:n,onBehalfOf:a,aTokenAddress:r,useOptimizedPath:i}){if(t.toLowerCase()===F["a"].toLowerCase()){if(!r)throw new Error("To withdraw ETH you need to pass the aWETH token address");return this.wethGatewayService.withdrawETH({lendingPool:this.poolAddress,user:e,amount:n,onBehalfOf:a,aTokenAddress:r})}const{decimalsOf:s}=this.erc20Service,o=await s(t),d="-1"===n?H["constants"].MaxUint256.toString():Object(F["l"])(n,o);if(i)return this.l2PoolService.withdraw({user:e,reserve:t,amount:d});const u=this.getContractInstance(this.poolAddress),c=this.generateTxCallback({rawTxMethod:async()=>u.populateTransaction.withdraw(t,d,null!==a&&void 0!==a?a:e),from:e,action:B["c"].withdraw});return[{tx:c,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],c,B["c"].withdraw)}]}async borrow({user:e,reserve:t,amount:n,interestRateMode:a,debtTokenAddress:r,onBehalfOf:i,referralCode:s,useOptimizedPath:o}){if(t.toLowerCase()===F["a"].toLowerCase()){if(!r)throw new Error("To borrow ETH you need to pass the stable or variable WETH debt Token Address corresponding the interestRateMode");return this.wethGatewayService.borrowETH({lendingPool:this.poolAddress,user:e,amount:n,debtTokenAddress:r,interestRateMode:a,referralCode:s})}const{decimalsOf:d}=this.erc20Service,u=await d(t),c=Object(F["l"])(n,u),l=a===B["b"].Variable?2:1;if(o)return this.l2PoolService.borrow({user:e,reserve:t,amount:c,numericRateMode:l,referralCode:s});const p=this.getContractInstance(this.poolAddress),f=this.generateTxCallback({rawTxMethod:async()=>p.populateTransaction.borrow(t,c,l,null!==s&&void 0!==s?s:0,null!==i&&void 0!==i?i:e),from:e});return[{tx:f,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],f)}]}async repay({user:e,reserve:t,amount:n,interestRateMode:a,onBehalfOf:r,useOptimizedPath:i}){if(t.toLowerCase()===F["a"].toLowerCase())return this.wethGatewayService.repayETH({lendingPool:this.poolAddress,user:e,amount:n,interestRateMode:a,onBehalfOf:r});const s=[],{isApproved:o,approve:d,decimalsOf:u}=this.erc20Service,c=this.getContractInstance(this.poolAddress),{populateTransaction:l}=c,p=a===B["b"].Variable?2:1,f=await u(t),y="-1"===n?H["constants"].MaxUint256.toString():Object(F["l"])(n,f);if("-1"!==n){const n=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:y});if(!n)throw new Error("Not enough funds to execute operation")}const m=await o({token:t,user:e,spender:this.poolAddress,amount:n});if(!m){const n=d({user:e,token:t,spender:this.poolAddress,amount:F["b"]});s.push(n)}if(i)return this.l2PoolService.repay({user:e,reserve:t,amount:y,numericRateMode:p},s);const b=this.generateTxCallback({rawTxMethod:async()=>l.repay(t,y,p,null!==r&&void 0!==r?r:e),from:e,value:Object(F["j"])(t,y)});return s.push({tx:b,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(s,b,B["c"].repay)}),s}async repayWithPermit({user:e,reserve:t,amount:n,interestRateMode:a,onBehalfOf:r,signature:i,useOptimizedPath:s,deadline:o}){const d=[],{decimalsOf:u}=this.erc20Service,c=this.getContractInstance(this.poolAddress),{populateTransaction:l}=c,p=a===B["b"].Variable?2:1,f=await u(t),y=H["utils"].splitSignature(i),m="-1"===n?H["constants"].MaxUint256.toString():Object(F["l"])(n,f);if("-1"!==n){const n=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:m});if(!n)throw new Error("Not enough funds to execute operation")}if(s)return this.l2PoolService.repayWithPermit({user:e,reserve:t,amount:m,numericRateMode:p,deadline:o,permitR:y.r,permitS:y.s,permitV:y.v},d);const b=this.generateTxCallback({rawTxMethod:async()=>l.repayWithPermit(t,m,p,null!==r&&void 0!==r?r:e,o,y.v,y.r,y.s),from:e,value:Object(F["j"])(t,m)});return d.push({tx:b,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,b,B["c"].repay)}),d}async swapBorrowRateMode({user:e,reserve:t,interestRateMode:n,useOptimizedPath:a}){const r=n===B["b"].Variable?2:1;if(a)return this.l2PoolService.swapBorrowRateMode({user:e,reserve:t,numericRateMode:r});const i=this.getContractInstance(this.poolAddress),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.swapBorrowRateMode(t,r),from:e});return[{txType:B["d"].DLP_ACTION,tx:s,gas:this.generateTxPriceEstimation([],s)}]}async setUsageAsCollateral({user:e,reserve:t,usageAsCollateral:n,useOptimizedPath:a}){const r=this.getContractInstance(this.poolAddress);if(a)return this.l2PoolService.setUserUseReserveAsCollateral({user:e,reserve:t,usageAsCollateral:n});const i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.setUserUseReserveAsCollateral(t,n),from:e});return[{tx:i,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],i)}]}async liquidationCall({liquidator:e,liquidatedUser:t,debtReserve:n,collateralReserve:a,purchaseAmount:r,getAToken:i,liquidateAll:s,useOptimizedPath:o}){const d=[],{isApproved:u,approve:c,decimalsOf:l}=this.erc20Service,p=await u({token:n,user:e,spender:this.poolAddress,amount:r});if(!p){const t=c({user:e,token:n,spender:this.poolAddress,amount:F["b"]});d.push(t)}let f=H["constants"].MaxUint256.toString();if(!s){const e=await l(n);f=Object(F["l"])(r,e)}if(o)return this.l2PoolService.liquidationCall({liquidator:e,liquidatedUser:t,debtReserve:n,collateralReserve:a,debtToCover:f,getAToken:i},d);const y=this.getContractInstance(this.poolAddress),m=this.generateTxCallback({rawTxMethod:async()=>y.populateTransaction.liquidationCall(a,n,t,f,null!==i&&void 0!==i&&i),from:e,value:Object(F["j"])(n,f)});return d.push({tx:m,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,m,B["c"].liquidationCall)}),d}async swapCollateral({user:e,flash:t,fromAsset:n,fromAToken:a,toAsset:r,fromAmount:i,minToAmount:s,permitSignature:o,swapAll:d,referralCode:u,augustus:c,swapCallData:l}){const p=[],f=null!==o&&void 0!==o?o:{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},y=await this.erc20Service.isApproved({token:a,user:e,spender:this.swapCollateralAddress,amount:i});if(!y){const t=this.erc20Service.approve({user:e,token:a,spender:this.swapCollateralAddress,amount:H["constants"].MaxUint256.toString()});p.push(t)}const m=await this.erc20Service.decimalsOf(n),b=Object(F["l"])(i,m),h=await this.erc20Service.decimalsOf(r),T=Object(F["l"])(s,h),g=this.getContractInstance(this.poolAddress);if(t){const t=Bt(r,T,d?Re(l):0,l,c,f.amount,f.deadline,f.v,f.r,f.s),a=(Number(i)+Number(i)*Number(F["f"])/100).toString(),s=Object(F["l"])(a,m),o=this.generateTxCallback({rawTxMethod:async()=>g.populateTransaction.flashLoanSimple(this.swapCollateralAddress,n,d?s:b,t,null!==u&&void 0!==u?u:"0"),from:e});return p.push({tx:o,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(p,o,B["c"].swapCollateral)}),p}const v=this.liquiditySwapAdapterService.swapAndDeposit({user:e,assetToSwapFrom:n,assetToSwapTo:r,amountToSwap:b,minAmountToReceive:T,swapAll:d,swapCallData:l,augustus:c,permitParams:f},p);return p.push(v),p}async paraswapRepayWithCollateral({user:e,fromAsset:t,fromAToken:n,assetToRepay:a,repayWithAmount:r,repayAmount:i,permitSignature:s,repayAllDebt:o,rateMode:d,referralCode:u,flash:c,swapAndRepayCallData:l,augustus:p}){const f=[],y=null!==s&&void 0!==s?s:{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},m=await this.erc20Service.isApproved({token:n,user:e,spender:this.repayWithCollateralAddress,amount:r});if(!m){const t=this.erc20Service.approve({user:e,token:n,spender:this.repayWithCollateralAddress,amount:H["constants"].MaxUint256.toString()});f.push(t)}const b=await this.erc20Service.decimalsOf(t),h=Object(F["l"])(r,b),T=(Number(r)+Number(r)*Number(F["f"])/100).toString(),g=Object(F["l"])(T,b),v=await this.erc20Service.decimalsOf(a),w=Object(F["l"])(i,v),O=d===B["b"].Stable?1:2;if(c){const n=H["utils"].defaultAbiCoder.encode(["bytes","address"],[l,p]),r=H["utils"].defaultAbiCoder.encode(["address","uint256","uint256","uint256","bytes","uint256","uint256","uint8","bytes32","bytes32"],[a,w,o?Object(F["g"])(l):0,O,n,y.amount,y.deadline,y.v,y.r,y.s]),i=this.getContractInstance(this.poolAddress),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.flashLoanSimple(this.repayWithCollateralAddress,t,o?g:h,r,null!==u&&void 0!==u?u:"0"),from:e});return f.push({tx:s,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(f,s,B["c"].repayCollateral)}),f}const _=this.paraswapRepayWithCollateralAdapterService.swapAndRepay({user:e,collateralAsset:t,debtAsset:a,collateralAmount:h,debtRepayAmount:w,debtRateMode:d,permitParams:y,repayAll:null!==o&&void 0!==o&&o,swapAndRepayCallData:l,augustus:p},f);return f.push(_),f}async flashLiquidation({user:e,collateralAsset:t,borrowedAsset:n,debtTokenCover:a,liquidateAll:r,initiator:i,useEthPath:s}){const o=e=>(Number(e)+Number(e)*Number(e)/100).toString(),d=[],u=this.getContractInstance(this.poolAddress),c=await this.erc20Service.decimalsOf(n),l=Object(F["l"])(a,c),p=r?H["constants"].MaxUint256.toString():l,f=r?Object(F["l"])(o(a),c):l,y=H["utils"].defaultAbiCoder.encode(["address","address","address","uint256","bool"],[t,n,e,p,null!==s&&void 0!==s&&s]),m=this.generateTxCallback({rawTxMethod:async()=>u.populateTransaction.flashLoanSimple(this.flashLiquidationAddress,n,f,y,"0"),from:i});return d.push({tx:m,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,m,B["c"].liquidationFlash)}),d}async repayWithATokens({user:e,amount:t,reserve:n,rateMode:a,useOptimizedPath:r}){if(n.toLowerCase()===F["a"].toLowerCase())throw new Error("Can not repay with aTokens with eth. Should be WETH instead");const i=[],{decimalsOf:s}=this.erc20Service,o=this.getContractInstance(this.poolAddress),{populateTransaction:d}=o,u=a===B["b"].Variable?2:1,c=await s(n),l="-1"===t?H["constants"].MaxUint256.toString():Object(F["l"])(t,c);if(r)return this.l2PoolService.repayWithATokens({user:e,reserve:n,amount:l,numericRateMode:u},i);const p=this.generateTxCallback({rawTxMethod:async()=>d.repayWithATokens(n,l,u),from:e,value:Object(F["j"])(n,l)});return i.push({tx:p,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(i,p,B["c"].repay)}),i}setUserEMode({user:e,categoryId:t}){const n=this.getContractInstance(this.poolAddress),a=this.generateTxCallback({rawTxMethod:async()=>n.populateTransaction.setUserEMode(t),from:e});return[{tx:a,txType:B["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],a,B["c"].repay)}]}}Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"deposit",null),Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"supply",null),Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["n"])("amount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"signERC20Approval",null),Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__param"])(0,Object(ye["l"])("referralCode")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"supplyWithPermit",null),Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["n"])("amount")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__param"])(0,Object(ye["d"])("aTokenAddress")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"withdraw",null),Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["l"])("amount")),Object(S["__param"])(0,Object(ye["d"])("debtTokenAddress")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"borrow",null),Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["n"])("amount")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"repay",null),Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["n"])("amount")),Object(S["__param"])(0,Object(ye["d"])("onBehalfOf")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"repayWithPermit",null),Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"swapBorrowRateMode",null),Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"setUsageAsCollateral",null),Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("liquidator")),Object(S["__param"])(0,Object(ye["d"])("liquidatedUser")),Object(S["__param"])(0,Object(ye["d"])("debtReserve")),Object(S["__param"])(0,Object(ye["d"])("collateralReserve")),Object(S["__param"])(0,Object(ye["l"])("purchaseAmount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"liquidationCall",null),Object(S["__decorate"])([J,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("fromAsset")),Object(S["__param"])(0,Object(ye["d"])("fromAToken")),Object(S["__param"])(0,Object(ye["d"])("toAsset")),Object(S["__param"])(0,Object(ye["d"])("augustus")),Object(S["__param"])(0,Object(ye["l"])("fromAmount")),Object(S["__param"])(0,Object(ye["l"])("minToAmount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"swapCollateral",null),Object(S["__decorate"])([K,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("fromAsset")),Object(S["__param"])(0,Object(ye["d"])("fromAToken")),Object(S["__param"])(0,Object(ye["d"])("assetToRepay")),Object(S["__param"])(0,Object(ye["l"])("repayWithAmount")),Object(S["__param"])(0,Object(ye["l"])("repayAmount")),Object(S["__param"])(0,Object(ye["d"])("augustus")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"paraswapRepayWithCollateral",null),Object(S["__decorate"])([G,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("collateralAsset")),Object(S["__param"])(0,Object(ye["d"])("borrowedAsset")),Object(S["__param"])(0,Object(ye["l"])("debtTokenCover")),Object(S["__param"])(0,Object(ye["d"])("initiator")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"flashLiquidation",null),Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["d"])("reserve")),Object(S["__param"])(0,Object(ye["n"])("amount")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Promise)],Ut.prototype,"repayWithATokens",null),Object(S["__decorate"])([$,Object(S["__param"])(0,Object(ye["d"])("user")),Object(S["__param"])(0,Object(ye["a"])("categoryId")),Object(S["__metadata"])("design:type",Function),Object(S["__metadata"])("design:paramtypes",[Object]),Object(S["__metadata"])("design:returntype",Array)],Ut.prototype,"setUserEMode",null);n("eed8");const Nt=o["BigNumber"].clone({DECIMAL_PLACES:0,ROUNDING_MODE:o["BigNumber"].ROUND_DOWN});function Lt(e){return e instanceof o["BigNumber"]?e:new o["BigNumber"](e)}function Ft(e){return new Nt(e)}function Vt(e,t){return Ht(e,t).toString(10)}function Ht(e,t){return Lt(e).shiftedBy(-1*t)}const Wt=Lt("31536000"),qt=8,Gt=27,zt=4,Yt=Ft(10).pow(18),Kt=(Yt.dividedBy(2),Ft(10).pow(27)),Jt=Kt.dividedBy(2),Qt=Ft(10).pow(9);function Zt(e,t){return Jt.plus(Ft(e).multipliedBy(t)).div(Kt)}function $t(e,t){const n=Ft(t).div(2);return n.plus(Ft(e).multipliedBy(Kt)).div(t)}function Xt(e){const t=Ft(Qt).div(2);return t.plus(e).div(Qt)}function en(e){return Ft(e).multipliedBy(Qt).decimalPlaces(0)}function tn(e,t){let n=Ft(e),a=Ft(t),r=a.modulo(2).eq(0)?Ft(Kt):n;for(a=a.div(2);!a.eq(0);a=a.div(2))n=Zt(n,n),a.modulo(2).eq(0)||(r=Zt(r,n));return r}function nn(e,t){const n=Ft(e),a=Ft(t);if(a.eq(0))return Kt;const r=a.minus(1),i=a.gt(2)?a.minus(2):0,s=Zt(n,n),o=Zt(s,n),d=a.multipliedBy(n),u=a.multipliedBy(r).multipliedBy(s).div(2),c=a.multipliedBy(r).multipliedBy(i).multipliedBy(o).div(6);return Kt.plus(d).plus(u).plus(c)}function an({amount:e,currencyDecimals:t,priceInMarketReferenceCurrency:n,marketReferenceCurrencyDecimals:a,normalizedMarketReferencePriceInUsd:r}){return Lt(e.toString()).multipliedBy(n).multipliedBy(r).dividedBy(new d.a(1).shiftedBy(t+a)).toString()}function rn(e,t,n){return e.multipliedBy(t).shiftedBy(-1*n)}function sn({rate:e,currentTimestamp:t,lastUpdateTimestamp:n}){const a=Ft(t-n),r=Ft(e).dividedBy(Wt);return nn(r,a)}function on(e,t){const n=dn(e,t),a=un(e,t),r=n.plus(a),i=r.plus(e.availableLiquidity);return{totalVariableDebt:n,totalStableDebt:a,totalDebt:r,totalLiquidity:i}}function dn(e,t){return Zt(Zt(e.totalScaledVariableDebt,e.variableBorrowIndex),sn({rate:e.variableBorrowRate,currentTimestamp:t,lastUpdateTimestamp:e.lastUpdateTimestamp}))}function un(e,t){return Zt(e.totalPrincipalStableDebt,sn({rate:e.averageStableRate,currentTimestamp:t,lastUpdateTimestamp:e.stableDebtLastUpdateTimestamp}))}function cn({reserve:e,currentTimestamp:t}){const{totalDebt:n,totalStableDebt:a,totalVariableDebt:r,totalLiquidity:i}=on(e,t),s=i.eq(0)?"0":Lt(n).dividedBy(i).toFixed(),o=i.eq(0)?"0":Lt(n).dividedBy(i.plus(e.unbacked)).toFixed(),u=Vt(Lt(e.reserveLiquidationBonus).minus(10**zt),zt),c=Vt(Lt(e.eModeLiquidationBonus).minus(10**zt),zt),l="0"===e.borrowCap?new d.a(e.availableLiquidity):d.a.min(e.availableLiquidity,new d.a(e.borrowCap).shiftedBy(e.decimals).minus(n.plus(1))),p=tn(Ft(e.liquidityRate).dividedBy(Wt).plus(Kt),Wt).minus(Kt),f=tn(Ft(e.variableBorrowRate).dividedBy(Wt).plus(Kt),Wt).minus(Kt),y=tn(Ft(e.stableBorrowRate).dividedBy(Wt).plus(Kt),Wt).minus(Kt);return{totalDebt:n,totalStableDebt:a,totalVariableDebt:r,totalLiquidity:i,borrowUsageRatio:s,supplyUsageRatio:o,formattedReserveLiquidationBonus:u,formattedEModeLiquidationBonus:c,formattedEModeLiquidationThreshold:e.eModeLiquidationThreshold.toString(),formattedEModeLtv:e.eModeLtv.toString(),supplyAPY:p,variableBorrowAPY:f,stableBorrowAPY:y,formattedAvailableLiquidity:l,unborrowedLiquidity:e.availableLiquidity}}function ln({reserve:e}){const t=t=>Vt(t,e.decimals),n="0"!==e.debtCeiling,a=n?Vt(Lt(e.debtCeiling).minus(e.isolationModeTotalDebt),e.debtCeilingDecimals):"0";return Object.assign(Object.assign({},e),{totalVariableDebt:t(e.totalVariableDebt),totalStableDebt:t(e.totalStableDebt),totalLiquidity:t(e.totalLiquidity),formattedAvailableLiquidity:t(e.availableLiquidity),unborrowedLiquidity:t(e.unborrowedLiquidity),borrowUsageRatio:e.borrowUsageRatio,supplyUsageRatio:e.supplyUsageRatio,totalDebt:t(e.totalDebt),formattedBaseLTVasCollateral:Vt(e.baseLTVasCollateral,zt),formattedEModeLtv:Vt(e.eModeLtv,zt),reserveFactor:Vt(e.reserveFactor,zt),supplyAPY:Vt(e.supplyAPY,Gt),supplyAPR:Vt(e.liquidityRate,Gt),variableBorrowAPY:Vt(e.variableBorrowAPY,Gt),variableBorrowAPR:Vt(e.variableBorrowRate,Gt),stableBorrowAPY:Vt(e.stableBorrowAPY,Gt),stableBorrowAPR:Vt(e.stableBorrowRate,Gt),formattedReserveLiquidationThreshold:Vt(e.reserveLiquidationThreshold,4),formattedEModeLiquidationThreshold:Vt(e.eModeLiquidationThreshold,4),formattedReserveLiquidationBonus:Vt(Lt(e.reserveLiquidationBonus).minus(10**zt),4),formattedEModeLiquidationBonus:Vt(Lt(e.eModeLiquidationBonus).minus(10**zt),4),totalScaledVariableDebt:t(e.totalScaledVariableDebt),totalPrincipalStableDebt:t(e.totalPrincipalStableDebt),debtCeilingUSD:n?Vt(e.debtCeiling,e.debtCeilingDecimals):"0",isolationModeTotalDebtUSD:n?Vt(e.isolationModeTotalDebt,e.debtCeilingDecimals):"0",availableDebtCeilingUSD:a,isIsolated:n})}function pn({reserve:e,currentTimestamp:t,marketReferencePriceInUsd:n,marketReferenceCurrencyDecimals:a}){const r=Ht(n,qt),i=cn({reserve:e,currentTimestamp:t}),s=ln({reserve:Object.assign(Object.assign({},e),i)});return Object.assign(Object.assign({},s),{totalLiquidityUSD:an({amount:i.totalLiquidity,currencyDecimals:e.decimals,marketReferenceCurrencyDecimals:a,priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,normalizedMarketReferencePriceInUsd:r}),availableLiquidityUSD:an({amount:i.formattedAvailableLiquidity,currencyDecimals:e.decimals,marketReferenceCurrencyDecimals:a,priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,normalizedMarketReferencePriceInUsd:r}),totalDebtUSD:an({amount:i.totalDebt,currencyDecimals:e.decimals,marketReferenceCurrencyDecimals:a,priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,normalizedMarketReferencePriceInUsd:r}),totalVariableDebtUSD:an({amount:i.totalVariableDebt,currencyDecimals:e.decimals,marketReferenceCurrencyDecimals:a,priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,normalizedMarketReferencePriceInUsd:r}),totalStableDebtUSD:an({amount:i.totalStableDebt,currencyDecimals:e.decimals,marketReferenceCurrencyDecimals:a,priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,normalizedMarketReferencePriceInUsd:r}),formattedPriceInMarketReferenceCurrency:Vt(e.priceInMarketReferenceCurrency,a),priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,priceInUSD:an({amount:new d.a(1).shiftedBy(e.decimals),currencyDecimals:e.decimals,marketReferenceCurrencyDecimals:a,priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,normalizedMarketReferencePriceInUsd:r}),borrowCapUSD:rn(new d.a(e.borrowCap),e.priceInMarketReferenceCurrency,a).toString(),supplyCapUSD:rn(new d.a(e.supplyCap),e.priceInMarketReferenceCurrency,a).toString(),unbackedUSD:rn(new d.a(e.unbacked),e.priceInMarketReferenceCurrency,a).toString()})}function fn({reserves:e,currentTimestamp:t,marketReferencePriceInUsd:n,marketReferenceCurrencyDecimals:a}){return e.map(e=>{const r=pn({reserve:e,currentTimestamp:t,marketReferencePriceInUsd:n,marketReferenceCurrencyDecimals:a});return Object.assign(Object.assign({},e),r)})}function yn({reserve:e,marketReferenceCurrencyDecimals:t}){const{userReserve:n}=e,{reserve:a}=n,r=a.decimals,i=e=>Vt(e,a.decimals),s=tn(Ft(n.stableBorrowRate).dividedBy(Wt).plus(Kt),Wt).minus(Kt);return Object.assign(Object.assign({},n),{underlyingBalance:Vt(e.underlyingBalance,r),underlyingBalanceMarketReferenceCurrency:Vt(e.underlyingBalanceMarketReferenceCurrency,t),underlyingBalanceUSD:e.underlyingBalanceUSD.toString(),stableBorrows:i(e.stableBorrows),stableBorrowsMarketReferenceCurrency:Vt(e.stableBorrowsMarketReferenceCurrency,t),stableBorrowsUSD:e.stableBorrowsUSD.toString(),variableBorrows:i(e.variableBorrows),variableBorrowsMarketReferenceCurrency:Vt(e.variableBorrowsMarketReferenceCurrency,t),variableBorrowsUSD:e.variableBorrowsUSD.toString(),totalBorrows:i(e.totalBorrows),totalBorrowsMarketReferenceCurrency:Vt(e.totalBorrowsMarketReferenceCurrency,t),totalBorrowsUSD:e.totalBorrowsUSD.toString(),stableBorrowAPR:Vt(n.stableBorrowRate,Gt),stableBorrowAPY:Vt(s,Gt)})}function mn({rate:e,currentTimestamp:t,lastUpdateTimestamp:n}){const a=Ft(t-n),r=Ft(e).dividedBy(Wt);return nn(r,a)}function bn({principalBalance:e,reserveIndex:t,reserveRate:n,lastUpdateTimestamp:a,currentTimestamp:r}){const i=Ft(e);if(i.eq("0"))return i;const s=mn({rate:n,currentTimestamp:r,lastUpdateTimestamp:a}),o=Zt(s,t),d=en(i);return Xt(Zt(d,o))}function hn({rate:e,currentTimestamp:t,lastUpdateTimestamp:n}){const a=en(Ft(t-n)),r=$t(a,en(Wt)),i=Zt(e,r).plus(Kt);return i}function Tn({rate:e,index:t,lastUpdateTimestamp:n,currentTimestamp:a}){if(Ft(e).eq("0"))return Ft(t);const r=hn({rate:e,currentTimestamp:a,lastUpdateTimestamp:n});return Zt(r,t)}function gn({balance:e,index:t,rate:n,lastUpdateTimestamp:a,currentTimestamp:r}){return Xt(Zt(en(e),Tn({rate:n,index:t,lastUpdateTimestamp:a,currentTimestamp:r})))}function vn({principalBalance:e,userStableRate:t,lastUpdateTimestamp:n,currentTimestamp:a}){const r=Ft(e);if(r.eq("0"))return r;const i=mn({rate:t,currentTimestamp:a,lastUpdateTimestamp:n}),s=en(r);return Xt(Zt(s,i))}function wn({borrowBalanceMarketReferenceCurrency:e,collateralBalanceMarketReferenceCurrency:t,currentLiquidationThreshold:n}){return Lt(e).eq(0)?Lt("-1"):Lt(t).multipliedBy(n).shiftedBy(-1*zt).div(e)}function On({collateralBalanceMarketReferenceCurrency:e,borrowBalanceMarketReferenceCurrency:t,currentLtv:n}){if(Ft(n).eq(0))return Ft("0");const a=Ft(e).multipliedBy(n).shiftedBy(-1*zt).minus(t);return a.gt("0")?a:Ft("0")}function _n({balance:e,priceInMarketReferenceCurrency:t,marketReferenceCurrencyDecimals:n,decimals:a,marketReferencePriceInUsdNormalized:r}){const i=Ft(e).multipliedBy(t).shiftedBy(-1*a),s=i.multipliedBy(r).shiftedBy(-1*n);return{marketReferenceCurrencyBalance:i,usdBalance:s}}function jn({userReserves:e,userEmodeCategoryId:t}){let n,a=Ft("0"),r=Ft("0"),i=Ft("0"),s=Lt("0"),o=Lt("0"),d=!1;return e.forEach(e=>{a=a.plus(e.underlyingBalanceMarketReferenceCurrency),i=i.plus(e.variableBorrowsMarketReferenceCurrency).plus(e.stableBorrowsMarketReferenceCurrency),e.userReserve.reserve.usageAsCollateralEnabled&&e.userReserve.usageAsCollateralEnabledOnUser&&("0"!==e.userReserve.reserve.debtCeiling&&(n=e.userReserve.reserve,d=!0),r=r.plus(e.underlyingBalanceMarketReferenceCurrency),t&&t===e.userReserve.reserve.eModeCategoryId?(s=s.plus(Lt(e.underlyingBalanceMarketReferenceCurrency).multipliedBy(e.userReserve.reserve.eModeLtv)),o=o.plus(Lt(e.underlyingBalanceMarketReferenceCurrency).multipliedBy(e.userReserve.reserve.eModeLiquidationThreshold))):(s=s.plus(Lt(e.underlyingBalanceMarketReferenceCurrency).multipliedBy(e.userReserve.reserve.baseLTVasCollateral)),o=o.plus(Lt(e.underlyingBalanceMarketReferenceCurrency).multipliedBy(e.userReserve.reserve.reserveLiquidationThreshold))))}),s.gt(0)&&(s=Ft(s.div(r))),o.gt(0)&&(o=Ft(o.div(r))),{totalLiquidityMarketReferenceCurrency:a,totalBorrowsMarketReferenceCurrency:i,totalCollateralMarketReferenceCurrency:r,currentLtv:s,currentLiquidationThreshold:o,isInIsolationMode:d,isolatedReserve:n}}function An({userReserves:e,marketReferencePriceInUsd:t,marketReferenceCurrencyDecimals:n,userEmodeCategoryId:a}){const{totalLiquidityMarketReferenceCurrency:r,totalBorrowsMarketReferenceCurrency:i,totalCollateralMarketReferenceCurrency:s,currentLtv:o,currentLiquidationThreshold:u,isInIsolationMode:c,isolatedReserve:l}=jn({userReserves:e,userEmodeCategoryId:a}),p=On({collateralBalanceMarketReferenceCurrency:s,borrowBalanceMarketReferenceCurrency:i,currentLtv:o}),f=c&&l?d.a.min(Ht(new d.a(l.debtCeiling).minus(l.isolationModeTotalDebt),l.debtCeilingDecimals-n),p):p;return{isInIsolationMode:c,isolatedReserve:l,totalLiquidityUSD:rn(r,t,n),totalCollateralUSD:rn(s,t,n),totalBorrowsUSD:rn(i,t,n),totalLiquidityMarketReferenceCurrency:r,totalCollateralMarketReferenceCurrency:s,totalBorrowsMarketReferenceCurrency:i,availableBorrowsMarketReferenceCurrency:f,availableBorrowsUSD:rn(f,t,n),currentLoanToValue:o,currentLiquidationThreshold:u,healthFactor:wn({collateralBalanceMarketReferenceCurrency:s,borrowBalanceMarketReferenceCurrency:i,currentLiquidationThreshold:u})}}function kn({userReserve:e,marketReferencePriceInUsdNormalized:t,marketReferenceCurrencyDecimals:n,currentTimestamp:a}){const r=e.reserve,{priceInMarketReferenceCurrency:i,decimals:s}=r,o=gn({balance:e.scaledATokenBalance,index:r.liquidityIndex,rate:r.liquidityRate,lastUpdateTimestamp:r.lastUpdateTimestamp,currentTimestamp:a}),{marketReferenceCurrencyBalance:d,usdBalance:u}=_n({balance:o,priceInMarketReferenceCurrency:i,marketReferenceCurrencyDecimals:n,decimals:s,marketReferencePriceInUsdNormalized:t}),c=bn({principalBalance:e.scaledVariableDebt,reserveIndex:r.variableBorrowIndex,reserveRate:r.variableBorrowRate,lastUpdateTimestamp:r.lastUpdateTimestamp,currentTimestamp:a}),{marketReferenceCurrencyBalance:l,usdBalance:p}=_n({balance:c,priceInMarketReferenceCurrency:i,marketReferenceCurrencyDecimals:n,decimals:s,marketReferencePriceInUsdNormalized:t}),f=vn({principalBalance:e.principalStableDebt,userStableRate:e.stableBorrowRate,lastUpdateTimestamp:e.stableBorrowLastUpdateTimestamp,currentTimestamp:a}),{marketReferenceCurrencyBalance:y,usdBalance:m}=_n({balance:f,priceInMarketReferenceCurrency:i,marketReferenceCurrencyDecimals:n,decimals:s,marketReferencePriceInUsdNormalized:t});return{userReserve:e,underlyingBalance:o,underlyingBalanceMarketReferenceCurrency:d,underlyingBalanceUSD:u,variableBorrows:c,variableBorrowsMarketReferenceCurrency:l,variableBorrowsUSD:p,stableBorrows:f,stableBorrowsMarketReferenceCurrency:y,stableBorrowsUSD:m,totalBorrows:c.plus(f),totalBorrowsMarketReferenceCurrency:l.plus(y),totalBorrowsUSD:p.plus(m)}}function xn({currentTimestamp:e,marketReferencePriceInUsd:t,marketReferenceCurrencyDecimals:n,userReserves:a,formattedReserves:r,userEmodeCategoryId:i}){const s=Vt(t,qt),o=[];a.forEach(e=>{const t=r.find(t=>t.underlyingAsset.toLowerCase()===e.underlyingAsset.toLowerCase());t&&o.push(Object.assign(Object.assign({},e),{reserve:t}))});const d=o.map(t=>kn({userReserve:t,marketReferencePriceInUsdNormalized:s,marketReferenceCurrencyDecimals:n,currentTimestamp:e})),u=d.map(e=>yn({reserve:e,marketReferenceCurrencyDecimals:n})),c=An({userReserves:d,marketReferencePriceInUsd:s,marketReferenceCurrencyDecimals:n,userEmodeCategoryId:i});return{userReservesData:u,totalLiquidityMarketReferenceCurrency:Vt(c.totalLiquidityMarketReferenceCurrency,n),totalLiquidityUSD:c.totalLiquidityUSD.toString(),totalCollateralMarketReferenceCurrency:Vt(c.totalCollateralMarketReferenceCurrency,n),totalCollateralUSD:c.totalCollateralUSD.toString(),totalBorrowsMarketReferenceCurrency:Vt(c.totalBorrowsMarketReferenceCurrency,n),totalBorrowsUSD:c.totalBorrowsUSD.toString(),netWorthUSD:c.totalLiquidityUSD.minus(c.totalBorrowsUSD).toString(),availableBorrowsMarketReferenceCurrency:Vt(c.availableBorrowsMarketReferenceCurrency,n),availableBorrowsUSD:c.availableBorrowsUSD.toString(),currentLoanToValue:Vt(c.currentLoanToValue,zt),currentLiquidationThreshold:Vt(c.currentLiquidationThreshold,zt),healthFactor:c.healthFactor.toFixed(),isInIsolationMode:c.isInIsolationMode,isolatedReserve:c.isolatedReserve}}var Cn=n("5ba3"),Sn=n("5e3c"),Pn=n("8638"),En=n("3cf9"),Dn=n("3301"),In=n("9b88"),Rn=n("e863"),Mn=n("d73f"),Bn=n.n(Mn),Un=n("c030"),Nn=n("98b4"),Ln='[{"inputs":[{"internalType":"address[]","name":"assets","type":"address[]"},{"internalType":"address[]","name":"sources","type":"address[]"},{"internalType":"address","name":"fallbackOracle","type":"address"},{"internalType":"address","name":"weth","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"asset","type":"address"},{"indexed":true,"internalType":"address","name":"source","type":"address"}],"name":"AssetSourceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"fallbackOracle","type":"address"}],"name":"FallbackOracleUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"weth","type":"address"}],"name":"WethSet","type":"event"},{"inputs":[],"name":"WETH","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"asset","type":"address"}],"name":"getAssetPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"assets","type":"address[]"}],"name":"getAssetsPrices","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getFallbackOracle","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"asset","type":"address"}],"name":"getSourceOfAsset","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"assets","type":"address[]"},{"internalType":"address[]","name":"sources","type":"address[]"}],"name":"setAssetSources","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"fallbackOracle","type":"address"}],"name":"setFallbackOracle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]',Fn=n("2623"),Vn=["TUSD","DAI","USDT","USDC","sUSD"],Hn="0x7d2768dE32b0b80b7a3454c06BdAc94A69DDc7A9",Wn="0x80Aca0C645fEdABaa20fd2Bf0Daf57885A309FE6",qn="0x135896DE8421be2ec868E0b811006171D9df802A",Gn="0xcc9a0B7c43DC2a5F023Bb9b738E45B0Ef6B06E04",zn="0xA50ba011c48153De246E5192C8f9258A2ba79Ca9",Yn={name:"handlerAave",props:{open:{default:!1,type:Boolean},close:{default:function(){},type:Function},preSelectedToken:{default:function(){return{}},type:Object}},data:function(){return{reservesStable:[],reservesData:[],rawReserveData:[],liquidityRateHistoryUpdate:"",userReserveData:[],reservesRates30DaysAgo:[],usdPriceEth:"",userSummary:{},isLoadingData:!0,lendingPool:{},poolContract:{},priceOracle:{}}},mounted:function(){var e=new Un["ethers"].providers.StaticJsonRpcProvider("https://nodes.mewapi.io/rpc/eth",B["a"].mainnet);this.lendingPool=new nt(e,{LENDING_POOL:Hn,REPAY_WITH_COLLATERAL_ADAPTER:Wn,SWAP_COLLATERAL_ADAPTER:qn,WETH_GATEWAY:Gn}),this.poolContract=this.lendingPool.getContractInstance(Hn),this.priceOracle=new Un["ethers"].Contract(zn,Ln,e)},apollo:{$subscribe:{reserveUpdateSubscription:{query:Pn["ReserveUpdateSubscription"],variables:function(){return{pool:Rn["a"].POOL_ID}},client:"aave",result:function(e){var t=this,n=e.data;Promise.all(n.reserves.map((function(e){return t.rawDataParser(e)}))).then((function(e){t.rawReserveData=e.filter((function(e){return void 0!==e&&!e.isFrozen})),t.reservesData=fn({reserves:t.rawReserveData,currentTimestamp:Math.floor(Date.now()/1e3),marketReferenceCurrencyDecimals:18,marketReferencePriceInUsd:1/(t.usdPriceEth/Math.pow(10,18))}).reverse(),t.setFormatUserSummaryData()}))},error:function(e){Object(In["e"])(e.message,{},In["a"])}},userPositionUpdateSubscription:{query:En["UserPositionUpdateSubscription"],variables:function(){return{userAddress:this.address,pool:Rn["a"].POOL_ID}},client:"aave",skip:function(){return null===this.address||""===this.address},result:function(e){var t=this,n=e.data;this.userReserveData=n.userReserves.map((function(e){var n;return e.reserve["icon"]=(null===(n=t.contractToToken(e.underlyingAsset))||void 0===n?void 0:n.img)||Bn.a,Object(i["a"])(Object(i["a"])({},e),{},{underlyingAsset:e.reserve.underlyingAsset})})),this.setFormatUserSummaryData()},error:function(e){Object(In["e"])(e.message,{},In["a"])}},usdPriceEth:{query:Dn["UsdPriceEth"],client:"aave",result:function(e){var t=e.data;this.usdPriceEth=t.priceOracle.usdPriceEth,this.setFormatUserSummaryData()},error:function(e){Object(In["e"])(e.message,{},In["a"])}}}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["e"])("wallet",["address","web3"])),Object(s["e"])("global",["gasPriceType"])),Object(s["c"])("wallet",["tokensList","balanceInWei"])),Object(s["c"])("external",["contractToToken"])),Object(s["c"])("global",["getFiatValue","gasPriceByType","network"])),{},{userReservesData:function(){return this.userSummary.userReservesData},selectedTokenToUse:function(){return this.selectedToken||this.preSelectedToken},selectedTokenDetails:function(){var e=this;return this.reservesData.find((function(t){if(t.symbol===e.selectedTokenToUse.token)return t}))},selectedTokenUSD:function(){var e,t;return new d.a((null===(e=this.selectedTokenDetails)||void 0===e||null===(t=e.price)||void 0===t?void 0:t.priceInEth)||0).times(this.fiatValue)},selectedTokenInUserSummary:function(){var e,t,n=this;return null===(e=this.userSummary)||void 0===e||null===(t=e.userReservesData)||void 0===t?void 0:t.find((function(e){if(e.reserve.symbol===n.selectedTokenToUse.token)return e}))},userBorrowingPowerInETH:function(){var e,t=0,n=Object(A["a"])(this.userReservesData);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.usageAsCollateralEnabledOnUser&&(t+=a.underlyingBalanceMarketReferenceCurrency*a.reserve.formattedBaseLTVasCollateral)}}catch(r){n.e(r)}finally{n.f()}return t-=this.userSummary.totalBorrowsMarketReferenceCurrency,t<=0&&(t=0),t}}),methods:{rawDataParser:function(e){var t=this;return Object(j["a"])(Object(_["a"])().mark((function n(){var a,r;return Object(_["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.contractToToken(e.underlyingAsset),e["icon"]=(null===a||void 0===a?void 0:a.img)||Bn.a,"0"!==e.price.priceInEth){n.next=7;break}return n.next=5,t.getTokenPrice(e.underlyingAsset);case 5:r=n.sent,e.price.priceInEth=r.toString();case 7:return n.abrupt("return",Object(i["a"])(Object(i["a"])({},e),{},{priceInMarketReferenceCurrency:e.price.priceInEth,eModeCategoryId:0,borrowCap:"",supplyCap:"",debtCeiling:"",debtCeilingDecimals:0,isolationModeTotalDebt:"",eModeLtv:0,eModeLiquidationThreshold:0,eModeLiquidationBonus:0}));case 8:case"end":return n.stop()}}),n)})))()},onDeposit:function(e){var t=this;return Object(j["a"])(Object(_["a"])().mark((function n(){var a,r,i,s,o,d,u,c,l,p;return Object(_["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.amount,r=e.reserve,i=e.referralCode,s=e.user,n.prev=1,o=[],n.next=5,t.formatAllowanceData(r,s,t.poolContract.address);case 5:return d=n.sent,n.next=8,t.formatApprovalData(r,s,t.poolContract.address,0);case 8:return u=n.sent,n.next=11,t.formatApprovalData(r,s,t.poolContract.address,a);case 11:return c=n.sent,n.next=14,t.poolContract.populateTransaction.deposit(r,a,s,i);case 14:return l=n.sent,l.from=s,o=Object(Cn["toBN"])(d).gt(Object(Cn["toBN"])(a))?[l]:[u,c,l],n.next=19,Object(Nn["a"])(t.network.type.name,o);case 19:p=n.sent,t.sendTxns(o,p),n.next=26;break;case 23:throw n.prev=23,n.t0=n["catch"](1),new Error(n.t0);case 26:case"end":return n.stop()}}),n,null,[[1,23]])})))()},onBorrow:function(e){var t=this;return Object(j["a"])(Object(_["a"])().mark((function n(){var a,r,i,s,o,d,u,c;return Object(_["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.amount,r=e.reserve,i=e.referralCode,s=e.interestRateMode,o=e.user,n.prev=1,u=[r,a,s===T.variable?2:1,i,o],n.next=5,(d=t.poolContract.populateTransaction).borrow.apply(d,u);case 5:c=n.sent,t.formatTxData(c),n.next=12;break;case 9:throw n.prev=9,n.t0=n["catch"](1),new Error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},onRepay:function(e){var t=this;return Object(j["a"])(Object(_["a"])().mark((function n(){var a,r,i,s,o,d,u,c,l,p;return Object(_["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.amount,r=e.reserve,i=e.interestRateMode,s=e.user,n.prev=1,o=[],n.next=5,t.formatAllowanceData(r,s,t.poolContract.address);case 5:return d=n.sent,n.next=8,t.formatApprovalData(r,s,t.poolContract.address,a);case 8:return u=n.sent,n.next=11,t.formatApprovalData(r,s,t.poolContract.address,0);case 11:return c=n.sent,n.next=14,t.poolContract.populateTransaction.repay(r,a,i===T.variable?2:1,s);case 14:return l=n.sent,l.from=s,o=Object(Cn["toBN"])(d).gt(Object(Cn["toBN"])(a))?[l]:[c,u,l],n.next=19,Object(Nn["a"])(t.network.type.name,o);case 19:p=n.sent,t.sendTxns(o,p),n.next=26;break;case 23:throw n.prev=23,n.t0=n["catch"](1),new Error(n.t0);case 26:case"end":return n.stop()}}),n,null,[[1,23]])})))()},setBorrowRate:function(e){var t=this;return Object(j["a"])(Object(_["a"])().mark((function n(){var a,r,i,s,o,d,u;return Object(_["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.reserve,r=e.rateMode,i=e.symbol,n.prev=1,n.next=4,t.poolContract.populateTransaction.swapBorrowRateMode(a,r);case 4:s=n.sent,o=2===r,d={reserve:i,value:o},u=[t.resetAprToggle,d],t.formatTxData(s,u),n.next=14;break;case 11:throw n.prev=11,n.t0=n["catch"](1),new Error(n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()},onWithdraw:function(e){var t=this;return Object(j["a"])(Object(_["a"])().mark((function n(){var a,r,i,s;return Object(_["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.reserve,r=e.amount,i=e.user,n.prev=1,n.next=4,t.poolContract.populateTransaction.withdraw(a,r,i);case 4:s=n.sent,t.formatTxData(s),n.next=11;break;case 8:throw n.prev=8,n.t0=n["catch"](1),new Error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},formatApprovalData:function(e,t,n,a){var r=this;return Object(j["a"])(Object(_["a"])().mark((function i(){var s,o,d;return Object(_["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,s=["function approve(address _spender, uint256 _value) public returns (bool success)"],o=new Un["ethers"].Contract(e,s,r.poolContract.provider),i.next=5,o.populateTransaction.approve(n,a);case 5:return d=i.sent,d.from=t,i.abrupt("return",d);case 10:throw i.prev=10,i.t0=i["catch"](0),new Error(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,10]])})))()},formatAllowanceData:function(e,t,n){var a=this;return Object(j["a"])(Object(_["a"])().mark((function r(){var i,s;return Object(_["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,i=[{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],s=new a.web3.eth.Contract(i,e),r.abrupt("return",s.methods.allowance(t,n).call());case 6:throw r.prev=6,r.t0=r["catch"](0),new Error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},setCollateral:function(e){var t=this;return Object(j["a"])(Object(_["a"])().mark((function n(){var a,r,i,s,o,d;return Object(_["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.reserve,r=e.useAsCollateral,i=e.symbol,n.prev=1,n.next=4,t.poolContract.populateTransaction.setUserUseReserveAsCollateral(a,r);case 4:s=n.sent,o={reserve:i,useAsCollateral:!r},d=[t.resetCollateralToggle,o],t.formatTxData(s,d),n.next=13;break;case 10:throw n.prev=10,n.t0=n["catch"](1),new Error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},formatTxData:function(e,t){var n=this;try{var a={from:this.address,to:e.to,data:e.data,value:"0",gasPrice:this.gasPriceByType(this.gasPriceType)};this.web3.eth.estimateGas(a).then((function(e){a["gas"]=Object(Cn["toHex"])(e),n.sendTransaction(a).then((function(e){null!==e&&void 0!==e&&e.rejected&&Object(In["e"])("User rejected action!",{},In["f"]),Object(In["e"])("Success! Your transaction will be displayed shortly",{},In["d"])})).catch((function(e){var n=Object(Fn["a"])(e);n&&Object(In["e"])(e,{},In["a"]),t&&t[0](t[1])}))})).catch((function(){Object(In["e"])("Insufficient funds for gas",{},In["a"]),t&&t[0](t[1])}))}catch(r){Object(In["e"])(r,{},In["a"])}},sendTxns:function(e,t){try{if(!t)throw new Error("Unable to estimate transaction fees");for(var n=0;n<e.length;n++){var a={from:this.address,to:e[n].to,data:e[n].data,gas:t[n],value:"0",gasPrice:this.gasPriceByType(this.gasPriceType)};e[n]=a}var r,i=Object(Cn["toBN"])(0),s=Object(A["a"])(e);try{for(s.s();!(r=s.n()).done;){var o=r.value;i=i.add(Object(Cn["toBN"])(o.gasPrice).mul(Object(Cn["toBN"])(o.gas)))}}catch(d){s.e(d)}finally{s.f()}if(i.gt(Object(Cn["toBN"])(this.balanceInWei)))return void Object(In["e"])("Insufficient funds for gas",{},In["a"]);this.web3.mew.sendBatchTransactions(e).then((function(e){null!==e&&void 0!==e&&e.rejected&&Object(In["e"])("User rejected action!",{},In["f"]),Object(In["e"])("Success! Your transaction will be displayed shortly",{},In["d"])})).catch((function(e){Object(In["e"])(e,{},In["a"])}))}catch(u){Object(In["e"])(u,{},In["a"])}},sendTransaction:function(e){return e?this.web3.eth.sendTransaction(e):new Error("No Parameters sent!")},setFormatUserSummaryData:function(){var e;(null===(e=this.reservesData)||void 0===e?void 0:e.length)>0&&this.userReserveData&&this.usdPriceEth&&(this.userSummary=xn({currentTimestamp:Math.floor(Date.now()/1e3),marketReferencePriceInUsd:1/(this.usdPriceEth/Math.pow(10,18)),marketReferenceCurrencyDecimals:18,userReserves:this.userReserveData,formattedReserves:this.reservesData,userEmodeCategoryId:0}),this.mergeTheReserves())},mergeTheReserves:function(){var e=this;this.userSummary.userReservesData&&this.userSummary.userReservesData.length>0&&this.userSummary.userReservesData.forEach((function(t){var n=e.reservesData.find((function(e){return e.name===t.reserve.name}));n&&(n.user=t)})),this.getReserveBalances()},getReserveBalances:function(){var e=this;this.reservesData.length>0&&this.reservesData.forEach((function(t){t.tokenBalance=0,t.user=t.user||{},"ETH"===t.symbol&&(t.tokenBalance=e.balanceInEth);var n=e.tokensList.find((function(e){return e.symbol===t.symbol}));n&&(t.tokenBalance=n.balance),e.reservesStable.length<5&&Vn.findIndex((function(e){return e===t.symbol}))>=0&&e.reservesStable.push(t)})),this.isLoadingData=!1},formatUSDValue:function(e){return Math.pow(10,8)*e},nextTokenHealthFactor:function(e,t){var n=this.currentHealthFactor,a=this.userSummary.totalBorrowsMarketReferenceCurrency,r=this.userSummary.totalCollateralMarketReferenceCurrency;if(null!==e&&void 0!==e&&e.usageAsCollateralEnabled&&null!==e&&void 0!==e&&e.formattedPriceInMarketReferenceCurrency&&"0"!==t){var i=d()(t).times(null===e||void 0===e?void 0:e.formattedPriceInMarketReferenceCurrency);a=new d.a(this.userSummary.totalBorrowsMarketReferenceCurrency).plus(i),n=Object(Sn["b"])(r,a,this.userSummary.currentLiquidationThreshold).toFixed(3)}return n},userBorrowPower:function(e){var t=0,n=d()(this.userBorrowingPowerInETH).dividedBy(e.formattedPriceInMarketReferenceCurrency);this.nextTokenHealthFactor(e,n);return t=n,t.isFinite()&&!t.isNaN()?t:0},getTokenPrice:function(e){var t=this;return Object(j["a"])(Object(_["a"])().mark((function n(){return Object(_["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.priceOracle.getAssetPrice(e);case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n["catch"](0),n.abrupt("return","0");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()}}},Kn=n("068e"),Jn={name:"AaveTable",mixins:[Yn],props:{title:{type:String,default:b.deposit},hasSearch:{type:Boolean,default:!0},hasToggle:{type:Boolean,default:!0}},data:function(){return{searchInput:"",toggleType:0}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["c"])("global",["network","getFiatValue"])),Object(s["c"])("wallet",["balanceInETH","tokensList"])),{},{userReservesData:function(){var e;return(null===(e=this.userSummary)||void 0===e?void 0:e.userReservesData)||[]},header:function(){switch(this.title){case b.deposit:return v.deposit;case b.borrow:return v.borrow;case b.balance_deposit:return v.balanceDeposit;default:return v.balanceBorrow}},stableCoins:function(){if(!this.isLoadingData){var e,t=["TUSD","DAI","USDT","USDC","sUSD"],n=null===(e=this.list)||void 0===e?void 0:e.filter((function(e){if(t.includes(e.symbol))return e}));return n}return[]},list:function(){return this.title===b.deposit||this.title===b.borrow?this.reservesData:this.title===b.balance_borrow?this.userReservesData.filter((function(e){return new d.a(e.totalBorrows).gt(0)})):this.title===b.balance_deposit?this.userReservesData.filter((function(e){return new d.a(e.scaledATokenBalance).gt(0)})):{}},listData:function(){var e=this;if(!this.isLoadingData){var t=this.toggleType?this.stableCoins:this.list,n=this.userReservesData;switch(this.title){case b.deposit:t=t.map((function(t){var a=n.find((function(e){if(e.reserve.symbol===t.symbol)return e})),r="ETH"===t.symbol?e.balanceInETH:e.tokensList.find((function(e){if(t.symbol===e.symbol)return e})),i=r?new d.a(10).pow(r.decimals):0,s=r?new d.a(r.balance).dividedBy(i).toFixed():0,o=Object.assign({},g.deposit);return o.disabled=new d.a(s).lte(0),g.swap.method=e.onSwapClick,{price:t.price,token:t.symbol,available:s?Object(w["c"])(s).value:"0",deposited:a?Object(w["c"])(a.underlyingBalance).value:"0",apy:e.getDepositAPY(t.liquidityRate),tokenImg:"".concat(t.icon),address:t.aToken.id,callToAction:[o,g.swap]}}));break;case b.borrow:t=t.reduce((function(t,n){if(n.borrowingEnabled){var a=Object(w["c"])(e.userBorrowPower(n)).value;t.push({token:n.symbol,available:a,stableApy:n.stableBorrowRateEnabled?Object(w["g"])(new d.a(n.stableBorrowAPY).multipliedBy(100)).value:"--",variableApy:Object(w["g"])(new d.a(n.variableBorrowAPY).multipliedBy(100)).value,tokenImg:"".concat(n.icon),address:n.aToken.id,callToAction:[Object(i["a"])(Object(i["a"])({},g.borrow),{},{disabled:new d.a(a).lte(0)})]})}return t}),[]);break;case b.balance_deposit:t=t.map((function(t){var n=Object.assign({},g.deposit);g.withdraw.method=e.onWithdrawClick,n.method=e.onDepositClick;var a=t.reserve.usageAsCollateralEnabled,r=t.reserve.tokenBalance,i=Object(Cn["isBN"])(r)?r.gt(Object(Cn["toBN"])(0)):r>0;return n.disabled=!i,{token:t.reserve.symbol,tokenImg:"".concat(t.reserve.icon),balance:["".concat(Object(w["c"])(t.underlyingBalance).value," ").concat(t.reserve.symbol),e.getFiatValue(e.formatUSDValue(t.underlyingBalanceUSD))],apy:e.getDepositAPY(t.reserve.liquidityRate),toggle:a?{color:"secondary",method:e.onToggleClick,value:t.usageAsCollateralEnabledOnUser}:null,callToAction:[n,g.withdraw]}}));break;case b.balance_borrow:t=t.map((function(t){g.repay.method=e.onRepayClick,g.borrow.method=e.onBorrowClick;var n=t.variableBorrows>0,a=e.reservesData.find((function(e){return e.symbol===t.reserve.symbol})),r=!!a&&a.stableBorrowRateEnabled,i=Object(w["c"])(e.userBorrowPower(a)).value,s=Object.assign({},g.borrow);return s.disabled=!a.borrowingEnabled||new d.a(i).lte(0),{token:t.reserve.symbol,tokenImg:"".concat(t.reserve.icon),balance:["".concat(Object(w["c"])(t.totalBorrows).value," ").concat(t.reserve.symbol),e.getFiatValue(e.formatUSDValue(t.totalBorrowsUSD))],apy:Object(w["g"])(new d.a(n?t.reserve.variableBorrowAPY:t.reserve.stableBorrowAPY).times(100).toString()).value,toggle:r?{color:"greenPrimary",method:e.onToggleAprType,value:n,label:n?T.variable:T.stable,disabled:!1}:null,callToAction:[s,g.repay]}}));break;default:break}return null===this.searchInput||""===this.searchInput?t:t.filter((function(t){if(t.token.toLowerCase().includes(e.searchInput.toLowerCase()))return t}))}return[]}}),mounted:function(){this.title!==b.balance_deposit&&this.title!==b.balance_borrow||(g.deposit.btnStyle="transparent",g.withdraw.btnStyle="transparent",g.borrow.btnStyle="transparent"),g.deposit.method=this.onDepositClick,g.borrow.method=this.onBorrowClick},methods:{getDepositAPY:function(e){var t=Math.pow(10,27),n=31536e3,a=new d.a(e).dividedBy(t).toFixed(),r=Math.pow(1+a/n,n)-1;return Object(w["g"])(new d.a(r).multipliedBy(100)).value},onDepositClick:function(e){Kn["a"].$emit("selectedDeposit",e)},onBorrowClick:function(e){Kn["a"].$emit("selectedBorrow",e)},onWithdrawClick:function(e){Kn["a"].$emit("withdrawToken",e)},onSwapClick:function(e){this.$router.push({name:O["b"].SWAP.NAME,query:{fromToken:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",toToken:e.address,amount:"1"}})},onRepayClick:function(e){Kn["a"].$emit("repayBorrowing",e)},onToggleClick:function(e){Kn["a"].$emit("collateralChange",e)},onToggleAprType:function(e){Kn["a"].$emit("changeAprType",e)},setSearchInput:function(e){this.searchInput=e}}},Qn=Jn,Zn=n("2877"),$n=Object(Zn["a"])(Qn,y,m,!1,null,null,null),Xn=$n.exports,ea=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-width"},[e.isDeposit||e.isBorrow||e.isWithdraw||e.isRepay?n("v-card",{staticClass:"d-flex align-center justify-space-between pa-7 mb-6",attrs:{flat:"",color:"overlayBg"}},[n("div",{staticClass:"d-flex flex-column align-start"},[n("span",{staticClass:"mew-heading-3 textLight--text mb-2"},[e._v("Amount to "+e._s(e.actionTitle))]),n("span",{staticClass:"mew-heading-1 mb-2"},[e._v(e._s(e.formattedAmount)+" "+e._s(e.tokenSymbol))]),n("span",{staticClass:"textLight--text"},[e._v(e._s(e.amountUsd))])]),n("img",{attrs:{height:e.$vuetify.breakpoint.mdAndUp?"80":"30",src:e.tokenIcon,alt:e.tokenSymbol}})]):e._e(),e.isInterest?n("div",{staticClass:"d-flex align-center justify-space-between mb-10"},[n("v-card",{staticClass:"d-flex flex-column pa-10 text-left",attrs:{flat:"",color:"overlayBg"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Current Interest Type")]),n("span",{class:["mew-heading-2 my-3",e.getInterestTypeClass(e.currentInterest.type)]},[e._v(e._s(e.currentInterest.percentage))]),n("span",{class:["font-weight-bold",e.getInterestTypeClass(e.currentInterest.type)]},[e._v(e._s(e.currentInterest.type))])]),n("v-icon",[e._v("mdi-arrow-right")]),n("v-card",{staticClass:"d-flex flex-column pa-10 text-left",attrs:{flat:"",color:"overlayBg"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Next Interest Type")]),n("span",{class:["mew-heading-2 my-3",e.getInterestTypeClass(e.nextInterest.type)]},[e._v(e._s(e.nextInterest.percentage))]),n("span",{class:["font-weight-bold",e.getInterestTypeClass(e.nextInterest.type)]},[e._v(e._s(e.nextInterest.type))])])],1):e._e(),e.isInterest?n("v-divider"):e._e(),e._l(e.details,(function(t,a){return n("v-row",{key:a,staticClass:"d-flex align-center"},[n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"6"}},[n("span",[e._v(e._s(t.title))]),t.tooltip?n("mew-tooltip",{staticClass:"ml-1",attrs:{text:t.tooltip}}):e._e()],1),n("v-col",{staticClass:"font-weight-bold d-flex align-center justify-end",attrs:{cols:"6"}},[t.icon?n("img",{staticClass:"mr-1",attrs:{src:t.icon,height:"20"}}):e._e(),t.indicator?n("v-icon",{class:t.class,attrs:{dense:""}},[e._v(e._s(t.indicator))]):e._e(),n("span",{class:t.class},[e._v(e._s(t.value))])],1)],1)})),e.isInterest?n("v-divider",{staticClass:"mt-5"}):e._e(),n("mew-button",{staticClass:"mt-10 mx-auto d-block",attrs:{title:e.btnTitle,"btn-size":"xlarge",disabled:e.disableBtn},nativeOn:{click:function(t){return e.confirm.apply(null,arguments)}}})],2)},ta=[],na=(n("a9e3"),{mixins:[Yn],props:{actionType:{type:String,default:""},apr:{type:Object,default:function(){}},selectedToken:{type:Object,default:function(){}},amount:{type:String,default:"0"},amountUsd:{type:String,default:"0"},step:{type:Number,default:0}},computed:{formattedAmount:function(){return Object(w["c"])(this.amount||"0").value},actionTitle:function(){return this.isBorrow?"Borrow":this.isRepay?"Repay":this.isWithdraw?"Withdraw":"Deposit"},isDeposit:function(){return this.actionType.toLowerCase()===h.deposit},isRepay:function(){return this.actionType.toLowerCase()===h.repay},isBorrow:function(){return this.actionType.toLowerCase()===h.borrow},isInterest:function(){return this.actionType.toLowerCase()===h.interest},isWithdraw:function(){return this.actionType.toLowerCase()===h.withdraw},isCollateral:function(){return this.actionType.toLowerCase()===h.collateral},currentHealthFactorTooltip:function(){return"The health factor is the numeric representation of the safety of your deposited assets against the borrowed assets and its underlying value. The higher the value is, the safer the state of your funds are against a liquidation scenario."},nextHealthFactorTooltip:function(){return"This transaction will ".concat(+this.currentHealthFactor>+this.nextHealthFactor?"lower":"increase"," your health factor. If the health factor reaches 1, the liquidation of your deposits will be triggered. A Health Factor below 1 can get liquidated.")},details:function(){var e=[{title:"Currency",value:this.tokenSymbol,icon:this.tokenIcon}],t="-"===this.currentHealthFactor?this.nextHealthFactor:this.currentHealthFactor;switch(this.actionType.toLowerCase()){case h.deposit:case h.withdraw:case h.repay:case h.collateral:return e=1===this.step&&this.isDeposit?[]:e,e.push({title:"Current Health Factor",tooltip:this.currentHealthFactorTooltip,value:this.currentHealthFactor,class:""},{title:"Next Health Factor",tooltip:this.nextHealthFactorTooltip,value:this.nextHealthFactor,class:t==this.nextHealthFactor?"":d()(t).gt(this.nextHealthFactor)?"redPrimary--text":"greenPrimary--text",indicator:t==this.nextHealthFactor?"":d()(t).lt(this.nextHealthFactor)?"mdi-arrow-up-bold":"mdi-arrow-down-bold"}),e;case h.borrow:3===this.step?e=[{title:"Interest APR",value:this.apr.percentage,class:this.apr.type.toLowerCase()===T.stable?"secondary--text":"warning--text text--darken-1"},{title:"Interest rate type",value:this.apr.type,class:this.apr.type.toLowerCase()===T.stable?"secondary--text capitalize":"warning--text text--darken-1 capitalize"}]:4===this.step&&e.push({title:"Current Health Factor",tooltip:this.currentHealthFactorTooltip,value:this.currentHealthFactor,class:""},{title:"Next Health Factor",tooltip:this.nextHealthFactorTooltip,value:this.nextHealthFactor,class:t==this.nextHealthFactor?"":d()(t).gt(this.nextHealthFactor)?"redPrimary--text":"greenPrimary--text",indicator:t==this.nextHealthFactor?"":d()(t).lt(this.nextHealthFactor)?"mdi-arrow-up-bold":"mdi-arrow-down-bold"})}return e},currentHealthFactor:function(){var e,t=new d.a(null===(e=this.userSummary)||void 0===e?void 0:e.healthFactor).toFixed(3);return"NaN"!==t&&"-1.000"!==t||(t="-"),t},nextHealthFactor:function(){var e,t=this.selectedTokenInUserSummary,n=this.currentHealthFactor,a=this.userSummary.totalCollateralMarketReferenceCurrency,r=this.userSummary.totalBorrowsMarketReferenceCurrency,i=null===(e=this.selectedTokenDetails)||void 0===e?void 0:e.formattedPriceInMarketReferenceCurrency,s=null===t||void 0===t?void 0:t.reserve.usageAsCollateralEnabled;if(i&&"0"!==this.amount){var o=d()(this.amount).times(i);s&&(this.isDeposit||this.isCollateral&&(null===t||void 0===t||!t.usageAsCollateralEnabledOnUser))?a=new d.a(this.userSummary.totalCollateralMarketReferenceCurrency).plus(o):s&&(this.isWithdraw&&null!==t&&void 0!==t&&t.usageAsCollateralEnabledOnUser||this.isCollateral&&null!==t&&void 0!==t&&t.usageAsCollateralEnabledOnUser)?a=new d.a(this.userSummary.totalCollateralMarketReferenceCurrency).minus(o):this.isRepay?r=new d.a(this.userSummary.totalBorrowsMarketReferenceCurrency).minus(o):this.isBorrow&&(r=new d.a(this.userSummary.totalBorrowsMarketReferenceCurrency).plus(o)),n=Object(Sn["b"])(a,r,this.userSummary.currentLiquidationThreshold).toFixed(3)}return"NaN"!==n&&"-1.000"!==n||(n="-"),n},currentInterest:function(){return{type:"Variable",percentage:"11.33%"}},nextInterest:function(){return{type:"Stable",percentage:"2.837%"}},disableBtn:function(){return this.nextHealthFactor<=1&&"-1.000"!==this.nextHealthFactor},btnTitle:function(){return this.disableBtn?"Health Factor Too Low":"Confirm"},tokenSymbol:function(){var e;return null===(e=this.selectedToken)||void 0===e?void 0:e.token},tokenIcon:function(){var e;return null===(e=this.selectedToken)||void 0===e?void 0:e.tokenImg}},methods:{confirm:function(){1===this.step?this.$emit("confirmed"):this.$emit("onConfirm")},getInterestTypeClass:function(e){return e.toLowerCase()===T.stable?"secondary--text":"orangePrimary"}}}),aa=na,ra=Object(Zn["a"])(aa,ea,ta,!1,null,null,null),ia=ra.exports,sa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-width"},[n("v-row",{attrs:{justify:"space-around","no-gutters":"",dense:""}},[n("v-col",{attrs:{cols:"12",md:"6"}},[n("mew-module",{staticClass:"text-left height--full",attrs:{"color-type":"overlayBg","has-body-padding":!0,subtitle:e.leftSideValues.subTitle,title:e.leftSideValues.title,caption:e.leftSideValues.caption}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("mew-module",{staticClass:"text-left height--full",attrs:{"color-type":"overlayBg","has-body-padding":!0,subtitle:e.rightSideValues.subTitle,title:e.rightSideValues.title,caption:e.rightSideValues.caption}})],1)],1),n("div",{staticClass:"mt-5"},[n("p",{staticClass:"mew-heading-3 text-left"},[e._v(e._s(e.formText.title))]),n("p",{staticClass:"mew-body pt-1 text-left"},[e._v(" "+e._s(e.formText.caption)+" ")])]),n("div",{staticClass:"mt-5"},[n("mew-input",{attrs:{value:e.amount,label:"Amount","right-label":e.selectedToken.token,"hide-clear-btn":!0,rules:e.checkIfNumerical,"error-messages":e.errorMessages},on:{input:e.setAmount}}),e.showToggle?n("mew-toggle",{attrs:{"button-group":e.group,"button-type":"percentage","on-toggle-btn-idx":e.startingIdx},on:{onBtnClick:e.onToggle}}):e._e()],1),n("div",{staticClass:"mt-12 justify-center d-flex"},[n("mew-button",{attrs:{title:e.buttonTitle.action,"color-theme":"primary","btn-style":"background","btn-size":"xlarge",disabled:e.disabled},nativeOn:{click:function(t){return e.emitValues.apply(null,arguments)}}}),n("mew-button",{staticClass:"ml-2",attrs:{title:e.buttonTitle.cancel,"color-theme":"error","btn-style":"transparent","btn-size":"xlarge"},nativeOn:{click:function(t){return e.cancel.apply(null,arguments)}}})],1)],1)},oa=[],da=(n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("00b4"),n("2ef0")),ua=n("6013"),ca={name:"AaveAmountForm",props:{tokenDecimal:{type:Number,default:18},selectedToken:{type:Object,default:function(){}},showToggle:{type:Boolean,default:!1},leftSideValues:{type:Object,default:function(){return{title:"",caption:"",subTitle:""}}},rightSideValues:{type:Object,default:function(){return{title:"",caption:"",subTitle:""}}},formText:{type:Object,default:function(){return{title:"",caption:""}}},buttonTitle:{type:Object,default:function(){return{action:"",cancel:""}}},tokenBalance:{type:String,default:"0"},aaveBalance:{type:String,default:"0"}},data:function(){return{group:["25%","50%","75%","MAX"],amount:"0",startingIdx:0}},computed:{hasAmount:function(){return d()(this.amount).gt(0)&&d()(this.amount).lte(this.actualTokenBalance)},checkIfNumerical:function(){var e=new RegExp("^-?\\d+[.]?\\d*$"),t=e.test(this.amount);return[t||"Please enter a valid value!"]},errorMessages:function(){return Object(da["isEmpty"])(this.amount)?"Amount is required!":d()(this.actualTokenBalance).lte(0)?"Not enough token balance":Object(ua["a"])(this.amount,this.tokenDecimal)?d()(this.amount).isNegative()?"Amount cannot be negative":d()(this.amount).lte(0)?"Please enter an amount greater than 0":d()(this.amount).gt(this.actualTokenBalance)?"Amount exceeds available balance":"":"Too many decimal places"},disabled:function(){return!this.hasAmount||""!==this.errorMessages},actualTokenBalance:function(){return this.buttonTitle.action.toLowerCase()===h.withdraw?this.aaveBalance:this.tokenBalance}},watch:{selectedToken:function(){this.setToggle()}},mounted:function(){this.setToggle()},methods:{setToggle:function(){var e=this;this.showToggle&&setTimeout((function(){e.onToggle(e.group[1])}),100)},setAmount:function(e){this.amount=e},onToggle:function(e){switch(e){case this.group[0]:this.startingIdx=0,this.amount=this.calculatedAmt(.25);break;case this.group[1]:this.startingIdx=1,this.amount=this.calculatedAmt(.5);break;case this.group[2]:this.startingIdx=2,this.amount=this.calculatedAmt(.75);break;default:this.startingIdx=3,this.amount=this.calculatedAmt(1)}},cancel:function(){this.$emit("cancel")},emitValues:function(){this.$emit("emitValues",this.amount)},calculatedAmt:function(e){var t=this.actualTokenBalance;return isNaN(t)&&(t=0),d()(t).times(e).decimalPlaces(this.tokenDecimal).toFixed()}}},la=ca,pa=Object(Zn["a"])(la,sa,oa,!1,null,null,null),fa=pa.exports,ya=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"text-left"},[e._v(" Select the type of rate for your loan. Please click on the desired rate type and read the info box for more information. ")]),n("div",{staticClass:"d-flex justify-center align-center mt-12 mb-3"},[n("v-card",{staticClass:"cursor-pointer d-flex flex-column py-6 px-8",attrs:{disabled:"--"===e.rates.stable,flat:e.isStable,color:e.isStable?"greyLight":"white"},nativeOn:{click:function(t){return e.setType(e.interestTypes.stable)}}},[n("v-icon",{attrs:{"x-large":"",color:"textMedium"}},[e._v("mdi-arrow-right-circle")]),n("span",{staticClass:"textLight--text my-2"},[e._v("Stable")]),n("span",{staticClass:"mew-heading-3 textMedium--text"},[e._v(e._s(e.rates.stable))])],1),n("v-card",{staticClass:"cursor-pointer d-flex flex-column py-6 px-8 ml-5",attrs:{disabled:"--"===e.rates.variable,flat:e.isVariable,color:e.isVariable?"greyLight":"white"},nativeOn:{click:function(t){return e.setType(e.interestTypes.variable)}}},[n("v-icon",{attrs:{"x-large":"",color:"orangePrimary"}},[e._v("mdi-arrow-right-circle")]),n("span",{staticClass:"textLight--text my-2"},[e._v("Variable")]),n("span",{staticClass:"mew-heading-3 orangePrimary--text"},[e._v(e._s(e.rates.variable))])],1)],1),n("div",{staticClass:"d-flex justify-center"},[n("mew-button",{staticClass:"my-8",attrs:{title:"Continue","btn-size":"xlarge",disabled:!e.apr.type},nativeOn:{click:function(t){return e.onContinue.apply(null,arguments)}}})],1)])},ma=[],ba={props:{selectedToken:{type:Object,default:function(){}}},data:function(){return{apr:{},interestTypes:T}},computed:{rates:function(){var e,t,n=null!==(e=this.selectedToken)&&void 0!==e&&e.stableBorrowRateEnabled?Object(w["g"])(new d.a(this.selectedToken.stableBorrowAPY).multipliedBy(100)).value:"--",a=(null===(t=this.selectedToken)||void 0===t?void 0:t.variableBorrowAPY)>0?Object(w["g"])(new d.a(this.selectedToken.variableBorrowAPY).multipliedBy(100)).value:"--";return{stable:n,variable:a}},isStable:function(){return this.apr.type===T.stable},isVariable:function(){return this.apr.type===T.variable}},methods:{setType:function(e){this.apr={type:e,percentage:e===T.stable?this.rates.stable:this.rates.variable}},onContinue:function(){this.$emit("continue",this.apr)}}},ha=ba,Ta=(n("413f"),Object(Zn["a"])(ha,ya,ma,!1,null,null,null)),ga=Ta.exports,va=n("b3e3"),wa=n("5965"),Oa={name:"AaveBorrowOverlay",components:{AaveTable:Xn,AaveAmountForm:fa,AaveSelectInterest:ga,AaveSummary:ia},mixins:[Yn,wa["a"]],data:function(){return{step:0,selectedToken:{},borrowTitle:b.borrow,amount:"0",apr:{}}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["e"])("wallet",["address"])),Object(s["c"])("global",["getFiatValue"])),{},{aaveBorrowForm:function(){var e,t=this.selectedTokenInUserSummary,n=t?"".concat(Object(w["c"])(t.totalBorrows).value," ").concat(this.selectedToken.token):"0 ".concat(this.selectedToken.token),a=t?this.getFiatValue(this.formatUSDValue(t.totalBorrowsUSD)):this.getFiatValue(0),r="".concat(Object(w["c"])(this.userSummary.totalCollateralMarketReferenceCurrency).value," ETH"),i=this.getFiatValue(this.formatUSDValue(this.userSummary.totalCollateralUSD)),s=this.getFiatValue(this.formatUSDValue(this.amount*(null===t||void 0===t||null===(e=t.reserve)||void 0===e?void 0:e.priceInUSD)||0));return{showToggle:!0,leftSideValues:{title:n,caption:a,subTitle:"You borrowed"},rightSideValues:{title:i,caption:r,subTitle:"Total Collateral"},formText:{title:"How much would you like to borrow?",caption:"Here you can set the amount you want to borrow."},buttonTitle:{action:"Borrow",cancel:"Cancel borrow"},amountInUSD:s}},header:function(){switch(this.step){case 1:return"Borrow";case 2:return"Select Interest";case 3:return"Confirm Interest Rate";case 4:return"Confirm Health Factor";default:return"Select the token you want to borrow"}},amountWithDecimals:function(){return Object(va["b"])(this.amount,this.selectedTokenDetails.decimals)},amountUsd:function(){var e=this.getFiatValue(this.formatUSDValue(this.amount*this.selectedTokenDetails.priceInUSD||0));return 1===this.step?this.aaveBorrowForm.amountInUSD:e},tokenBalance:function(){return this.userBorrowPower(this.selectedTokenDetails)},tokenDecimals:function(){return this.selectedTokenDetails.decimals}}),watch:{preSelectedToken:function(e){e&&!Object(da["isEmpty"])(e)&&this.handleSelectedBorrow(this.preSelectedToken),Object(da["isEmpty"])(e)&&(this.selectedToken={},this.step=0)},step:function(e){0===e&&(this.selectedToken={})}},methods:{handleSelectedBorrow:function(e){this.selectedToken=e,this.step=1},handleValues:function(e){this.step=2,this.amount=e},handleCancel:function(){this.callClose()},callClose:function(){this.step=0,this.selectedToken={},this.borrowTitle=b.borrow,this.amount="0",this.close(!1)},handleContinue:function(e){this.apr=e,this.step=3},handleConfirm:function(){var e=this;if(3===this.step)this.step=4;else if(4===this.step){this.trackDapp("aaveBorrowEvent");var t={user:this.address,reserve:this.selectedTokenDetails.underlyingAsset,amount:this.amountWithDecimals,interestRateMode:this.apr.type,referralCode:"14"};this.onBorrow(t).then((function(){e.trackDapp("aaveBorrowedAssets")})),this.callClose()}}}},_a=Oa,ja=Object(Zn["a"])(_a,p,f,!1,null,"0bdc98c0",null),Aa=ja.exports,ka=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mew-overlay",{attrs:{"show-overlay":e.open,close:e.callClose,title:e.header,"content-size":"xlarge"}},[0===e.step?n("aave-table",{attrs:{"is-loading-data":e.isLoadingData,"reserves-data":e.reservesData,"user-reserves-data":e.userSummary.userReservesData,title:e.depositTitle},on:{selectedDeposit:e.handleSelectedDeposit}}):e._e(),1===e.step?n("aave-amount-form",{attrs:{"selected-token":e.selectedToken,"show-toggle":e.aaveDepositForm.showToggle,"left-side-values":e.aaveDepositForm.leftSideValues,"right-side-values":e.aaveDepositForm.rightSideValues,"form-text":e.aaveDepositForm.formText,"button-title":e.aaveDepositForm.buttonTitle,"token-balance":e.tokenBalance,"token-decimal":e.selectedTokenDecimal},on:{cancel:e.callClose,emitValues:e.handleDepositAmount}}):e._e(),2===e.step?n("aave-summary",{attrs:{"selected-token":e.selectedToken,amount:e.amount,step:e.step,"action-type":e.depositTitle,"amount-usd":e.amountUSD},on:{onConfirm:e.handleConfirm}}):e._e()],1)},xa=[],Ca={name:"AaveDepositOverlay",components:{AaveTable:Xn,AaveSummary:ia,AaveAmountForm:fa},mixins:[Yn,wa["a"]],data:function(){return{step:0,selectedToken:{},amount:"0",depositTitle:b.deposit}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["c"])("wallet",["tokensList","balanceInETH"])),Object(s["c"])("global",["network","getFiatValue"])),{},{selectedTokenDecimal:function(){return this.selectedTokenDetails?this.selectedTokenDetails.decimals:18},tokenBalanceUSD:function(){var e=this.selectedToken.token,t=this.tokensList.find((function(t){if(t.symbol===e)return t}));return t?d()(t.usdBalance).toFixed():"0"},tokenPrice:function(){var e=this.selectedToken.token,t=this.tokensList.find((function(t){if(t.symbol===e)return t}));return t?d()(t.price).toFixed():"0"},tokenBalance:function(){var e=this.selectedToken.token;if(e===this.network.type.currencyName)return this.balanceInETH;var t=this.tokensList.find((function(t){if(t.symbol===e)return t})),n=d()(10).pow(t.decimals);return t?d()(t.balance).dividedBy(n).toFixed():"0"},amountUSD:function(){return this.getFiatValue(d()(this.amount).times(this.tokenPrice).toFixed())},header:function(){switch(this.step){case 1:return"Deposit";case 2:return"Confirmation";default:return"Select the token you want to deposit"}},aaveDepositForm:function(){var e=this.selectedTokenInUserSummary,t="".concat(Object(w["c"])((null===e||void 0===e?void 0:e.underlyingBalance)||0).value," ").concat(this.selectedToken.token),n=this.getFiatValue(d()(this.tokenPrice).times((null===e||void 0===e?void 0:e.underlyingBalance)||0)),a="".concat(Object(w["c"])(this.tokenBalance).value," ").concat(this.selectedToken.token),r=this.getFiatValue(this.tokenBalanceUSD);return{showToggle:!0,leftSideValues:{title:t,caption:n,subTitle:"Aave Deposit Balance"},rightSideValues:{title:a,caption:r,subTitle:"Aave Wallet Balance"},formText:{title:"How much would you like to deposit?",caption:"Here you can set the amount you want to deposit. You can manually enter a specific amount or use the percentage buttons below."},buttonTitle:{action:"Deposit",cancel:"Cancel deposit"}}}}),watch:{preSelectedToken:{handler:function(e){e&&!Object(da["isEmpty"])(e)&&this.handleSelectedDeposit(this.preSelectedToken),Object(da["isEmpty"])(e)&&(this.selectedToken={},this.step=0)},deep:!0},step:function(e){0===e&&(this.selectedToken={})}},methods:{handleSelectedDeposit:function(e){this.selectedToken=e,this.step=1},handleDepositAmount:function(e){this.step=2,this.amount=e},callClose:function(){this.step=0,this.selectedToken={},this.amount="0",this.depositTitle=b.deposit,this.close(!1)},handleConfirm:function(){var e=this;this.trackDapp("aaveDepositEvent");var t=Object(va["b"])(this.amount,this.selectedTokenDetails.decimals),n={user:this.address,amount:t,referralCode:"14",reserve:this.selectedTokenDetails.underlyingAsset};this.onDeposit(n).then((function(){e.trackDapp("aaveDepositedCollateral")})),this.callClose()}}},Sa=Ca,Pa=Object(Zn["a"])(Sa,ka,xa,!1,null,null,null),Ea=Pa.exports,Da=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mew-overlay",{attrs:{"show-overlay":e.open,title:e.title,close:e.resetToggle}},[n("aave-summary",{attrs:{"selected-token":e.preSelectedToken,"action-type":e.collateral,amount:e.tokenAmount},on:{onConfirm:e.callSwitchCollateral}})],1)},Ia=[],Ra={name:"AaveCollateralOverlay",components:{AaveSummary:ia},mixins:[Yn,wa["a"]],props:{open:{default:!1,type:Boolean},close:{default:function(){},type:Function}},data:function(){return{collateral:h.collateral}},computed:Object(i["a"])(Object(i["a"])({},Object(s["e"])("wallet",["address"])),{},{title:function(){var e;return this.selectedTokenInUserSummary?null!==(e=this.selectedTokenInUserSummary)&&void 0!==e&&e.usageAsCollateralEnabledOnUser?"Disable usage as collateral":"Usage as collateral":""},tokenAmount:function(){var e;return null===(e=this.selectedTokenInUserSummary)||void 0===e?void 0:e.underlyingBalance}}),methods:{callSwitchCollateral:function(){var e={reserve:this.selectedTokenDetails.underlyingAsset,useAsCollateral:!this.selectedTokenInUserSummary.usageAsCollateralEnabledOnUser,symbol:this.selectedTokenDetails.symbol};this.$emit("onConfirm",e),this.trackDapp("aaveSetCollateral"),this.close()},resetToggle:function(){var e={reserve:this.selectedTokenDetails.symbol,useAsCollateral:this.selectedTokenInUserSummary.usageAsCollateralEnabledOnUser};this.$emit("onClose",e),this.close()}}},Ma=Ra,Ba=Object(Zn["a"])(Ma,Da,Ia,!1,null,null,null),Ua=Ba.exports,Na=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mew-overlay",{staticClass:"mew-component--aave-repay-overlay",attrs:{"show-overlay":e.open,title:"Repay",close:e.handleCancel,"content-size":"xlarge"}},[e.open?n("aave-amount-form",{directives:[{name:"show",rawName:"v-show",value:0===e.step,expression:"step === 0"}],attrs:{"selected-token":e.preSelectedToken,"show-toggle":e.aaveRepayForm.showToggle,"left-side-values":e.aaveRepayForm.leftSideValues,"right-side-values":e.aaveRepayForm.rightSideValues,"form-text":e.aaveRepayForm.formText,"button-title":e.aaveRepayForm.buttonTitle,"token-balance":e.tokenBalance,"token-decimal":e.tokenDecimals},on:{cancel:e.handleCancel,emitValues:e.handleRepayAmount}}):e._e(),e.open?n("aave-summary",{directives:[{name:"show",rawName:"v-show",value:1===e.step,expression:"step === 1"}],attrs:{"selected-token":e.preSelectedToken,amount:e.amount,"action-type":e.repayTitle,"amount-usd":e.amountUSD},on:{onConfirm:e.handleConfirm}}):e._e()],1)},La=[],Fa={name:"AaveRepayOverlay",components:{AaveAmountForm:fa,AaveSummary:ia},mixins:[Yn,wa["a"]],data:function(){return{amount:"",step:0,repayTitle:b.repay}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["c"])("global",["getFiatValue"])),Object(s["c"])("wallet",["tokensList"])),{},{tokenBalance:function(){var e=this.preSelectedToken.token;if(e===this.network.type.currencyName)return this.balanceInETH;var t=this.tokensList.find((function(t){if(t.symbol===e)return t})),n=t?t.balance.toString():"0",a=new d.a(10).pow(this.tokenDecimals),r=new d.a(this.totalBorrow).multipliedBy(a);return n=r.lt(n)?this.totalBorrow.toString():new d.a(n).div(a).toFixed(),n},tokenDecimals:function(){var e,t;return(null===(e=this.selectedTokenInUserSummary)||void 0===e||null===(t=e.reserve)||void 0===t?void 0:t.decimals)||0},totalBorrow:function(){var e;return(null===(e=this.selectedTokenInUserSummary)||void 0===e?void 0:e.totalBorrows)||0},tokenPrice:function(){var e=this.preSelectedToken.token,t=this.tokensList.find((function(t){if(t.symbol===e)return t}));return t?d()(t.price).toFixed():"0"},amountUSD:function(){return this.getFiatValue(d()(this.amount).times(this.tokenPrice).toFixed())},aaveRepayForm:function(){var e,t=this.selectedTokenInUserSummary,n=t?"".concat(Object(w["c"])(t.totalBorrows).value," ").concat(null===(e=t.reserve)||void 0===e?void 0:e.symbol):"0 ETH",a=t?this.getFiatValue(this.formatUSDValue(t.totalBorrowsUSD)):this.getFiatValue(0),r="".concat(Object(w["c"])(this.userSummary.totalCollateralMarketReferenceCurrency).value," ETH"),i=this.getFiatValue(this.formatUSDValue(this.userSummary.totalCollateralUSD));return{showToggle:!0,leftSideValues:{title:a,caption:n,subTitle:"You borrowed"},rightSideValues:{title:i,caption:r,subTitle:"Total Collateral"},formText:{title:"How much would you like to repay?",caption:"Here you can set the amount you want to repay. You can manually enter a specific amount or use the percentage buttons below."},buttonTitle:{action:"Repay",cancel:"Cancel repay"}}}}),watch:{preSelectedToken:function(){this.handleSelectedToken()}},methods:{handleSelectedToken:function(){this.step=0},handleRepayAmount:function(e){this.amount=e,this.step=1},handleConfirm:function(){var e=this;this.trackDapp("aaveRepayEvent");var t=this.selectedTokenInUserSummary.variableBorrows>0,n=t?this.selectedTokenInUserSummary.variableBorrows:this.selectedTokenInUserSummary.stableBorrows,a=n===this.amount?Sn["a"]:Object(va["b"])(this.amount,this.selectedTokenDetails.decimals),r={amount:a,user:this.address,reserve:this.selectedTokenDetails.underlyingAsset,interestRateMode:t?T.variable:T.stable};this.onRepay(r).then((function(){e.trackDapp("aaveRepayDebt")})),this.handleCancel()},handleCancel:function(){this.amount="",this.step=0,this.close()}}},Va=Fa,Ha=Object(Zn["a"])(Va,Na,La,!1,null,null,null),Wa=Ha.exports,qa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mew-overlay",{attrs:{"show-overlay":e.open,title:"Withdraw","right-btn-text":"Close",close:e.close,"content-size":"xlarge"}},[0===e.step?n("aave-amount-form",{attrs:{"selected-token":e.preSelectedToken,"show-toggle":e.aaveWithdrawForm.showToggle,"left-side-values":e.aaveWithdrawForm.leftSideValues,"right-side-values":e.aaveWithdrawForm.rightSideValues,"form-text":e.aaveWithdrawForm.formText,"button-title":e.aaveWithdrawForm.buttonTitle,"aave-balance":e.aaveWithdrawForm.depositedBalance,"token-decimal":e.aaveWithdrawForm.decimals},on:{cancel:e.handleCancel,emitValues:e.handleWithdrawAmount}}):e._e(),1===e.step?n("aave-summary",{attrs:{"selected-token":e.preSelectedToken,amount:e.amount,"action-type":e.withdrawTitle,"amount-usd":e.amountUSD},on:{onConfirm:e.handleConfirm}}):e._e()],1)},Ga=[],za={name:"AaveWithdrawOverlay",components:{AaveAmountForm:fa,AaveSummary:ia},mixins:[Yn,wa["a"]],data:function(){return{step:0,amount:"0",withdrawTitle:b.withdraw}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["c"])("wallet",["tokensList","balanceInETH"])),Object(s["c"])("global",["network","getFiatValue"])),{},{tokenBalanceUSD:function(){var e=this.preSelectedToken.token,t=this.tokensList.find((function(t){if(t.symbol===e)return t}));return t?d()(t.usdBalance).toFixed():"0"},tokenPrice:function(){var e=this.preSelectedToken.token,t=this.tokensList.find((function(t){if(t.symbol===e)return t}));return t?d()(t.price).toFixed():"0"},tokenBalance:function(){var e=this.preSelectedToken.token;if(e===this.network.type.currencyName)return this.balanceInETH;var t=this.tokensList.find((function(t){if(t.symbol===e)return t}));return t?d()(t.balancef).decimalPlaces(t.decimals).toFixed():"0"},amountUSD:function(){return this.getFiatValue(d()(this.amount).times(this.tokenPrice).toFixed())},aaveWithdrawForm:function(){var e,t=this.selectedTokenInUserSummary,n="".concat(Object(w["c"])((null===t||void 0===t?void 0:t.underlyingBalance)||0).value," ").concat(this.preSelectedToken.token),a=this.getFiatValue(d()(this.tokenPrice).times((null===t||void 0===t?void 0:t.underlyingBalance)||0)),r="".concat(Object(w["c"])(this.tokenBalance).value," ").concat(this.preSelectedToken.token),i=this.getFiatValue(this.tokenBalanceUSD);return{showToggle:!0,leftSideValues:{title:n,caption:a,subTitle:"Aave Withdraw Balance"},rightSideValues:{title:r,caption:i,subTitle:"Aave Wallet Balance"},formText:{title:"How much would you like to withdraw?",caption:"Here you can set the amount you want to withdraw. You can manually enter a specific amount or use the percentage buttons below."},buttonTitle:{action:"Withdraw",cancel:"Cancel withdraw"},depositedBalance:(null===t||void 0===t?void 0:t.underlyingBalance)||"0",decimals:(null===t||void 0===t||null===(e=t.reserve)||void 0===e?void 0:e.decimals)||18}}}),watch:{preSelectedToken:function(){this.handleSelectedToken()}},methods:{handleSelectedToken:function(){this.step=0},handleWithdrawAmount:function(e){this.amount=e,this.step=1},handleConfirm:function(){var e=this;this.trackDapp("aaveWithdrawEvent"),this.amount=this.amount===this.selectedTokenInUserSummary.underlyingBalance?Object(Cn["toBN"])(F["d"]):Object(va["b"])(this.amount,this.selectedTokenDetails.decimals);var t={user:this.address,reserve:this.selectedTokenDetails.underlyingAsset,amount:Object(Cn["toHex"])(this.amount)};this.onWithdraw(t).then((function(){e.trackDapp("aaveWithdrawCollateral")})),this.step=0,this.close()},handleCancel:function(){this.close()}}},Ya=za,Ka=Object(Zn["a"])(Ya,qa,Ga,!1,null,null,null),Ja=Ka.exports,Qa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mew-overlay",{attrs:{"show-overlay":e.open,title:"Select your interest rate",close:e.resetToggle}},[n("aave-select-interest",{attrs:{"selected-token":e.selectedTokenDetails},on:{continue:e.handleSetInterestRate}})],1)},Za=[],$a={name:"AaveSetAprOverlay",components:{AaveSelectInterest:ga},mixins:[Yn,wa["a"]],data:function(){return{rateType:""}},methods:{handleSetInterestRate:function(e){this.rateType=e.type;var t=this.selectedTokenInUserSummary.variableBorrows>0?T.variable:T.stable,n={reserve:this.selectedTokenDetails.underlyingAsset,rateMode:t===T.variable?2:1,symbol:this.selectedTokenDetails.symbol};e.type===t?Object(In["e"])("Selected rate is already ".concat(e.type),{},In["f"]):(this.$emit("onConfirm",n),this.trackDapp("aaveSetBorrowRate"),this.close())},resetToggle:function(){var e=this.selectedTokenInUserSummary.variableBorrows>0?T.variable:T.stable,t={reserve:this.selectedTokenDetails.symbol,value:e===T.variable};this.$emit("onClose",t),this.close()}}},Xa=$a,er=Object(Zn["a"])(Xa,Qa,Za,!1,null,null,null),tr=er.exports,nr={ENJ:"bluePrimary",ETH:"greenPrimary",ZRX:"greenMedium",KNC:"textDark",USDT:"redPrimary",MKR:"redPrimary",LEND:"redPrimary",AAVE:"textLight",DAI:"textLight",SUSD:"greyPrimary",LINK:"greyMedium",BUSD:"greyMedium",REN:"greenPrimary",WBTC:"greyMedium",UNI:"redMedium",REP:"greyLight",MANA:"greyLight",BAT:"greyLight",YFI:"white",TUSD:"black"},ar={name:"AaveLayout",components:{TheWrapperDapp:l["default"],AaveBorrowOverlay:Aa,AaveDepositOverlay:Ea,AaveTable:Xn,AaveCollateralOverlay:Ua,AaveRepayOverlay:Wa,AaveWithdrawOverlay:Ja,AaveSetAprOverlay:tr},mixins:[Yn],data:function(){return{validNetworks:c,headerImg:n("8852"),showDepositOverlay:!1,tokenSelected:{},showBorrowOverlay:!1,showWithdrawOverlay:!1,showCollateralOverlay:!1,showRepayOverlay:!1,showAprTypeOverlay:!1,activeTab:0,topBanner:{title:"AAVE",subtext:"Aave is an Open Source Money Market Protocol, allowing you to earn daily interest on your stablecoins. Borrow against various assets and switch interest between variable and stable rates"},tabs:[{name:"Deposits"},{name:"Borrowings"}],aaveTableTitle:b}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["e"])("wallet",["web3"])),Object(s["c"])("wallet",["tokensList","balanceInETH"])),Object(s["c"])("global",["isEthNetwork","getFiatValue"])),Object(s["c"])("external",["fiatValue","contractToToken"])),{},{loanValue:function(){return Object(w["g"])(d()(this.userSummary.currentLoanToValue).times(100)).value},healthFactor:function(){return d()(this.userSummary.healthFactor).gt(0)?Object(w["c"])(this.userSummary.healthFactor).value:"-"},healthFactorTooltip:function(){return"The health factor is the numeric representation of the safety of your deposited assets against the borrowed assets and its underlying value. The higher the value is, the safer the state of your funds are against a liquidation scenario."},totalLiquidity:function(){return{eth:Object(w["c"])(this.userSummary.totalLiquidityMarketReferenceCurrency||"0").value,usd:this.getFiatValue(this.formatUSDValue(this.userSummary.totalLiquidityUSD||"0"))}},totalCollateral:function(){return{eth:Object(w["c"])(this.userSummary.totalCollateralMarketReferenceCurrency||"0").value,usd:this.getFiatValue(this.formatUSDValue(this.userSummary.totalCollateralUSD||"0"))}},totalBorrow:function(){return{eth:Object(w["c"])(this.userSummary.totalBorrowsMarketReferenceCurrency||"0").value,usd:this.getFiatValue(this.formatUSDValue(this.userSummary.totalBorrowsUSD||"0"))}},compositionPercentage:function(){if(this.userSummary&&Object.keys(this.userSummary).length>0){var e=this.userSummary.totalLiquidityMarketReferenceCurrency;return this.userSummary.userReservesData.filter((function(e){return e.underlyingBalance>1e-5})).map((function(t){return{percentage:d()(t.underlyingBalanceMarketReferenceCurrency).div(e).times(100).toFixed(),color:nr[t.reserve.symbol],tooltip:Object(w["c"])(t.underlyingBalance).value+" "+t.reserve.symbol}}))}return[]},collateralPercentage:function(){var e=this;return this.userSummary&&Object.keys(this.userSummary).length>0?this.userSummary.userReservesData.filter((function(e){return e.usageAsCollateralEnabledOnUser&&e.underlyingBalanceMarketReferenceCurrency>0})).map((function(t){return{percentage:d()(t.underlyingBalanceMarketReferenceCurrency).times(100).div(e.userSummary.totalCollateralMarketReferenceCurrency).toFixed(),color:nr[t.reserve.symbol],tooltip:Object(w["c"])(t.underlyingBalance).value+" "+t.reserve.symbol}})):[]},borrowingsPercentage:function(){var e=this;if(this.userSummary&&Object.keys(this.userSummary).length>0){var t=100,n=this.userSummary.userReservesData.filter((function(e){return e.totalBorrowsMarketReferenceCurrency>.001})).map((function(n){var a=d()(n.totalBorrowsMarketReferenceCurrency).times(100).div(e.userSummary.totalBorrowsMarketReferenceCurrency).toFixed();return t-=a,{percentage:a,color:nr[n.reserve.symbol],tooltip:Object(w["c"])(n.totalBorrowsMarketReferenceCurrency).value+" "+n.reserve.symbol}}));return t>0&&n.push({percentage:t,color:"#c7c7c7",tooltip:Object(w["c"])(this.userSummary.availableBorrowsMarketReferenceCurrency).value+" Available to Borrow"}),n}return[]},healthFactorColor:function(){return this.healthFactor<2&&this.healthFactor>=1.2?"orangePrimary--text":this.healthFactor<1.2?"redPrimary--text":"greenPrimary--text"}}),watch:{showDepositOverlay:function(e){e||(this.tokenSelected={})},showBorrowOverlay:function(e){e||(this.tokenSelected={})},activeTab:function(){this.tokenSelected={}}},mounted:function(){Kn["a"].$on("selectedBorrow",this.openBorrowOverlayWithToken),Kn["a"].$on("repayBorrowing",this.openRepayOverlay),Kn["a"].$on("changeAprType",this.openAprTypeOverlay),Kn["a"].$on("selectedDeposit",this.openDepositOverlayWithToken),Kn["a"].$on("withdrawToken",this.openWithdrawOverlay),Kn["a"].$on("collateralChange",this.openCollateralOverlay)},beforeDestroy:function(){Kn["a"].$off("selectedBorrow"),Kn["a"].$off("repayBorrowing"),Kn["a"].$off("changeAprType"),Kn["a"].$off("selectedDeposit"),Kn["a"].$off("withdrawToken"),Kn["a"].$off("collateralChange")},methods:{tabChanged:function(e){this.activeTab=e},toggleDepositOverlay:function(e){e||(this.tokenSelected={}),this.showDepositOverlay=e},toggleBorrowOverlay:function(e){e||(this.tokenSelected={}),this.showBorrowOverlay=e},openDepositOverlayWithToken:function(e){this.tokenSelected=e,this.showDepositOverlay=!0},openBorrowOverlayWithToken:function(e){this.tokenSelected=e,this.showBorrowOverlay=!0},openWithdrawOverlay:function(e){this.tokenSelected=e,this.showWithdrawOverlay=!0},closeWithdrawOverlay:function(){this.tokenSelected={},this.showWithdrawOverlay=!1},openCollateralOverlay:function(e){this.tokenSelected=e,this.showCollateralOverlay=!0},closeCollateralOverlay:function(){this.tokenSelected={},this.showCollateralOverlay=!1},resetCollateralToggle:function(e){var t=e.reserve,n=e.useAsCollateral,a=this.$refs.depositsTable.$children[0].$options.propsData.tableData;a.forEach((function(e){e.token===t&&(e.toggle.value=n)})),this.tokenSelected={},this.showCollateralOverlay=!1},openRepayOverlay:function(e){this.tokenSelected=e,this.showRepayOverlay=!0},closeRepayOverlay:function(){this.tokenSelected={},this.showRepayOverlay=!1},openAprTypeOverlay:function(e){this.tokenSelected=e,this.showAprTypeOverlay=!0},resetAprToggle:function(e){var t=e.reserve,n=e.value,a=this.$refs.borrowsTable.$children[0].$options.propsData.tableData;a.forEach((function(e){e.token===t&&(e.toggle.value=n)})),this.tokenSelected={},this.showCollateralOverlay=!1},closeAprTypeOverlay:function(){this.tokenSelected={},this.showAprTypeOverlay=!1}}},rr=ar,ir=(n("ac0c"),Object(Zn["a"])(rr,a,r,!1,null,"a3d7d712",null));t["default"]=ir.exports},"49fe":function(e,t,n){"use strict";var a=n("5383").version,r=n("dfab"),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};function o(e,t,n){if("object"!==typeof e)throw new r("options must be an object",r.ERR_BAD_OPTION_VALUE);var a=Object.keys(e),i=a.length;while(i-- >0){var s=a[i],o=t[s];if(o){var d=e[s],u=void 0===d||o(d,s,e);if(!0!==u)throw new r("option "+s+" must be "+u,r.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new r("Unknown option "+s,r.ERR_BAD_OPTION)}}i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+a+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,a,o){if(!1===e)throw new r(i(a," has been removed"+(t?" in "+t:"")),r.ERR_DEPRECATED);return t&&!s[a]&&(s[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,o)}},e.exports={assertOptions:o,validators:i}},"4a84":function(e,t,n){"use strict";n.r(t);var a=n("c167");n.d(t,"ConstructorFragment",(function(){return a["a"]})),n.d(t,"ErrorFragment",(function(){return a["b"]})),n.d(t,"EventFragment",(function(){return a["c"]})),n.d(t,"Fragment",(function(){return a["e"]})),n.d(t,"FunctionFragment",(function(){return a["f"]})),n.d(t,"ParamType",(function(){return a["g"]})),n.d(t,"FormatTypes",(function(){return a["d"]}));var r=n("5791");n.d(t,"AbiCoder",(function(){return r["a"]})),n.d(t,"defaultAbiCoder",(function(){return r["b"]}));var i=n("a807");n.d(t,"Interface",(function(){return i["b"]})),n.d(t,"Indexed",(function(){return i["a"]}));var s=n("5134");n.d(t,"checkResultErrors",(function(){return s["d"]})),n.d(t,"LogDescription",(function(){return i["c"]})),n.d(t,"TransactionDescription",(function(){return i["d"]}))},"4d63":function(e,t,n){var a=n("83ab"),r=n("da84"),i=n("e330"),s=n("94ca"),o=n("7156"),d=n("9112"),u=n("241c").f,c=n("3a9b"),l=n("44e7"),p=n("577e"),f=n("90d8"),y=n("9f7f"),m=n("aeb0"),b=n("cb2d"),h=n("d039"),T=n("1a2d"),g=n("69f3").enforce,v=n("2626"),w=n("b622"),O=n("fce3"),_=n("107c"),j=w("match"),A=r.RegExp,k=A.prototype,x=r.SyntaxError,C=i(k.exec),S=i("".charAt),P=i("".replace),E=i("".indexOf),D=i("".slice),I=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,R=/a/g,M=/a/g,B=new A(R)!==R,U=y.MISSED_STICKY,N=y.UNSUPPORTED_Y,L=a&&(!B||U||O||_||h((function(){return M[j]=!1,A(R)!=R||A(M)==M||"/a/i"!=A(R,"i")}))),F=function(e){for(var t,n=e.length,a=0,r="",i=!1;a<=n;a++)t=S(e,a),"\\"!==t?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),r+=t):r+="[\\s\\S]":r+=t+S(e,++a);return r},V=function(e){for(var t,n=e.length,a=0,r="",i=[],s={},o=!1,d=!1,u=0,c="";a<=n;a++){if(t=S(e,a),"\\"===t)t+=S(e,++a);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:C(I,D(e,a+1))&&(a+=2,d=!0),r+=t,u++;continue;case">"===t&&d:if(""===c||T(s,c))throw new x("Invalid capture group name");s[c]=!0,i[i.length]=[c,u],d=!1,c="";continue}d?c+=t:r+=t}return[r,i]};if(s("RegExp",L)){for(var H=function(e,t){var n,a,r,i,s,u,y=c(k,this),m=l(e),b=void 0===t,h=[],T=e;if(!y&&m&&b&&e.constructor===H)return e;if((m||c(k,e))&&(e=e.source,b&&(t=f(T))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),T=e,O&&"dotAll"in R&&(a=!!t&&E(t,"s")>-1,a&&(t=P(t,/s/g,""))),n=t,U&&"sticky"in R&&(r=!!t&&E(t,"y")>-1,r&&N&&(t=P(t,/y/g,""))),_&&(i=V(e),e=i[0],h=i[1]),s=o(A(e,t),y?this:k,H),(a||r||h.length)&&(u=g(s),a&&(u.dotAll=!0,u.raw=H(F(e),n)),r&&(u.sticky=!0),h.length&&(u.groups=h)),e!==T)try{d(s,"source",""===T?"(?:)":T)}catch(v){}return s},W=u(A),q=0;W.length>q;)m(H,A,W[q++]);k.constructor=H,H.prototype=k,b(r,"RegExp",H,{constructor:!0})}v("RegExp")},"4d8a":function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var s=n("4a84");Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return s.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return s.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return s.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return s.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return s.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return s.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return s.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return s.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return s.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return s.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return s.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return s.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return s.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return s.TransactionDescription}});var o=n("3b1c");Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return o.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return o.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return o.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return o.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return o.isAddress}});var d=i(n("71da"));t.base64=d;var u=n("2cf2");Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return u.Base58}});var c=n("549e");Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var l=n("7d0b");Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return l._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return l.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return l.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return l.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return l.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return l.namehash}});var p=n("f002");Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return p.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return p.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return p.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return p.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return p.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return p.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return p.mnemonicToSeed}});var f=n("ce42");Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var y=n("6f5a");Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return y.keccak256}});var m=n("ffb2");Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return m.Logger}});var b=n("820a");Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return b.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return b.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return b.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return b.sha512}});var h=n("ed62");Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return h.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return h.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return h.sha256}});var T=n("0b13");Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return T.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return T.shuffled}});var g=n("9bda");Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return g.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return g.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return g.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return g.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return g.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return g.shallowCopy}});var v=i(n("e165"));t.RLP=v;var w=n("ae1c");Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return w.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return w.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return w.SigningKey}});var O=n("8e19");Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return O.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return O.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return O.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return O._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return O.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return O.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return O.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return O.Utf8ErrorFuncs}});var _=n("5ac3");Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return _.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return _.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return _.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return _.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return _.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return _.TransactionTypes}});var j=n("71496");Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return j.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return j.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return j.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return j.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return j.parseUnits}});var A=n("288a");Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return A.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return A.verifyTypedData}});var k=n("baf7");Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return k._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return k.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return k.poll}});var x=n("820a");Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return x.SupportedAlgorithm}});var C=n("8e19");Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return C.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return C.Utf8ErrorReason}})},5383:function(e,t){e.exports={version:"0.27.2"}},"56d3":function(e,t,n){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},5792:function(e,t,n){},"58a7":function(e,t,n){"use strict";var a=n("779d");function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(a.isURLSearchParams(t))i=t.toString();else{var s=[];a.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(a.isArray(e)?t+="[]":e=[e],a.forEach(e,(function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),i=s.join("&")}if(i){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},"5e35":function(e,t,n){"use strict";var a=n("779d"),r=n("cf20"),i=n("a7ba"),s=n("790b"),o=n("0aa9");function d(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new o}e.exports=function(e){d(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),a.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||s.adapter;return t(e).then((function(t){return d(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(d(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"5e3c":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return _}));var a=n("901e"),r=n.n(a),i=n("9ab4"),s=n("e36d"),o=n("6779"),d=n("f179"),u=(n("c030"),n("98db"),n("4d8a")),c=n("908b"),l=n.n(c);function p(e,t,n,a,r,i,s){try{var o=e[i](s),d=o.value}catch(u){return void n(u)}o.done?t(d):Promise.resolve(d).then(a,r)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){p(i,a,r,s,o,"next",e)}function o(e){p(i,a,r,s,o,"throw",e)}s(void 0)}))}}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y.apply(this,arguments)}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.a.ROUND_DOWN;function b(e){return new r.a(e)}var h=new r.a(10),T={};function g(e){return T[e]||(T[e]=h.pow(e)),T[e]}var v;(function(e){e["None"]="None",e["Stable"]="Stable",e["Variable"]="Variable"})(v||(v={}));var w=4;function O(e,t,n){return b(t).eq(0)?b("-1"):b(e).multipliedBy(n).dividedBy(g(w)).div(t)}function _(e,t,n){return O(e,t,new r.a(n).multipliedBy(g(w)).decimalPlaces(0,r.a.ROUND_DOWN))}var j,A,k,x,C,S,P,E;function D(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){e["None"]="None",e["Stable"]="Stable",e["Variable"]="Variable"})(j||(j={})),function(e){e["Proto"]="proto",e["AMM"]="amm"}(A||(A={})),function(e){e["mainnet"]="mainnet",e["ropsten"]="ropsten",e["kovan"]="kovan",e["polygon"]="polygon",e["fork"]="fork",e["mumbai"]="mumbai",e["polygon_fork"]="polygon_fork",e["avalanche"]="avalanche",e["avalanche_fork"]="avalanche_fork",e["fuji"]="fuji",e["arbitrum_one"]="arbitrum_one",e["arbitrum_rinkeby"]="arbitrum_rinkeby"}(k||(k={})),function(e){e[e["mainnet"]=1]="mainnet",e[e["ropsten"]=3]="ropsten",e[e["kovan"]=42]="kovan",e[e["polygon"]=137]="polygon",e[e["fork"]=1337]="fork",e[e["mumbai"]=80001]="mumbai",e[e["polygon_fork"]=1338]="polygon_fork",e[e["avalanche"]=43114]="avalanche",e[e["avalanche_fork"]=1337]="avalanche_fork",e[e["fuji"]=43113]="fuji",e[e["arbitrum_one"]=42161]="arbitrum_one",e[e["arbitrum_rinkeby"]=421611]="arbitrum_rinkeby"}(x||(x={})),function(e){e["ERC20_APPROVAL"]="ERC20_APPROVAL",e["DLP_ACTION"]="DLP_ACTION",e["GOVERNANCE_ACTION"]="GOVERNANCE_ACTION",e["GOV_DELEGATION_ACTION"]="GOV_DELEGATION_ACTION",e["STAKE_ACTION"]="STAKE_ACTION",e["MIGRATION_LEND_AAVE"]="MIGRATION_LEND_AAVE",e["FAUCET_MINT"]="FAUCET_MINT",e["REWARD_ACTION"]="REWARD_ACTION"}(C||(C={})),function(e){e["default"]="default",e["withdraw"]="withdraw",e["deposit"]="deposit",e["liquidationCall"]="liquidationCall",e["liquidationFlash"]="liquidationFlash",e["repay"]="repay",e["swapCollateral"]="swapCollateral",e["repayCollateral"]="repayCollateral",e["withdrawETH"]="withdrawETH",e["borrowETH"]="borrwoETH"}(S||(S={})),function(e){e[e["Abstain"]=0]="Abstain",e[e["Yes"]=1]="Yes",e[e["No"]=2]="No"}(P||(P={})),function(e){e["aave"]="aave",e["bpt"]="bpt"}(E||(E={}));var I,R,M=D((function(e){var t=function(e){var t,n=Object.prototype,a=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function d(e,t,n,a){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),s=new C(a||[]);return i._invoke=j(e,n,s),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(a){return{type:"throw",arg:a}}}e.wrap=d;var c="suspendedStart",l="suspendedYield",p="executing",f="completed",y={};function m(){}function b(){}function h(){}var T={};T[i]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(S([])));v&&v!==n&&a.call(v,i)&&(T=v);var w=h.prototype=m.prototype=Object.create(T);function O(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e){function t(n,r,i,s){var o=u(e[n],e,r);if("throw"!==o.type){var d=o.arg,c=d.value;return c&&"object"===typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,i,s)}),(function(e){t("throw",e,i,s)})):Promise.resolve(c).then((function(e){d.value=e,i(d)}),(function(e){return t("throw",e,i,s)}))}s(o.arg)}var n;function r(e,a){function r(){return new Promise((function(n,r){t(e,a,n,r)}))}return n=n?n.then(r,r):r()}this._invoke=r}function j(e,t,n){var a=c;return function(r,i){if(a===p)throw new Error("Generator is already running");if(a===f){if("throw"===r)throw i;return P()}n.method=r,n.arg=i;while(1){var s=n.delegate;if(s){var o=A(s,n);if(o){if(o===y)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===c)throw a=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var d=u(e,t,n);if("normal"===d.type){if(a=n.done?f:l,d.arg===y)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(a=f,n.method="throw",n.arg=d.arg)}}}function A(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var r=u(a,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,y;var i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function n(){while(++r<e.length)if(a.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:P}}function P(){return{value:t,done:!0}}return b.prototype=w.constructor=h,h.constructor=b,h[o]=b.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},O(_.prototype),_.prototype[s]=function(){return this},e.AsyncIterator=_,e.async=function(t,n,a,r){var i=new _(d(t,n,a,r));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(w),w[o]="Generator",w[i]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(a,r){return o.type="throw",o.arg=e,n.next=a,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var d=a.call(s,"catchLoc"),u=a.call(s,"finallyLoc");if(d&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(d){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:S(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}})),B=s["a"].from(0).toHexString(),U=o["constants"].MaxUint256.toString(),N="115792089237316195423570985008687907853269984665640564039457584007913129639935",L="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",F="0.1",V="0.05",H=(I={},I[S["default"]]={limit:"210000",recommended:"210000"},I[S.deposit]={limit:"300000",recommended:"300000"},I[S.withdraw]={limit:"230000",recommended:"300000"},I[S.liquidationCall]={limit:"700000",recommended:"700000"},I[S.liquidationFlash]={limit:"995000",recommended:"995000"},I[S.repay]={limit:"300000",recommended:"300000"},I[S.borrowETH]={limit:"450000",recommended:"450000"},I[S.withdrawETH]={limit:"640000",recommended:"640000"},I[S.swapCollateral]={limit:"1000000",recommended:"1000000"},I[S.repayCollateral]={limit:"700000",recommended:"700000"},I),W=(R={},R[k.mainnet]={SYNTHETIX_PROXY_ADDRESS:"0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f"},function(){function e(){}return e.connect=function(e,t){return new d["b"](e,q,t)},e}()),q=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"executor",type:"address"}],name:"ExecutorAuthorized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"executor",type:"address"}],name:"ExecutorUnauthorized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newStrategy",type:"address"},{indexed:!0,internalType:"address",name:"initiatorChange",type:"address"}],name:"GovernanceStrategyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"}],name:"ProposalCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!0,internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{indexed:!1,internalType:"address[]",name:"targets",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"},{indexed:!1,internalType:"string[]",name:"signatures",type:"string[]"},{indexed:!1,internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{indexed:!1,internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{indexed:!1,internalType:"uint256",name:"startBlock",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endBlock",type:"uint256"},{indexed:!1,internalType:"address",name:"strategy",type:"address"},{indexed:!1,internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],name:"ProposalCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorExecution",type:"address"}],name:"ProposalExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"executionTime",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorQueueing",type:"address"}],name:"ProposalQueued",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"voter",type:"address"},{indexed:!1,internalType:"bool",name:"support",type:"bool"},{indexed:!1,internalType:"uint256",name:"votingPower",type:"uint256"}],name:"VoteEmitted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newVotingDelay",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorChange",type:"address"}],name:"VotingDelayChanged",type:"event"},{inputs:[],name:"__abdicate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"executors",type:"address[]"}],name:"authorizeExecutors",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"cancel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],name:"create",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getGovernanceStrategy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGuardian",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalById",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],internalType:"struct IAaveGovernanceV2.ProposalWithoutVotes",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalState",outputs:[{internalType:"enum IAaveGovernanceV2.ProposalState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProposalsCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"address",name:"voter",type:"address"}],name:"getVoteOnProposal",outputs:[{components:[{internalType:"bool",name:"support",type:"bool"},{internalType:"uint248",name:"votingPower",type:"uint248"}],internalType:"struct IAaveGovernanceV2.Vote",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVotingDelay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"executor",type:"address"}],name:"isExecutorAuthorized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"queue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"governanceStrategy",type:"address"}],name:"setGovernanceStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"votingDelay",type:"uint256"}],name:"setVotingDelay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"}],name:"submitVote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"submitVoteBySignature",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"executors",type:"address[]"}],name:"unauthorizeExecutors",outputs:[],stateMutability:"nonpayable",type:"function"}],G=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,z,t)},e}(),z=[{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Y=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,K,t)},e}(),K=[{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"}],J=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,Q,t)},e}(),Q=[{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"getMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"}],Z=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,$,t)},e}(),$=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!0,internalType:"address",name:"delegatee",type:"address"},{indexed:!1,internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"DelegateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"DelegatedPowerChanged",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"delegateByType",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateByTypeBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getDelegateeByType",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getPowerAtBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getPowerCurrent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"totalSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],X=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,ee,t)},e}(),ee=[{inputs:[],name:"AAVE",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"STK_AAVE",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPropositionPowerAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getTotalPropositionSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getTotalVotingSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getVotingPowerAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],te=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,ne,t)},e}(),ne=[{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"contract IAaveGovernanceV2",name:"governance",type:"address"}],name:"getProposal",outputs:[{components:[{internalType:"uint256",name:"totalVotingSupply",type:"uint256"},{internalType:"uint256",name:"minimumQuorum",type:"uint256"},{internalType:"uint256",name:"minimumDiff",type:"uint256"},{internalType:"uint256",name:"executionTimeWithGracePeriod",type:"uint256"},{internalType:"uint256",name:"proposalCreated",type:"uint256"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"},{internalType:"enum IAaveGovernanceV2.ProposalState",name:"proposalState",type:"uint8"}],internalType:"struct IGovernanceV2Helper.ProposalStats",name:"proposalStats",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"skip",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"contract IAaveGovernanceV2",name:"governance",type:"address"}],name:"getProposals",outputs:[{components:[{internalType:"uint256",name:"totalVotingSupply",type:"uint256"},{internalType:"uint256",name:"minimumQuorum",type:"uint256"},{internalType:"uint256",name:"minimumDiff",type:"uint256"},{internalType:"uint256",name:"executionTimeWithGracePeriod",type:"uint256"},{internalType:"uint256",name:"proposalCreated",type:"uint256"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"},{internalType:"enum IAaveGovernanceV2.ProposalState",name:"proposalState",type:"uint8"}],internalType:"struct IGovernanceV2Helper.ProposalStats[]",name:"proposalsStats",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address[]",name:"tokens",type:"address[]"}],name:"getTokensPower",outputs:[{components:[{internalType:"uint256",name:"votingPower",type:"uint256"},{internalType:"address",name:"delegatedAddressVotingPower",type:"address"},{internalType:"uint256",name:"propositionPower",type:"uint256"},{internalType:"address",name:"delegatedAddressPropositionPower",type:"address"}],internalType:"struct IGovernanceV2Helper.Power[]",name:"power",type:"tuple[]"}],stateMutability:"view",type:"function"}],ae=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,re,t)},e}(),re=[{inputs:[],name:"FLASHLOAN_PREMIUM_TOTAL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"borrow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"modes",type:"uint256[]"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"bytes",name:"params",type:"bytes"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"flashLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"collateral",type:"address"},{internalType:"address",name:"reserve",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"purchaseAmount",type:"uint256"},{internalType:"bool",name:"receiveAToken",type:"bool"}],name:"liquidationCall",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"repay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"bool",name:"useAsCollateral",type:"bool"}],name:"setUserUseReserveAsCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"rateMode",type:"uint256"}],name:"swapBorrowRateMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],ie=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,se,t)},e}(),se=[{inputs:[],name:"LEND",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"migrateFromLEND",outputs:[],stateMutability:"nonpayable",type:"function"}],oe=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,de,t)},e}(),de=[{inputs:[],name:"isEthRequired",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"}],ue=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,ce,t)},e}(),ce=[{inputs:[{internalType:"address",name:"collateralAsset",type:"address"},{internalType:"address",name:"debtAsset",type:"address"},{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"debtRepayAmount",type:"uint256"},{internalType:"uint256",name:"debtRateMode",type:"uint256"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IRepayWithCollateral.PermitSignature",name:"permitSignature",type:"tuple"},{internalType:"bool",name:"useEthPath",type:"bool"}],name:"swapAndRepay",outputs:[],stateMutability:"nonpayable",type:"function"}],le=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,pe,t)},e}(),pe=[{inputs:[],name:"REWARD_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"STAKED_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cooldown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"}],fe=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,ye,t)},e}(),ye=[{inputs:[{internalType:"address",name:"assetToSwapFrom",type:"address"},{internalType:"address",name:"assetToSwapTo",type:"address"},{internalType:"uint256",name:"amountToSwap",type:"uint256"},{internalType:"uint256",name:"minAmountToReceive",type:"uint256"},{internalType:"uint256",name:"swapAllBalanceOffset",type:"uint256"},{internalType:"bytes",name:"swapCalldata",type:"bytes"},{internalType:"address",name:"augustus",type:"address"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IParaSwapLiquiditySwapAdapter.PermitSignature",name:"permitParams",type:"tuple"}],name:"swapAndDeposit",outputs:[],stateMutability:"nonpayable",type:"function"}],me=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,be,t)},e}(),be=[{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interesRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"borrowETH",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"depositETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"repayETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"}],he=function(e,t){return new r.a(e).multipliedBy(new r.a(10).pow(t)).toFixed(0)},Te=function(e,t){return e.toLowerCase()===L.toLowerCase()?t:B},ge={AAVE:he("100",18),BAT:he("100000",18),BUSD:he("10000",18),DAI:he("10000",18),ENJ:he("100000",18),KNC:he("10000",18),LEND:he("1000",18),LINK:he("1000",18),MANA:he("100000",18),MKR:he("10",18),WETH:he("10",18),REN:he("10000",18),REP:he("1000",18),SNX:he("100",18),SUSD:he("10000",18),TUSD:"0",UNI:he("1000",18),USDC:he("10000",6),USDT:he("10000",6),WBTC:he("1",8),YFI:he("1",18),ZRX:he("100000",18),UNIUSDC:he(F,6),UNIDAI:he(F,18),UNIUSDT:he(F,6),UNIDAIETH:he(F,18),UNIUSDCETH:he(F,18),UNISETHETH:he(F,18),UNILENDETH:he(F,18),UNILINKETH:he(F,18),UNIMKRETH:he(F,18)},ve=function(e){return e.toLowerCase().endsWith(".eth")},we=Symbol("ethAddress"),Oe=Symbol("ethOrENSAddress"),_e=Symbol("isPositive"),je=Symbol("isPositiveOrMinusOne"),Ae=Symbol("is0OrPositiveMetadataKey"),ke=Symbol("Optional");function xe(e){return function(t,n,a){var r=Reflect.getOwnMetadata(we,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(we,r,t,n)}}function Ce(e){return function(t,n,a){var r=Reflect.getOwnMetadata(Oe,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(Oe,r,t,n)}}function Se(e){return function(t,n,a){var r=Reflect.getOwnMetadata(_e,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(_e,r,t,n)}}function Pe(e){return function(t,n,a){var r=Reflect.getOwnMetadata(Ae,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(Ae,r,t,n)}}function Ee(e){return function(t,n,a){var r=Reflect.getOwnMetadata(je,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(je,r,t,n)}}function De(e,t,n){var a=Reflect.getOwnMetadata(ke,e,t)||[];a.push(n),Reflect.defineMetadata(ke,a,e,t)}function Ie(e,t,n){var a=Reflect.getOwnMetadata(ke,e,t),r=[];return a&&a.forEach((function(e){null==n[e]&&(r[e]=!0)})),r}function Re(e,t,n,a){var r=Reflect.getOwnMetadata(we,e,t);r&&r.forEach((function(e){if(e.field){if(n[0][e.field]&&!o["utils"].isAddress(n[0][e.field]))throw new Error("Address: "+n[0][e.field]+" is not a valid ethereum Address")}else{var t=a&&a[e.index];if(n[e.index]&&!t&&!o["utils"].isAddress(n[e.index]))throw new Error("Address: "+n[e.index]+" is not a valid ethereum Address")}}))}function Me(e,t,n,a){var r=Reflect.getOwnMetadata(Oe,e,t);r&&r.forEach((function(e){if(e.field){if(n[0][e.field]&&!o["utils"].isAddress(n[0][e.field])&&!ve(n[0][e.field]))throw new Error("Address "+n[0][e.field]+" is not valid ENS format or a valid ethereum Address")}else{var t=a&&a[e.index];if(n[e.index]&&!t&&!o["utils"].isAddress(n[e.index])&&!ve(n[e.index]))throw new Error("Address "+n[e.index]+" is not valid ENS format or a valid ethereum Address")}}))}function Be(e,t,n,a){var r=Reflect.getOwnMetadata(_e,e,t);r&&r.forEach((function(e){if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>0))throw new Error("Amount: "+n[0][e.field]+" needs to be greater than 0")}else{var t=a&&a[e.index];if(!t&&!(Number(n[e.index])>0))throw new Error("Amount: "+n[e.index]+" needs to be greater than 0")}}))}function Ue(e,t,n,a){var r=Reflect.getOwnMetadata(Ae,e,t);r&&r.forEach((function(e){if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>=0))throw new Error("Amount: "+n[0][e.field]+" needs to be greater than 0")}else{var t=a&&a[e.index];if(!t&&!(Number(n[e.index])>=0))throw new Error("Amount: "+n[e.index]+" needs to be greater than 0")}}))}function Ne(e,t,n,a){var r=Reflect.getOwnMetadata(je,e,t);r&&r.forEach((function(e){if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>0||"-1"===n[0][e.field]))throw new Error("Amount: "+n[0][e.field]+" needs to be greater than 0 or -1")}else{var t=a&&a[e.index];if(!t&&!(Number(n[e.index])>0||"-1"===n[e.index]))throw new Error("Amount: "+n[e.index]+" needs to be greater than 0 or -1")}}))}function Le(e,t,n){var a=n.value;n.value=function(){var n=this.lendingPoolConfig||{},r=n.LENDING_POOL,i=n.FLASH_LIQUIDATION_ADAPTER;return o["utils"].isAddress(r)&&i&&o["utils"].isAddress(i)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[LPFlahsLiquidationValidator] You need to pass valid addresses"),[])}}function Fe(e,t,n){var a=n.value;n.value=function(){var n=this.lendingPoolConfig||{},r=n.LENDING_POOL,i=n.REPAY_WITH_COLLATERAL_ADAPTER;return o["utils"].isAddress(r)&&i&&o["utils"].isAddress(i)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[LPRepayWithCollateralValidator] You need to pass valid addresses"),[])}}function Ve(e,t,n){var a=n.value;n.value=function(){var n=this.lendingPoolConfig||{},r=n.LENDING_POOL,i=n.SWAP_COLLATERAL_ADAPTER;return o["utils"].isAddress(r)&&i&&o["utils"].isAddress(i)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[LPSwapCollateralValidator] You need to pass valid addresses"),[])}}function He(e,t,n){var a=n.value;n.value=function(){var n=this.lendingPoolConfig||{},r=n.LENDING_POOL;return o["utils"].isAddress(r)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[LendingPoolValidator] You need to pass valid addresses"),[])}}function We(e,t,n){var a=n.value;n.value=function(){var n,r=(null==(n=this.migratorConfig)?void 0:n.LEND_TO_AAVE_MIGRATOR)||"";return o["utils"].isAddress(r)?(Re(e,t,arguments),Be(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[MigratorValidator] You need to pass valid addresses"),[])}}function qe(e,t,n){var a=n.value;n.value=function(){var n=this.incentivesConfig||{},r=n.INCENTIVES_CONTROLLER,i=n.INCENTIVES_CONTROLLER_REWARD_TOKEN;return o["utils"].isAddress(i)&&o["utils"].isAddress(r)?(Re(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[IncentivesValidator] You need to pass valid addresses"),[])}}function Ge(e,t,n){var a=n.value;n.value=function(){var n=this.swapCollateralConfig.SWAP_COLLATERAL_ADAPTER||"";return o["utils"].isAddress(n)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[LiquiditySwapValidator] You need to pass valid addresses"),[])}}function ze(e,t,n){var a=n.value;n.value=function(){var n,r=(null==(n=this.repayWithCollateralConfig)?void 0:n.REPAY_WITH_COLLATERAL_ADAPTER)||"";return o["utils"].isAddress(r)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[RepayWithCollateralValidator] You need to pass valid addresses"),[])}}function Ye(e,t,n){var a=n.value;n.value=function(){var n=this.stakingConfig||{},r=n.TOKEN_STAKING,i=n.STAKING_REWARD_TOKEN;if(!o["utils"].isAddress(r)||!o["utils"].isAddress(i))return console.error("[StakingValidator] You need to pass valid addresses"),[];var s=Ie(e,t,arguments);return Re(e,t,arguments,s),Be(e,t,arguments,s),null==a?void 0:a.apply(this,arguments)}}function Ke(e,t,n){var a=n.value;n.value=function(){var n=this.stakingConfig||{},r=n.TOKEN_STAKING,i=n.STAKING_REWARD_TOKEN,s=n.STAKING_HELPER;if(!o["utils"].isAddress(r)||!o["utils"].isAddress(i)||!s||!o["utils"].isAddress(r))return console.error("[StakingValidator] You need to pass valid addresses"),[];var d=Ie(e,t,arguments);return Re(e,t,arguments,d),Be(e,t,arguments,d),null==a?void 0:a.apply(this,arguments)}}function Je(e,t,n){var a=n.value;n.value=function(){var n,r=null==(n=this.faucetConfig)?void 0:n.FAUCET;if(!r||r&&!o["utils"].isAddress(r))return console.error("[FaucetValidator] You need to pass valid addresses"),[];var i=Ie(e,t,arguments);return Re(e,t,arguments,i),Be(e,t,arguments,i),null==a?void 0:a.apply(this,arguments)}}function Qe(e,t,n){var a=n.value;n.value=function(){var n,r=(null==(n=this.wethGatewayConfig)?void 0:n.WETH_GATEWAY)||"";return o["utils"].isAddress(r)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[WethGatewayValidator] You need to pass valid addresses"),[])}}function Ze(e,t,n){var a=n.value;n.value=function(){var n=this.governanceConfig||{},r=n.AAVE_GOVERNANCE_V2,i=n.AAVE_GOVERNANCE_V2_HELPER,s=n.AAVE_GOVERNANCE_V2_EXECUTOR_SHORT,d=n.AAVE_GOVERNANCE_V2_EXECUTOR_LONG;return o["utils"].isAddress(r)&&o["utils"].isAddress(i)&&o["utils"].isAddress(s)&&o["utils"].isAddress(d)?(Re(e,t,arguments),Ue(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[GovernanceValidator] You need to pass valid addresses"),[])}}function $e(e,t,n){var a=n.value;n.value=function(){return Re(e,t,arguments),Me(e,t,arguments),Be(e,t,arguments),Ue(e,t,arguments),null==a?void 0:a.apply(this,arguments)}}var Xe=30,et=60,tt=function(){var e=f(M.mark((function e(t,n,a){var r,i;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.provider.estimateGas(t);case 2:if(r=e.sent,i=n.network,i!==k.polygon){e.next=6;break}return e.abrupt("return",r.add(r.mul(et).div(100)));case 6:return e.abrupt("return",r.add(r.mul(a||Xe).div(100)));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),nt=function(){var e=f(M.mark((function e(t){var n;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.provider.getGasPrice();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(e,t){var n=this;this.getContractInstance=function(e){if(!n.contractInstances[e]){var t=n.config.provider;n.contractInstances[e]=n.contractFactory.connect(e,t)}return n.contractInstances[e]},this.generateTxCallback=function(e){var t=e.rawTxMethod,a=e.from,r=e.value,i=e.gasSurplus,o=e.action;return f(M.mark((function e(){var d,u;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return d=e.sent,u=y({},d,{from:a,value:r||B}),e.next=6,tt(u,n.config,i);case 6:return u.gasLimit=e.sent,o&&H[o]&&u.gasLimit.lte(s["a"].from(H[o].limit))&&(u.gasLimit=s["a"].from(H[o].recommended)),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})))},this.generateTxPriceEstimation=function(e,t,a){return void 0===a&&(a=S["default"]),function(){var r=f(M.mark((function r(i){var s,o,d,u,c;return M.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return void 0===i&&(i=!1),r.prev=1,r.next=4,nt(n.config);case 4:if(s=r.sent,o=e.find((function(e){return e.txType===C.ERC20_APPROVAL})),o&&!i){r.next=15;break}return r.next=9,t();case 9:if(d=r.sent,u=d.gasLimit,c=d.gasPrice,u){r.next=14;break}throw new Error("Transaction calculation error");case 14:return r.abrupt("return",{gasLimit:u.toString(),gasPrice:c?c.toString():s.toString()});case 15:return r.abrupt("return",{gasLimit:H[a].recommended,gasPrice:s.toString()});case 18:return r.prev=18,r.t0=r["catch"](1),console.error("Calculate error on calculate estimation gas price.",r.t0),r.abrupt("return",null);case 22:case"end":return r.stop()}}),r,null,[[1,18]])})));return function(e){return r.apply(this,arguments)}}()},this.config=e,this.contractFactory=t,this.contractInstances={}};function rt(e){switch(e.slice(0,10)){case"0xda8567c8":return 100;case"0x58b9d179":return 4;case"0x0863b7ac":return 68;case"0x8f00eccb":return 68;case"0xec1d21dd":return 68;case"0x54840d1a":return 4;case"0xf5661034":return 68;case"0x64466805":return 68;case"0xa94e78ef":return 68;case"0x46c67b6d":return 68;default:throw new Error("Unrecognized function selector for Augustus")}}var it=function(e){function t(t,n){var a,r;return r=e.call(this,t,fe)||this,r.swapCollateralConfig=n,r.liquiditySwapAdapterAddress=(null==(a=r.swapCollateralConfig)?void 0:a.SWAP_COLLATERAL_ADAPTER)||"",r}m(t,e);var n=t.prototype;return n.swapAndDeposit=function(e,t){var n=e.user,a=e.assetToSwapFrom,r=e.assetToSwapTo,i=e.amountToSwap,s=e.minAmountToReceive,o=e.permitParams,d=e.augustus,u=e.swapCallData,c=e.swapAll,l=this.getContractInstance(this.liquiditySwapAdapterAddress),p=this.generateTxCallback({rawTxMethod:function(){return l.populateTransaction.swapAndDeposit(a,r,i,s,c?rt(u):0,u,d,o)},from:n});return{tx:p,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(t||[],p,S.swapCollateral)}},t}(at);Object(i["__decorate"])([Ge,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("assetToSwapFrom")),Object(i["__param"])(0,xe("assetToSwapTo")),Object(i["__param"])(0,xe("augustus")),Object(i["__param"])(0,Se("amountToSwap")),Object(i["__param"])(0,Se("minAmountToReceive")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object,Array]),Object(i["__metadata"])("design:returntype",Object)],it.prototype,"swapAndDeposit",null);var st=function(e,t,n,a,r,i,s,d,u,c){return o["utils"].defaultAbiCoder.encode(["address","uint256","uint256","bytes","address","tuple(uint256,uint256,uint8,bytes32,bytes32)"],[e,t,n,a,r,[i,s,d,u,c]])},ot=function(e){function t(t,n,a,r,i,s,o,d){var u;u=e.call(this,t,ae)||this,u.erc20Service=n,u.synthetixService=a,u.wethGatewayService=r,u.liquiditySwapAdapterService=i,u.repayWithCollateralAdapterService=s,u.market=o,u.lendingPoolConfig=d;var c=u.lendingPoolConfig||{},l=c.LENDING_POOL,p=c.FLASH_LIQUIDATION_ADAPTER,f=c.REPAY_WITH_COLLATERAL_ADAPTER,y=c.SWAP_COLLATERAL_ADAPTER;return u.lendingPoolAddress=l||"",u.flashLiquidationAddress=p||"",u.swapCollateralAddress=y||"",u.repayWithCollateralAddress=f||"",u}m(t,e);var n=t.prototype;return n.deposit=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u,c,l,p,f,y,m,b,h,T;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.user,a=t.reserve,r=t.amount,i=t.onBehalfOf,s=t.referralCode,a.toLowerCase()!==L.toLowerCase()){e.next=3;break}return e.abrupt("return",this.wethGatewayService.depositETH({lendingPool:this.lendingPoolAddress,user:n,amount:r,onBehalfOf:i,referralCode:s}));case 3:return o=this.erc20Service,d=o.isApproved,u=o.approve,c=o.decimalsOf,l=[],e.next=7,c(a);case 7:return p=e.sent,f=he(r,p),e.next=11,this.synthetixService.synthetixValidation(n,a,f);case 11:if(y=e.sent,y){e.next=14;break}throw new Error("Not enough funds to execute operation");case 14:return e.next=16,d(a,n,this.lendingPoolAddress,r);case 16:return m=e.sent,m||(b=u(n,a,this.lendingPoolAddress,U),l.push(b)),h=this.getContractInstance(this.lendingPoolAddress),T=this.generateTxCallback({rawTxMethod:function(){return h.populateTransaction.deposit(a,f,i||n,s||"0")},from:n,value:Te(a,f)}),l.push({tx:T,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(l,T,S.deposit)}),e.abrupt("return",l);case 22:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.withdraw=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,c,l,p;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.user,a=t.reserve,r=t.amount,i=t.onBehalfOf,s=t.aTokenAddress,a.toLowerCase()!==L.toLowerCase()){e.next=5;break}if(s){e.next=4;break}throw new Error("To withdraw ETH you need to pass the aWETH token address");case 4:return e.abrupt("return",this.wethGatewayService.withdrawETH({lendingPool:this.lendingPoolAddress,user:n,amount:r,onBehalfOf:i,aTokenAddress:s}));case 5:return d=this.erc20Service.decimalsOf,e.next=8,d(a);case 8:return u=e.sent,c="-1"===r?o["constants"].MaxUint256.toString():he(r,u),l=this.getContractInstance(this.lendingPoolAddress),p=this.generateTxCallback({rawTxMethod:function(){return l.populateTransaction.withdraw(a,c,i||n)},from:n,action:S.withdraw}),e.abrupt("return",[{tx:p,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation([],p,S.withdraw)}]);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.borrow=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u,c,l,p,f,y;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.user,a=t.reserve,r=t.amount,i=t.interestRateMode,s=t.debtTokenAddress,o=t.onBehalfOf,d=t.referralCode,a.toLowerCase()!==L.toLowerCase()){e.next=5;break}if(s){e.next=4;break}throw new Error("To borrow ETH you need to pass the stable or variable WETH debt Token Address corresponding the interestRateMode");case 4:return e.abrupt("return",this.wethGatewayService.borrowETH({lendingPool:this.lendingPoolAddress,user:n,amount:r,debtTokenAddress:s,interestRateMode:i,referralCode:d}));case 5:return u=this.erc20Service.decimalsOf,e.next=8,u(a);case 8:return c=e.sent,l=he(r,c),p=i===j.Variable?2:1,f=this.getContractInstance(this.lendingPoolAddress),y=this.generateTxCallback({rawTxMethod:function(){return f.populateTransaction.borrow(a,l,p,d||0,o||n)},from:n}),e.abrupt("return",[{tx:y,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation([],y)}]);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.repay=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,c,l,p,f,y,m,b,h,T,g,v,w;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.user,a=t.reserve,r=t.amount,i=t.interestRateMode,s=t.onBehalfOf,a.toLowerCase()!==L.toLowerCase()){e.next=3;break}return e.abrupt("return",this.wethGatewayService.repayETH({lendingPool:this.lendingPoolAddress,user:n,amount:r,interestRateMode:i,onBehalfOf:s}));case 3:return d=[],u=this.erc20Service,c=u.isApproved,l=u.approve,p=u.decimalsOf,f=this.getContractInstance(this.lendingPoolAddress),y=f.populateTransaction,m=i===j.Variable?2:1,e.next=10,p(a);case 10:if(b=e.sent,h="-1"===r?o["constants"].MaxUint256.toString():he(r,b),"-1"===r){e.next=18;break}return e.next=15,this.synthetixService.synthetixValidation(n,a,h);case 15:if(T=e.sent,T){e.next=18;break}throw new Error("Not enough funds to execute operation");case 18:return e.next=20,c(a,n,this.lendingPoolAddress,r);case 20:return g=e.sent,g||(v=l(n,a,this.lendingPoolAddress,U),d.push(v)),w=this.generateTxCallback({rawTxMethod:function(){return y.repay(a,h,m,s||n)},from:n,value:Te(a,h)}),d.push({tx:w,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(d,w,S.repay)}),e.abrupt("return",d);case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.swapBorrowRateMode=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.reserve,r=t.interestRateMode,i=r===j.Variable?2:1,s=this.getContractInstance(this.lendingPoolAddress),o=this.generateTxCallback({rawTxMethod:function(){return s.populateTransaction.swapBorrowRateMode(a,i)},from:n}),e.abrupt("return",[{txType:C.DLP_ACTION,tx:o,gas:this.generateTxPriceEstimation([],o)}]);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.setUsageAsCollateral=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.reserve,r=t.usageAsCollateral,i=this.getContractInstance(this.lendingPoolAddress),s=this.generateTxCallback({rawTxMethod:function(){return i.populateTransaction.setUserUseReserveAsCollateral(a,r)},from:n}),e.abrupt("return",[{tx:s,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation([],s)}]);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.liquidationCall=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u,c,l,p,f,y,m,b,h,T,g,v,w;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.liquidator,a=t.liquidatedUser,r=t.debtReserve,i=t.collateralReserve,s=t.purchaseAmount,o=t.getAToken,d=t.liquidateAll,u=[],c=this.erc20Service,l=c.isApproved,p=c.approve,f=c.getTokenData,e.next=5,l(r,n,this.lendingPoolAddress,s);case 5:return y=e.sent,y||(m=p(n,r,this.lendingPoolAddress,U),u.push(m)),e.next=9,Promise.all([f(r)]);case 9:return b=e.sent,h=b[0],T=h.decimals,g=d?N:he(s,T),v=this.getContractInstance(this.lendingPoolAddress),w=this.generateTxCallback({rawTxMethod:function(){return v.populateTransaction.liquidationCall(i,r,a,g,o||!1)},from:n,value:Te(r,g)}),u.push({tx:w,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(u,w,S.liquidationCall)}),e.abrupt("return",u);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.swapCollateral=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,c,l,p,f,y,m,b,h,T,g,v,w,O,_,j,A,k,x,P,E,D=this;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.flash,r=t.fromAsset,i=t.fromAToken,s=t.toAsset,d=t.fromAmount,u=t.minToAmount,c=t.permitSignature,l=t.swapAll,p=t.onBehalfOf,f=t.referralCode,y=t.augustus,m=t.swapCallData,b=[],h=c||{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},e.next=5,this.erc20Service.isApproved(i,n,this.swapCollateralAddress,d);case 5:return T=e.sent,T||(g=this.erc20Service.approve(n,i,this.swapCollateralAddress,o["constants"].MaxUint256.toString()),b.push(g)),e.next=9,this.erc20Service.decimalsOf(r);case 9:return v=e.sent,w=he(d,v),e.next=13,this.erc20Service.decimalsOf(s);case 13:if(O=e.sent,_=he(u,O),j=this.getContractInstance(this.lendingPoolAddress),A=st(s,_,l?rt(m):0,m,y,h.amount,h.deadline,h.v,h.r,h.s),!a){e.next=23;break}return k=(Number(d)+Number(d)*Number(V)/100).toString(),x=he(k,v),P=this.generateTxCallback({rawTxMethod:function(){return j.populateTransaction.flashLoan(D.swapCollateralAddress,[r],l?[x]:[w],[0],p||n,A,f||"0")},from:n}),b.push({tx:P,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(b,P,S.swapCollateral)}),e.abrupt("return",b);case 23:return e.next=25,this.liquiditySwapAdapterService.swapAndDeposit({user:n,assetToSwapFrom:r,assetToSwapTo:s,amountToSwap:w,minAmountToReceive:_,swapAll:l,swapCallData:m,augustus:y,permitParams:h},b);case 25:return E=e.sent,b.push(E),e.abrupt("return",b);case 28:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.repayWithCollateral=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,c,l,p,f,y,m,b,h,T,g,v,w,O,_,A,k,x,P,E,D,I=this;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.fromAsset,r=t.fromAToken,i=t.assetToRepay,s=t.repayWithAmount,d=t.repayAmount,u=t.permitSignature,c=t.repayAllDebt,l=t.rateMode,p=t.onBehalfOf,f=t.referralCode,y=t.flash,m=t.useEthPath,b=[],h=u||{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},e.next=5,this.erc20Service.isApproved(r,n,this.repayWithCollateralAddress,s);case 5:return T=e.sent,T||(g=this.erc20Service.approve(n,r,this.repayWithCollateralAddress,o["constants"].MaxUint256.toString()),b.push(g)),e.next=9,this.erc20Service.decimalsOf(a);case 9:return v=e.sent,w=he(s,v),O=(Number(d)+Number(d)*Number(V)/100).toString(),e.next=14,this.erc20Service.decimalsOf(i);case 14:if(_=e.sent,A=he(c?O:d,_),k=0,l&&(k=l===j.Stable?1:2),!y){e.next=24;break}return x=o["utils"].defaultAbiCoder.encode(["address","uint256","uint256","uint256","uint256","uint8","bytes32","bytes32","bool"],[a,w,k,h.amount,h.deadline,h.v,h.r,h.s,m||!1]),P=this.getContractInstance(this.lendingPoolAddress),E=this.generateTxCallback({rawTxMethod:function(){return P.populateTransaction.flashLoan(I.repayWithCollateralAddress,[i],[A],[0],p||n,x,f||"0")},from:n}),b.push({tx:E,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(b,E,S.repayCollateral)}),e.abrupt("return",b);case 24:return D=this.repayWithCollateralAdapterService.swapAndRepay({user:n,collateralAsset:a,debtAsset:i,collateralAmount:w,debtRepayAmount:A,debtRateMode:k,permit:h,useEthPath:m},b),b.push(D),e.abrupt("return",b);case 27:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.flashLiquidation=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,c,l,p,f,y,m,b,h,T,g=this;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.collateralAsset,r=t.borrowedAsset,i=t.debtTokenCover,s=t.liquidateAll,d=t.initiator,u=t.useEthPath,c=function(e){return(Number(e)+Number(e)*Number(e)/100).toString()},l=[],p=this.getContractInstance(this.lendingPoolAddress),e.next=6,this.erc20Service.decimalsOf(r);case 6:return f=e.sent,y=he(i,f),m=s?o["constants"].MaxUint256.toString():y,b=s?he(c(i),f):y,h=o["utils"].defaultAbiCoder.encode(["address","address","address","uint256","bool"],[a,r,n,m,u||!1]),T=this.generateTxCallback({rawTxMethod:function(){return p.populateTransaction.flashLoan(g.flashLiquidationAddress,[r],[b],[0],d,h,"0")},from:d}),l.push({tx:T,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(l,T,S.liquidationFlash)}),e.abrupt("return",l);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([He,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("reserve")),Object(i["__param"])(0,Se("amount")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"deposit",null),Object(i["__decorate"])([He,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("reserve")),Object(i["__param"])(0,Ee("amount")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__param"])(0,xe("aTokenAddress")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"withdraw",null),Object(i["__decorate"])([He,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("reserve")),Object(i["__param"])(0,Se("amount")),Object(i["__param"])(0,xe("debtTokenAddress")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"borrow",null),Object(i["__decorate"])([He,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("reserve")),Object(i["__param"])(0,Ee("amount")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"repay",null),Object(i["__decorate"])([He,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("reserve")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"swapBorrowRateMode",null),Object(i["__decorate"])([He,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("reserve")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"setUsageAsCollateral",null),Object(i["__decorate"])([He,Object(i["__param"])(0,xe("liquidator")),Object(i["__param"])(0,xe("liquidatedUser")),Object(i["__param"])(0,xe("debtReserve")),Object(i["__param"])(0,xe("collateralReserve")),Object(i["__param"])(0,Se("purchaseAmount")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"liquidationCall",null),Object(i["__decorate"])([Ve,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("fromAsset")),Object(i["__param"])(0,xe("fromAToken")),Object(i["__param"])(0,xe("toAsset")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__param"])(0,xe("augustus")),Object(i["__param"])(0,Se("fromAmount")),Object(i["__param"])(0,Se("minToAmount")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"swapCollateral",null),Object(i["__decorate"])([Fe,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("fromAsset")),Object(i["__param"])(0,xe("fromAToken")),Object(i["__param"])(0,xe("assetToRepay")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__param"])(0,Se("repayWithAmount")),Object(i["__param"])(0,Se("repayAmount")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"repayWithCollateral",null),Object(i["__decorate"])([Le,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("collateralAsset")),Object(i["__param"])(0,xe("borrowedAsset")),Object(i["__param"])(0,Se("debtTokenCover")),Object(i["__param"])(0,xe("initiator")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"flashLiquidation",null);var dt=function(e){function t(t,n){var a,r;r=e.call(this,t,oe)||this,r.faucetConfig=n;var i=r.config.provider;return r.faucetAddress=(null==(a=r.faucetConfig)?void 0:a.FAUCET)||"",""!==r.faucetAddress&&(r.faucetContract=J.connect(r.faucetAddress,i)),r}m(t,e);var n=t.prototype;return n.mint=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o=this;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.userAddress,a=t.reserve,r=t.tokenSymbol,i=ge[r],s=this.generateTxCallback({rawTxMethod:function(){return o.faucetContract.populateTransaction.mint(a,i)},from:n,value:B}),e.abrupt("return",[{tx:s,txType:C.FAUCET_MINT,gas:this.generateTxPriceEstimation([],s)}]);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([Je,Object(i["__param"])(0,xe("userAddress")),Object(i["__param"])(0,xe("reserve")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],dt.prototype,"mint",null);var ut=function(e){function t(t,n,a){var r,i;return i=e.call(this,t,ie)||this,i.erc20Service=n,i.migratorConfig=a,i.migratorAddress=(null==(r=i.migratorConfig)?void 0:r.LEND_TO_AAVE_MIGRATOR)||"",i}m(t,e);var n=t.prototype;return n.migrateLendToAave=function(){var e=f(M.mark((function e(t,n){var a,r,i,s,o,d,u,c,l,p,f;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],r=this.erc20Service,i=r.isApproved,s=r.approve,o=r.decimalsOf,d=this.getContractInstance(this.migratorAddress),e.next=5,d.LEND();case 5:return u=e.sent,e.next=8,i(u,t,this.migratorAddress,n);case 8:return c=e.sent,c||a.push(s(t,u,this.migratorAddress,U)),e.next=12,o(u);case 12:return l=e.sent,e.next=15,he(n,l);case 15:return p=e.sent,f=this.generateTxCallback({rawTxMethod:function(){return d.populateTransaction.migrateFromLEND(p)},from:t}),a.push({txType:C.MIGRATION_LEND_AAVE,tx:f,gas:this.generateTxPriceEstimation(a,f)}),e.abrupt("return",a);case 19:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([We,Object(i["__param"])(0,xe()),Object(i["__param"])(1,Se()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String,String]),Object(i["__metadata"])("design:returntype",Promise)],ut.prototype,"migrateLendToAave",null);var ct=function(e){function t(t,n,a,r){var i;i=e.call(this,t,le)||this,i.stakingConfig=r,i.tokenStake=a,i.erc20Service=n;var s=i.config.provider,o=i.stakingConfig||{},d=o.TOKEN_STAKING,u=o.STAKING_REWARD_TOKEN,c=o.STAKING_HELPER;return i.stakingContractAddress=d||"",i.stakingRewardTokenContractAddress=u||"",i.stakingHelperContractAddress=c,i.stakingHelperContractAddress&&(i.stakingHelperContract=Y.connect(i.stakingHelperContractAddress,s)),i}m(t,e);var n=t.prototype;return n.signStaking=function(){var e=f(M.mark((function e(t,n,a){var r,i,s,d,u,c,l,p;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.stakingHelperContractAddress){e.next=2;break}return e.abrupt("return","");case 2:return r=this.erc20Service.getTokenData,i=this.getContractInstance(this.stakingContractAddress),e.next=6,i.STAKED_TOKEN();case 6:return s=e.sent,e.next=9,r(s);case 9:return d=e.sent,u=d.name,c=d.decimals,l=he(n,c),p={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},primaryType:"Permit",domain:{name:u,version:"1",chainId:x[this.config.network],verifyingContract:s},message:{owner:t,spender:this.stakingHelperContractAddress,value:l,nonce:a,deadline:o["constants"].MaxUint256.toString()}},e.abrupt("return",JSON.stringify(p));case 15:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}(),n.stakeWithPermit=function(){var e=f(M.mark((function e(t,n,a){var r,i,s,d,u,c,l,p,f=this;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.stakingHelperContractAddress){e.next=2;break}return e.abrupt("return",[]);case 2:return r=[],i=this.erc20Service.decimalsOf,s=this.getContractInstance(this.stakingContractAddress),e.next=7,s.STAKED_TOKEN();case 7:return d=e.sent,e.next=10,i(d);case 10:return u=e.sent,c=he(n,u),l=o["utils"].splitSignature(a),p=this.generateTxCallback({rawTxMethod:function(){return f.stakingHelperContract.populateTransaction.stake(t,c,l.v,l.r,l.s)},from:t}),r.push({tx:p,txType:C.STAKE_ACTION,gas:this.generateTxPriceEstimation(r,p)}),e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}(),n.stake=function(){var e=f(M.mark((function e(t,n,a){var r,i,s,o,d,u,c,l,p,f,y,m;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],i=this.erc20Service,s=i.decimalsOf,o=i.isApproved,d=i.approve,u=this.getContractInstance(this.stakingContractAddress),e.next=5,u.STAKED_TOKEN();case 5:return c=e.sent,e.next=8,s(c);case 8:return l=e.sent,p=he(n,l),e.next=12,o(c,t,this.stakingContractAddress,n);case 12:return f=e.sent,f||(y=d(t,c,this.stakingContractAddress,U),r.push(y)),m=this.generateTxCallback({rawTxMethod:function(){return u.populateTransaction.stake(a||t,p)},from:t}),r.push({tx:m,txType:C.STAKE_ACTION,gas:this.generateTxPriceEstimation(r,m)}),e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}(),n.redeem=function(){var e=f(M.mark((function e(t,n){var a,r,i,s,o,d;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getContractInstance(this.stakingContractAddress),"-1"!==n){e.next=5;break}a=N,e.next=13;break;case 5:return i=this.erc20Service.decimalsOf,e.next=8,r.STAKED_TOKEN();case 8:return s=e.sent,e.next=11,i(s);case 11:o=e.sent,a=he(n,o);case 13:return d=this.generateTxCallback({rawTxMethod:function(){return r.populateTransaction.redeem(t,a)},from:t,gasSurplus:20}),e.abrupt("return",[{tx:d,txType:C.STAKE_ACTION,gas:this.generateTxPriceEstimation([],d)}]);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),n.cooldown=function(){var e=f(M.mark((function e(t){var n,a;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.getContractInstance(this.stakingContractAddress),a=this.generateTxCallback({rawTxMethod:function(){return n.populateTransaction.cooldown()},from:t}),e.abrupt("return",[{tx:a,txType:C.STAKE_ACTION,gas:this.generateTxPriceEstimation([],a)}]);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.claimRewards=function(){var e=f(M.mark((function e(t,n){var a,r,i,s,o,d;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getContractInstance(this.stakingContractAddress),"-1"!==n){e.next=5;break}a=N,e.next=13;break;case 5:return i=this.erc20Service.decimalsOf,e.next=8,r.REWARD_TOKEN();case 8:return s=e.sent,e.next=11,i(s);case 11:o=e.sent,a=he(n,o);case 13:return d=this.generateTxCallback({rawTxMethod:function(){return r.populateTransaction.claimRewards(t,a)},from:t,gasSurplus:20}),e.abrupt("return",[{tx:d,txType:C.STAKE_ACTION,gas:this.generateTxPriceEstimation([],d)}]);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([Ke,Object(i["__param"])(0,xe()),Object(i["__param"])(1,Se()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String,String,String]),Object(i["__metadata"])("design:returntype",Promise)],ct.prototype,"signStaking",null),Object(i["__decorate"])([Ye,Object(i["__param"])(0,xe()),Object(i["__param"])(1,Se()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String,String,String]),Object(i["__metadata"])("design:returntype",Promise)],ct.prototype,"stakeWithPermit",null),Object(i["__decorate"])([Ye,Object(i["__param"])(0,xe()),Object(i["__param"])(1,Se()),Object(i["__param"])(2,De),Object(i["__param"])(2,xe()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String,String,String]),Object(i["__metadata"])("design:returntype",Promise)],ct.prototype,"stake",null),Object(i["__decorate"])([Ye,Object(i["__param"])(0,xe()),Object(i["__param"])(1,Ee()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String,String]),Object(i["__metadata"])("design:returntype",Promise)],ct.prototype,"redeem",null),Object(i["__decorate"])([Ye,Object(i["__param"])(0,xe()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String]),Object(i["__metadata"])("design:returntype",Promise)],ct.prototype,"cooldown",null),Object(i["__decorate"])([Ye,Object(i["__param"])(0,xe()),Object(i["__param"])(1,Ee()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String,String]),Object(i["__metadata"])("design:returntype",Promise)],ct.prototype,"claimRewards",null);var lt=function(e){function t(t,n){var a;a=e.call(this,t,G)||this,a.incentivesConfig=n;var r=a.incentivesConfig||{},i=r.INCENTIVES_CONTROLLER,s=r.INCENTIVES_CONTROLLER_REWARD_TOKEN;return a.incentivesControllerAddress=i||"",a.incentivesControllerRewardTokenAddress=s||"",a}m(t,e);var n=t.prototype;return n.claimRewards=function(e){var t=e.user,n=e.assets,a=e.to,r=this.getContractInstance(this.incentivesControllerAddress),i=this.generateTxCallback({rawTxMethod:function(){return r.populateTransaction.claimRewards(n,o["constants"].MaxUint256.toString(),a||t)},from:t});return[{tx:i,txType:C.REWARD_ACTION,gas:this.generateTxPriceEstimation([],i)}]},t}(at);Object(i["__decorate"])([qe,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("to")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Array)],lt.prototype,"claimRewards",null);var pt=function(e){function t(t,n,a,r){var i,s;return s=e.call(this,t,me)||this,s.wethGatewayConfig=r,s.baseDebtTokenService=n,s.erc20Service=a,s.wethGatewayAddress=(null==(i=s.wethGatewayConfig)?void 0:i.WETH_GATEWAY)||"",s}m(t,e);var n=t.prototype;return n.depositETH=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.lendingPool,a=t.user,r=t.amount,i=t.onBehalfOf,s=t.referralCode,o=he(r,18),d=this.getContractInstance(this.wethGatewayAddress),u=this.generateTxCallback({rawTxMethod:function(){return d.populateTransaction.depositETH(n,i||a,s||"0")},from:a,value:o}),e.abrupt("return",[{tx:u,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation([],u)}]);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.borrowETH=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,c,l,p,f,y,m;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.lendingPool,a=t.user,r=t.amount,i=t.debtTokenAddress,s=t.interestRateMode,d=t.referralCode,u=[],c=he(r,18),l=s===j.Variable?2:1,e.next=6,this.baseDebtTokenService.isDelegationApproved(i,a,this.wethGatewayAddress,r);case 6:return p=e.sent,p||(f=this.baseDebtTokenService.approveDelegation(a,this.wethGatewayAddress,i,o["constants"].MaxUint256.toString()),u.push(f)),y=this.getContractInstance(this.wethGatewayAddress),m=this.generateTxCallback({rawTxMethod:function(){return y.populateTransaction.borrowETH(n,c,l,d||"0")},from:a}),u.push({tx:m,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(u,m,S.borrowETH)}),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.withdrawETH=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,c,l,p,f,y,m,b;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.lendingPool,a=t.user,r=t.amount,i=t.onBehalfOf,s=t.aTokenAddress,d=[],u=this.erc20Service,c=u.isApproved,l=u.approve,p="-1"===r?o["constants"].MaxUint256.toString():he(r,18),e.next=6,c(s,a,this.wethGatewayAddress,r);case 6:return f=e.sent,f||(y=l(a,s,this.wethGatewayAddress,o["constants"].MaxUint256.toString()),d.push(y)),m=this.getContractInstance(this.wethGatewayAddress),b=this.generateTxCallback({rawTxMethod:function(){return m.populateTransaction.withdrawETH(n,p,i||a)},from:a}),d.push({tx:b,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(d,b,S.withdrawETH)}),e.abrupt("return",d);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.repayETH=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u,c;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.lendingPool,a=t.user,r=t.amount,i=t.interestRateMode,s=t.onBehalfOf,o=he(r,18),d=i===j.Variable?2:1,u=this.getContractInstance(this.wethGatewayAddress),c=this.generateTxCallback({rawTxMethod:function(){return u.populateTransaction.repayETH(n,o,d,s||a)},gasSurplus:30,from:a,value:o}),e.abrupt("return",[{tx:c,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation([],c)}]);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([Qe,Object(i["__param"])(0,xe("lendingPool")),Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__param"])(0,Se("amount")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],pt.prototype,"depositETH",null),Object(i["__decorate"])([Qe,Object(i["__param"])(0,xe("lendingPool")),Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Se("amount")),Object(i["__param"])(0,xe("debtTokenAddress")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],pt.prototype,"borrowETH",null),Object(i["__decorate"])([Qe,Object(i["__param"])(0,xe("lendingPool")),Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__param"])(0,Ee("amount")),Object(i["__param"])(0,xe("aTokenAddress")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],pt.prototype,"withdrawETH",null),Object(i["__decorate"])([Qe,Object(i["__param"])(0,xe("lendingPool")),Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__param"])(0,Se("amount")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],pt.prototype,"repayETH",null);var ft,yt,mt=function(e){function t(t,n){var a,r;return r=e.call(this,t,ue)||this,r.repayWithCollateralConfig=n,r.repayWithCollateralAddress=(null==(a=r.repayWithCollateralConfig)?void 0:a.REPAY_WITH_COLLATERAL_ADAPTER)||"",r}m(t,e);var n=t.prototype;return n.swapAndRepay=function(e,t){var n=e.user,a=e.collateralAsset,r=e.debtAsset,i=e.collateralAmount,s=e.debtRepayAmount,o=e.debtRateMode,d=e.permit,u=e.useEthPath,c=this.getContractInstance(this.repayWithCollateralAddress),l=this.generateTxCallback({rawTxMethod:function(){return c.populateTransaction.swapAndRepay(a,r,i,s,o,d,u||!1)},from:n});return{tx:l,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(t||[],l,S.repayCollateral)}},t}(at);Object(i["__decorate"])([ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("collateralAsset")),Object(i["__param"])(0,xe("debtAsset")),Object(i["__param"])(0,Se("collateralAmount")),Object(i["__param"])(0,Se("debtRepayAmount")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object,Array]),Object(i["__metadata"])("design:returntype",Object)],mt.prototype,"swapAndRepay",null),function(e){e[e["Short"]=0]="Short",e[e["Long"]=1]="Long"}(ft||(ft={})),function(e){e["Pending"]="Pending",e["Canceled"]="Canceled",e["Active"]="Active",e["Failed"]="Failed",e["Succeeded"]="Succeeded",e["Queued"]="Queued",e["Expired"]="Expired",e["Executed"]="Executed"}(yt||(yt={}));var bt="https://cloudflare-ipfs.com/ipfs";function ht(e){return bt+"/"+e}var Tt={};function gt(e){return vt.apply(this,arguments)}function vt(){return vt=f(M.mark((function t(n){var a,r,i;return M.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=u["base58"].encode(e.from("1220"+n.slice(2),"hex")),!Tt[a]){t.next=3;break}return t.abrupt("return",Tt[a]);case 3:return t.prev=3,t.next=6,l.a.get(ht(a),{timeout:2e3});case 6:if(r=t.sent,i=r.data,null!=i&&i.title){t.next=10;break}throw Error("Missing title field at proposal metadata.");case 10:if(null!=i&&i.description){t.next=12;break}throw Error("Missing description field at proposal metadata.");case 12:if(null!=i&&i.shortDescription){t.next=14;break}throw Error("Missing shortDescription field at proposal metadata.");case 14:return Tt[a]={ipfsHash:a,title:i.title,description:i.description,shortDescription:i.shortDescription},t.abrupt("return",Tt[a]);case 18:return t.prev=18,t.t0=t["catch"](3),console.error("@aave/protocol-js: IPFS fetch Error: "+t.t0.message),t.abrupt("return",{ipfsHash:a,title:"Proposal - "+a,description:"Proposal with invalid metadata format or IPFS gateway is down",shortDescription:"Proposal with invalid metadata format or IPFS gateway is down"});case 22:case"end":return t.stop()}}),t,null,[[3,18]])}))),vt.apply(this,arguments)}var wt=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u,c,l,p,f,y,m,b,h,T,g,v,w,O,_,j,A,k;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.id,a=t.creator,r=t.executor,i=t.targets,s=t.values,o=t.signatures,d=t.calldatas,u=t.withDelegatecalls,c=t.startBlock,l=t.endBlock,p=t.executionTime,f=t.forVotes,y=t.againstVotes,m=t.executed,b=t.canceled,h=t.strategy,T=t.ipfsHash,g=t.totalVotingSupply,v=t.minimumQuorum,w=t.minimumDiff,O=t.executionTimeWithGracePeriod,_=t.proposalCreated,j=t.proposalState,e.next=3,gt(T);case 3:return A=e.sent,k={id:Number(n.toString()),creator:a,executor:r,targets:i,values:s,signatures:o,calldatas:d,withDelegatecalls:u,startBlock:Number(c.toString()),endBlock:Number(l.toString()),executionTime:p.toString(),forVotes:f.toString(),againstVotes:y.toString(),executed:m,canceled:b,strategy:h,ipfsHash:A.ipfsHash,state:Object.values(yt)[j],minimumQuorum:v.toString(),minimumDiff:w.toString(),executionTimeWithGracePeriod:O.toString(),title:A.title,description:A.description,shortDescription:A.shortDescription,proposalCreated:Number(_.toString()),totalVotingSupply:g.toString()},e.abrupt("return",k);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot=function(e){function t(t,n){var a;a=e.call(this,t,W)||this,a.executors=[],a.governanceConfig=n;var r=a.governanceConfig||{},i=r.AAVE_GOVERNANCE_V2,s=r.AAVE_GOVERNANCE_V2_HELPER,o=r.AAVE_GOVERNANCE_V2_EXECUTOR_SHORT,d=r.AAVE_GOVERNANCE_V2_EXECUTOR_LONG;return a.aaveGovernanceV2Address=i||"",a.aaveGovernanceV2HelperAddress=s||"",a.executors[ft.Short]=o||"",a.executors[ft.Long]=d||"",a}m(t,e);var n=t.prototype;return n.create=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u,c,l,p,f=this;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.targets,r=t.values,i=t.signatures,s=t.calldatas,o=t.withDelegateCalls,d=t.ipfsHash,u=t.executor,c=[],l=this.getContractInstance(this.aaveGovernanceV2Address),p=this.generateTxCallback({rawTxMethod:function(){return l.populateTransaction.create(f.executors[u],a,r,i,s,o,d)},from:n}),c.push({tx:p,txType:C.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(c,p)}),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.cancel=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.proposalId,r=[],i=this.getContractInstance(this.aaveGovernanceV2Address),s=this.generateTxCallback({rawTxMethod:function(){return i.populateTransaction.cancel(a)},from:n}),r.push({tx:s,txType:C.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(r,s)}),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.queue=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.proposalId,r=[],i=this.getContractInstance(this.aaveGovernanceV2Address),s=this.generateTxCallback({rawTxMethod:function(){return i.populateTransaction.queue(a)},from:n}),r.push({tx:s,txType:C.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(r,s)}),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.execute=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.proposalId,r=[],i=this.getContractInstance(this.aaveGovernanceV2Address),s=this.generateTxCallback({rawTxMethod:function(){return i.populateTransaction.execute(a)},from:n}),r.push({tx:s,txType:C.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(r,s)}),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.submitVote=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.proposalId,r=t.support,i=[],s=this.getContractInstance(this.aaveGovernanceV2Address),o=this.generateTxCallback({rawTxMethod:function(){return s.populateTransaction.submitVote(a,r)},from:n}),i.push({tx:o,txType:C.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(i,o)}),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.signVoting=function(){var e=f(M.mark((function e(t){var n,a,r;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.support,a=t.proposalId,r={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],VoteEmitted:[{name:"id",type:"uint256"},{name:"support",type:"bool"}]},primaryType:"VoteEmitted",domain:{name:"Aave Governance v2",chainId:x[this.config.network],verifyingContract:this.aaveGovernanceV2Address},message:{support:n,id:a}},e.abrupt("return",JSON.stringify(r));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.submitVoteBySignature=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,c;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.proposalId,r=t.support,i=t.signature,s=[],d=this.getContractInstance(this.aaveGovernanceV2Address),u=o["utils"].splitSignature(i),c=this.generateTxCallback({rawTxMethod:function(){return d.populateTransaction.submitVoteBySignature(a,r,u.v,u.r,u.s)},from:n}),s.push({tx:c,txType:C.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(s,c)}),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getProposals=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.skip,a=t.limit,r=this.config.provider,i=te.connect(this.aaveGovernanceV2HelperAddress,r),e.next=5,i.getProposals(n.toString(),a.toString(),this.aaveGovernanceV2Address);case 5:return s=e.sent,o=Promise.all(s.map(function(){var e=f(M.mark((function e(t){return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",wt(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getProposal=function(){var e=f(M.mark((function e(t){var n,a,r,i;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.proposalId,a=this.config.provider,r=te.connect(this.aaveGovernanceV2HelperAddress,a),e.next=5,r.getProposal(n,this.aaveGovernanceV2Address);case 5:return i=e.sent,e.abrupt("return",wt(i));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getPropositionPowerAt=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.block,r=t.strategy,i=this.config.provider,s=X.connect(r,i),e.next=5,s.getPropositionPowerAt(n,a.toString());case 5:return o=e.sent,e.abrupt("return",Object(u["formatEther"])(o));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getVotingPowerAt=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.block,r=t.strategy,i=this.config.provider,s=X.connect(r,i),e.next=5,s.getVotingPowerAt(n,a.toString());case 5:return o=e.sent,e.abrupt("return",Object(u["formatEther"])(o));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getTotalPropositionSupplyAt=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.block,a=t.strategy,r=this.config.provider,i=X.connect(a,r),e.next=5,i.getTotalPropositionSupplyAt(n.toString());case 5:return s=e.sent,e.abrupt("return",Object(u["formatEther"])(s));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getTotalVotingSupplyAt=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.block,a=t.strategy,r=this.config.provider,i=X.connect(a,r),e.next=5,i.getTotalVotingSupplyAt(n.toString());case 5:return s=e.sent,e.abrupt("return",Object(u["formatEther"])(s));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getTokensPower=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.tokens,r=this.config.provider,i=te.connect(this.aaveGovernanceV2HelperAddress,r),s=i.getTokensPower(n,a),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getVoteOnProposal=function(){var e=f(M.mark((function e(t){var n,a,r;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.proposalId,a=t.user,r=this.getContractInstance(this.aaveGovernanceV2Address),e.abrupt("return",r.getVoteOnProposal(n,a));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"create",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Pe("proposalId")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"cancel",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Pe("proposalId")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"queue",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Pe("proposalId")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"execute",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Pe("proposalId")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"submitVote",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,Pe("proposalId")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"signVoting",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Pe("proposalId")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"submitVoteBySignature",null),Object(i["__decorate"])([Ze,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"getProposals",null),Object(i["__decorate"])([Ze,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"getProposal",null),Object(i["__decorate"])([Ze,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"getPropositionPowerAt",null),Object(i["__decorate"])([Ze,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"getVotingPowerAt",null),Object(i["__decorate"])([Ze,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"getTotalPropositionSupplyAt",null),Object(i["__decorate"])([Ze,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"getTotalVotingSupplyAt",null),Object(i["__decorate"])([Ze,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"getTokensPower",null),Object(i["__decorate"])([Ze,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"getVoteOnProposal",null);var _t=function(e){function t(t){return e.call(this,t,Z)||this}m(t,e);var n=t.prototype;return n.delegate=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.delegatee,r=t.governanceToken,i=[],s=this.getContractInstance(r),e.next=5,this.getDelegateeAddress(a);case 5:return o=e.sent,d=this.generateTxCallback({rawTxMethod:function(){return s.populateTransaction.delegate(o)},from:n}),i.push({tx:d,txType:C.GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(i,d)}),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.delegateByType=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.delegatee,r=t.delegationType,i=t.governanceToken,s=[],o=this.getContractInstance(i),e.next=5,this.getDelegateeAddress(a);case 5:return d=e.sent,u=this.generateTxCallback({rawTxMethod:function(){return o.populateTransaction.delegateByType(d,r)},from:n}),s.push({tx:u,txType:C.GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(s,u)}),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.delegateBySig=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,c,l,p,f,y,m,b;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.delegatee,r=t.expiry,i=t.signature,s=t.governanceToken,o=[],d=this.getContractInstance(s),e.next=5,this.getNonce({user:n,governanceToken:s});case 5:return c=e.sent,l=Object(u["splitSignature"])(i),p=l.v,f=l.r,y=l.s,e.next=9,this.getDelegateeAddress(a);case 9:return m=e.sent,b=this.generateTxCallback({rawTxMethod:function(){return d.populateTransaction.delegateBySig(m,c,r,p,f,y)},from:n}),o.push({tx:b,txType:C.GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(o,b)}),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.delegateByTypeBySig=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,c,l,p,f,y,m,b,h;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.delegatee,r=t.delegationType,i=t.expiry,s=t.signature,o=t.governanceToken,d=[],c=this.getContractInstance(o),e.next=5,this.getNonce({user:n,governanceToken:o});case 5:return l=e.sent,p=Object(u["splitSignature"])(s),f=p.v,y=p.r,m=p.s,e.next=9,this.getDelegateeAddress(a);case 9:return b=e.sent,h=this.generateTxCallback({rawTxMethod:function(){return c.populateTransaction.delegateByTypeBySig(b,r,l,i,f,y,m)},from:n}),d.push({tx:h,txType:C.GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(d,h)}),e.abrupt("return",d);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.prepareDelegateSignature=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.delegatee,a=t.nonce,r=t.expiry,i=t.governanceTokenName,s=t.governanceToken,e.next=3,this.getDelegateeAddress(n);case 3:return o=e.sent,d={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Delegate:[{name:"delegatee",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"}]},primaryType:"Delegate",domain:{name:i,chainId:x[this.config.network],verifyingContract:s},message:{delegatee:o,nonce:a,expiry:r}},e.abrupt("return",JSON.stringify(d));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.prepareDelegateByTypeSignature=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.delegatee,a=t.type,r=t.nonce,i=t.expiry,s=t.governanceTokenName,o=t.governanceToken,e.next=3,this.getDelegateeAddress(n);case 3:return d=e.sent,u={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],DelegateByType:[{name:"delegatee",type:"address"},{name:"type",type:"uint256"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"}]},primaryType:"DelegateByType",domain:{name:s,chainId:x[this.config.network],verifyingContract:o},message:{delegatee:d,type:a,nonce:r,expiry:i}},e.abrupt("return",JSON.stringify(u));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getDelegateeByType=function(){var e=f(M.mark((function e(t){var n,a,r,i;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.delegator,a=t.delegationType,r=t.governanceToken,i=this.getContractInstance(r),e.abrupt("return",i.getDelegateeByType(n,a));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getPowerCurrent=function(){var e=f(M.mark((function e(t){var n,a,r,i;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.delegationType,r=t.governanceToken,i=this.getContractInstance(r),e.next=4,i.getPowerCurrent(n,a);case 4:return e.abrupt("return",e.sent.toString());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getPowerAtBlock=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.blockNumber,r=t.delegationType,i=t.governanceToken,s=this.getContractInstance(i),e.next=4,s.getPowerAtBlock(n,a,r);case 4:return e.abrupt("return",e.sent.toString());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getNonce=function(){var e=f(M.mark((function e(t){var n,a,r;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.governanceToken,r=this.getContractInstance(a),e.next=4,r._nonces(n);case 4:return e.abrupt("return",e.sent.toString());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getDelegateeAddress=function(){var e=f(M.mark((function e(t){var n;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!ve(t)){e.next=7;break}return e.next=3,this.config.provider.resolveName(t);case 3:if(n=e.sent,n){e.next=6;break}throw new Error("Address "+t+" is not a valid ENS address");case 6:return e.abrupt("return",n);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([$e,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Ce("delegatee")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"delegate",null),Object(i["__decorate"])([$e,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Ce("delegatee")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"delegateByType",null),Object(i["__decorate"])([$e,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Ce("delegatee")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"delegateBySig",null),Object(i["__decorate"])([$e,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Ce("delegatee")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"delegateByTypeBySig",null),Object(i["__decorate"])([$e,Object(i["__param"])(0,Ce("delegatee")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__param"])(0,Pe("nonce")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"prepareDelegateSignature",null),Object(i["__decorate"])([$e,Object(i["__param"])(0,Ce("delegatee")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__param"])(0,Pe("nonce")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"prepareDelegateByTypeSignature",null),Object(i["__decorate"])([$e,Object(i["__param"])(0,xe("delegator")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"getDelegateeByType",null),Object(i["__decorate"])([$e,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"getPowerCurrent",null),Object(i["__decorate"])([$e,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__param"])(0,Se("blockNumber")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"getPowerAtBlock",null),Object(i["__decorate"])([$e,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"getNonce",null)}).call(this,n("1c35").Buffer)},"5e58":function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"6a06":function(e,t,n){"use strict";var a=n("779d");e.exports=a.isStandardBrowserEnv()?function(){return{write:function(e,t,n,r,i,s){var o=[];o.push(e+"="+encodeURIComponent(t)),a.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),a.isString(r)&&o.push("path="+r),a.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"6f6c":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"779d":function(e,t,n){"use strict";var a=n("0c99"),r=Object.prototype.toString,i=function(e){return function(t){var n=r.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function s(e){return e=e.toLowerCase(),function(t){return i(t)===e}}function o(e){return Array.isArray(e)}function d(e){return"undefined"===typeof e}function u(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var c=s("ArrayBuffer");function l(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&c(e.buffer),t}function p(e){return"string"===typeof e}function f(e){return"number"===typeof e}function y(e){return null!==e&&"object"===typeof e}function m(e){if("object"!==i(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var b=s("Date"),h=s("File"),T=s("Blob"),g=s("FileList");function v(e){return"[object Function]"===r.call(e)}function w(e){return y(e)&&v(e.pipe)}function O(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||r.call(e)===t||v(e.toString)&&e.toString()===t)}var _=s("URLSearchParams");function j(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function A(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function x(){var e={};function t(t,n){m(e[n])&&m(t)?e[n]=x(e[n],t):m(t)?e[n]=x({},t):o(t)?e[n]=t.slice():e[n]=t}for(var n=0,a=arguments.length;n<a;n++)k(arguments[n],t);return e}function C(e,t,n){return k(t,(function(t,r){e[r]=n&&"function"===typeof t?a(t,n):t})),e}function S(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}function P(e,t,n,a){e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function E(e,t,n){var a,r,i,s={};t=t||{};do{a=Object.getOwnPropertyNames(e),r=a.length;while(r-- >0)i=a[r],s[i]||(t[i]=e[i],s[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function D(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var a=e.indexOf(t,n);return-1!==a&&a===n}function I(e){if(!e)return null;var t=e.length;if(d(t))return null;var n=new Array(t);while(t-- >0)n[t]=e[t];return n}var R=function(e){return function(t){return e&&t instanceof e}}("undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array));e.exports={isArray:o,isArrayBuffer:c,isBuffer:u,isFormData:O,isArrayBufferView:l,isString:p,isNumber:f,isObject:y,isPlainObject:m,isUndefined:d,isDate:b,isFile:h,isBlob:T,isFunction:v,isStream:w,isURLSearchParams:_,isStandardBrowserEnv:A,forEach:k,merge:x,extend:C,trim:j,stripBOM:S,inherits:P,toFlatObject:E,kindOf:i,kindOfTest:s,endsWith:D,toArray:I,isTypedArray:R,isFileList:g}},"790b":function(e,t,n){"use strict";(function(t){var a=n("779d"),r=n("8faf"),i=n("dfab"),s=n("56d3"),o=n("e3f1"),d={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function c(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n("8ad3")),e}function l(e,t,n){if(a.isString(e))try{return(t||JSON.parse)(e),a.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}var p={transitional:s,adapter:c(),transformRequest:[function(e,t){if(r(t,"Accept"),r(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e))return e;if(a.isArrayBufferView(e))return e.buffer;if(a.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=a.isObject(e),s=t&&t["Content-Type"];if((n=a.isFileList(e))||i&&"multipart/form-data"===s){var d=this.env&&this.env.FormData;return o(n?{"files[]":e}:e,d&&new d)}return i||"application/json"===s?(u(t,"application/json"),l(e)):e}],transformResponse:[function(e){var t=this.transitional||p.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&a.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s){if("SyntaxError"===o.name)throw i.from(o,i.ERR_BAD_RESPONSE,this,null,this.response);throw o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n("a222")},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};a.forEach(["delete","get","head"],(function(e){p.headers[e]={}})),a.forEach(["post","put","patch"],(function(e){p.headers[e]=a.merge(d)})),e.exports=p}).call(this,n("f28c"))},"7a34":function(e,t,n){"use strict";var a=n("779d");e.exports=a.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var a=e;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=a.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},"7d0b":function(e,t,n){"use strict";n.r(t);var a=n("35a8");n.d(t,"id",(function(){return a["a"]}));var r=n("0a7f");n.d(t,"dnsEncode",(function(){return r["a"]})),n.d(t,"namehash",(function(){return r["d"]})),n.d(t,"isValidName",(function(){return r["c"]}));var i=n("714b");n.d(t,"messagePrefix",(function(){return i["b"]})),n.d(t,"hashMessage",(function(){return i["a"]})),n.d(t,"ensNormalize",(function(){return r["b"]}));var s=n("e108");n.d(t,"_TypedDataEncoder",(function(){return s["a"]}))},"7fd5":function(e,t,n){},"820a":function(e,t,n){"use strict";n.r(t);var a=n("3796");n.d(t,"computeHmac",(function(){return a["a"]})),n.d(t,"ripemd160",(function(){return a["b"]})),n.d(t,"sha256",(function(){return a["c"]})),n.d(t,"sha512",(function(){return a["d"]}));var r=n("d457");n.d(t,"SupportedAlgorithm",(function(){return r["a"]}))},8638:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"ReserveUpdateSubscription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pool"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reserves"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"pool"},value:{kind:"Variable",name:{kind:"Name",value:"pool"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReserveData"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReserveData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reserve"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"underlyingAsset"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"symbol"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"decimals"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isActive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFrozen"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"usageAsCollateralEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"borrowingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableBorrowRateEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseLTVasCollateral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"optimalUtilisationRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"averageStableRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableRateSlope1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableRateSlope2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseVariableBorrowRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variableRateSlope1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variableRateSlope2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variableBorrowIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variableBorrowRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalScaledVariableDebt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"liquidityIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reserveLiquidationThreshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aToken"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"vToken"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sToken"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableLiquidity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableBorrowRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"liquidityRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalPrincipalStableDebt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalLiquidity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"utilizationRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reserveLiquidationBonus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"priceInEth"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lastUpdateTimestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableDebtLastUpdateTimestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reserveFactor"},arguments:[],directives:[]}]}}],loc:{start:0,end:947}};n.loc.source={body:"subscription ReserveUpdateSubscription($pool: String) {\r\n  reserves(where: {pool: $pool}) {\r\n    ...ReserveData\r\n  }\r\n}\r\n\r\nfragment ReserveData on Reserve {\r\n  id\r\n  underlyingAsset\r\n  name\r\n  symbol\r\n  decimals\r\n  isActive\r\n  isFrozen\r\n  usageAsCollateralEnabled\r\n  borrowingEnabled\r\n  stableBorrowRateEnabled\r\n  baseLTVasCollateral\r\n  optimalUtilisationRate\r\n  averageStableRate\r\n  stableRateSlope1\r\n  stableRateSlope2\r\n  baseVariableBorrowRate\r\n  variableRateSlope1\r\n  variableRateSlope2\r\n  variableBorrowIndex\r\n  variableBorrowRate\r\n  totalScaledVariableDebt\r\n  liquidityIndex\r\n  reserveLiquidationThreshold\r\n  aToken {\r\n    id\r\n  }\r\n  vToken {\r\n    id\r\n  }\r\n  sToken {\r\n    id\r\n  }\r\n  availableLiquidity\r\n  stableBorrowRate\r\n  liquidityRate\r\n  totalPrincipalStableDebt\r\n  totalLiquidity\r\n  utilizationRate\r\n  reserveLiquidationBonus\r\n  price {\r\n    priceInEth\r\n  }\r\n  lastUpdateTimestamp\r\n  stableDebtLastUpdateTimestamp\r\n  reserveFactor\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function s(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,s=new Set,o=new Set;a.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var t=r[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(t){var a=i(e,t);a&&n.definitions.push(a)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),r[e.name.value]=t}}))})(),e.exports=n,e.exports["ReserveUpdateSubscription"]=s(n,"ReserveUpdateSubscription"),e.exports["ReserveData"]=s(n,"ReserveData")},8852:function(e,t,n){e.exports=n.p+"img/icon-dapp-aave.b2663553.svg"},"8ad3":function(e,t,n){"use strict";var a=n("779d"),r=n("a5a3"),i=n("6a06"),s=n("58a7"),o=n("93a9"),d=n("2db0"),u=n("7a34"),c=n("56d3"),l=n("dfab"),p=n("0aa9"),f=n("e1be");e.exports=function(e){return new Promise((function(t,n){var y,m=e.data,b=e.headers,h=e.responseType;function T(){e.cancelToken&&e.cancelToken.unsubscribe(y),e.signal&&e.signal.removeEventListener("abort",y)}a.isFormData(m)&&a.isStandardBrowserEnv()&&delete b["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";b.Authorization="Basic "+btoa(v+":"+w)}var O=o(e.baseURL,e.url);function _(){if(g){var a="getAllResponseHeaders"in g?d(g.getAllResponseHeaders()):null,i=h&&"text"!==h&&"json"!==h?g.response:g.responseText,s={data:i,status:g.status,statusText:g.statusText,headers:a,config:e,request:g};r((function(e){t(e),T()}),(function(e){n(e),T()}),s),g=null}}if(g.open(e.method.toUpperCase(),s(O,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=_:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(_)},g.onabort=function(){g&&(n(new l("Request aborted",l.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new l("Network Error",l.ERR_NETWORK,e,g,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",a=e.transitional||c;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new l(t,a.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,e,g)),g=null},a.isStandardBrowserEnv()){var j=(e.withCredentials||u(O))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;j&&(b[e.xsrfHeaderName]=j)}"setRequestHeader"in g&&a.forEach(b,(function(e,t){"undefined"===typeof m&&"content-type"===t.toLowerCase()?delete b[t]:g.setRequestHeader(t,e)})),a.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),h&&"json"!==h&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(y=function(e){g&&(n(!e||e&&e.type?new p:e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(y),e.signal&&(e.signal.aborted?y():e.signal.addEventListener("abort",y))),m||(m=null);var A=f(O);A&&-1===["http","https","file"].indexOf(A)?n(new l("Unsupported protocol "+A+":",l.ERR_BAD_REQUEST,e)):g.send(m)}))}},"8c6a":function(e,t,n){"use strict";var a=n("779d"),r=n("58a7"),i=n("c247"),s=n("5e35"),o=n("dabf"),d=n("93a9"),u=n("49fe"),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=o(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var a=[],r=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));var i,d=[];if(this.interceptors.response.forEach((function(e){d.push(e.fulfilled,e.rejected)})),!r){var l=[s,void 0];Array.prototype.unshift.apply(l,a),l=l.concat(d),i=Promise.resolve(t);while(l.length)i=i.then(l.shift(),l.shift());return i}var p=t;while(a.length){var f=a.shift(),y=a.shift();try{p=f(p)}catch(m){y(m);break}}try{i=s(p)}catch(m){return Promise.reject(m)}while(d.length)i=i.then(d.shift(),d.shift());return i},l.prototype.getUri=function(e){e=o(this.defaults,e);var t=d(e.baseURL,e.url);return r(t,e.params,e.paramsSerializer)},a.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}})),a.forEach(["post","put","patch"],(function(e){function t(t){return function(n,a,r){return this.request(o(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}l.prototype[e]=t(),l.prototype[e+"Form"]=t(!0)})),e.exports=l},"8e19":function(e,t,n){"use strict";n.r(t);var a=n("70be");n.d(t,"formatBytes32String",(function(){return a["a"]})),n.d(t,"parseBytes32String",(function(){return a["b"]}));var r=n("8424");n.d(t,"nameprep",(function(){return r["a"]}));var i=n("5273");n.d(t,"_toEscapedUtf8String",(function(){return i["d"]})),n.d(t,"toUtf8Bytes",(function(){return i["f"]})),n.d(t,"toUtf8CodePoints",(function(){return i["g"]})),n.d(t,"toUtf8String",(function(){return i["h"]})),n.d(t,"Utf8ErrorFuncs",(function(){return i["b"]})),n.d(t,"Utf8ErrorReason",(function(){return i["c"]})),n.d(t,"UnicodeNormalizationForm",(function(){return i["a"]}))},"8faf":function(e,t,n){"use strict";var a=n("779d");e.exports=function(e,t){a.forEach(e,(function(n,a){a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[a])}))}},"908b":function(e,t,n){e.exports=n("abaa")},"93a9":function(e,t,n){"use strict";var a=n("93dc"),r=n("5e58");e.exports=function(e,t){return e&&!a(t)?r(e,t):t}},"93dc":function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},"98db":function(e,t,n){(function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;(function(n){(function(e){var a="object"===typeof t?t:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),r=i(n);function i(e,t){return function(n,a){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:a}),t&&t(n,a)}}"undefined"===typeof a.Reflect?a.Reflect=n:r=i(a.Reflect,r),e(r)})((function(t){var n=Object.prototype.hasOwnProperty,a="function"===typeof Symbol,r=a&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=a&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",s="function"===typeof Object.create,o={__proto__:[]}instanceof Array,d=!s&&!o,u={create:s?function(){return ie(Object.create(null))}:o?function(){return ie({__proto__:null})}:function(){return ie({})},has:d?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:d?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),l="object"===typeof e&&Object({NODE_ENV:"production",BASE_URL:""})&&"true"===Object({NODE_ENV:"production",BASE_URL:""})["REFLECT_METADATA_USE_MAP_POLYFILL"],p=l||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ne():Map,f=l||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?ae():Set,y=l||"function"!==typeof WeakMap?re():WeakMap,m=new y;function b(e,t,n,a){if(U(n)){if(!z(e))throw new TypeError;if(!K(t))throw new TypeError;return k(e,t)}if(!z(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(a)&&!U(a)&&!N(a))throw new TypeError;return N(a)&&(a=void 0),n=G(n),x(e,t,n,a)}function h(e,t){function n(n,a){if(!F(n))throw new TypeError;if(!U(a)&&!J(a))throw new TypeError;I(e,t,n,a)}return n}function T(e,t,n,a){if(!F(n))throw new TypeError;return U(a)||(a=G(a)),I(e,t,n,a)}function g(e,t,n){if(!F(t))throw new TypeError;return U(n)||(n=G(n)),S(e,t,n)}function v(e,t,n){if(!F(t))throw new TypeError;return U(n)||(n=G(n)),P(e,t,n)}function w(e,t,n){if(!F(t))throw new TypeError;return U(n)||(n=G(n)),E(e,t,n)}function O(e,t,n){if(!F(t))throw new TypeError;return U(n)||(n=G(n)),D(e,t,n)}function _(e,t){if(!F(e))throw new TypeError;return U(t)||(t=G(t)),R(e,t)}function j(e,t){if(!F(e))throw new TypeError;return U(t)||(t=G(t)),M(e,t)}function A(e,t,n){if(!F(t))throw new TypeError;U(n)||(n=G(n));var a=C(t,n,!1);if(U(a))return!1;if(!a.delete(e))return!1;if(a.size>0)return!0;var r=m.get(t);return r.delete(n),r.size>0||m.delete(t),!0}function k(e,t){for(var n=e.length-1;n>=0;--n){var a=e[n],r=a(t);if(!U(r)&&!N(r)){if(!K(r))throw new TypeError;t=r}}return t}function x(e,t,n,a){for(var r=e.length-1;r>=0;--r){var i=e[r],s=i(t,n,a);if(!U(s)&&!N(s)){if(!F(s))throw new TypeError;a=s}}return a}function C(e,t,n){var a=m.get(e);if(U(a)){if(!n)return;a=new p,m.set(e,a)}var r=a.get(t);if(U(r)){if(!n)return;r=new p,a.set(t,r)}return r}function S(e,t,n){var a=P(e,t,n);if(a)return!0;var r=te(t);return!N(r)&&S(e,r,n)}function P(e,t,n){var a=C(t,n,!1);return!U(a)&&W(a.has(e))}function E(e,t,n){var a=P(e,t,n);if(a)return D(e,t,n);var r=te(t);return N(r)?void 0:E(e,r,n)}function D(e,t,n){var a=C(t,n,!1);if(!U(a))return a.get(e)}function I(e,t,n,a){var r=C(n,a,!0);r.set(e,t)}function R(e,t){var n=M(e,t),a=te(e);if(null===a)return n;var r=R(a,t);if(r.length<=0)return n;if(n.length<=0)return r;for(var i=new f,s=[],o=0,d=n;o<d.length;o++){var u=d[o],c=i.has(u);c||(i.add(u),s.push(u))}for(var l=0,p=r;l<p.length;l++){u=p[l],c=i.has(u);c||(i.add(u),s.push(u))}return s}function M(e,t){var n=[],a=C(e,t,!1);if(U(a))return n;var r=a.keys(),i=Z(r),s=0;while(1){var o=X(i);if(!o)return n.length=s,n;var d=$(o);try{n[s]=d}catch(u){try{ee(i)}finally{throw u}}s++}}function B(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function U(e){return void 0===e}function N(e){return null===e}function L(e){return"symbol"===typeof e}function F(e){return"object"===typeof e?null!==e:"function"===typeof e}function V(e,t){switch(B(e)){case 0:return e;case 1:return e;case 2:return e;case 3:return e;case 4:return e;case 5:return e}var n=3===t?"string":5===t?"number":"default",a=Q(e,r);if(void 0!==a){var i=a.call(e,n);if(F(i))throw new TypeError;return i}return H(e,"default"===n?"number":n)}function H(e,t){if("string"===t){var n=e.toString;if(Y(n)){var a=n.call(e);if(!F(a))return a}var r=e.valueOf;if(Y(r)){a=r.call(e);if(!F(a))return a}}else{r=e.valueOf;if(Y(r)){a=r.call(e);if(!F(a))return a}var i=e.toString;if(Y(i)){a=i.call(e);if(!F(a))return a}}throw new TypeError}function W(e){return!!e}function q(e){return""+e}function G(e){var t=V(e,3);return L(t)?t:q(t)}function z(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Y(e){return"function"===typeof e}function K(e){return"function"===typeof e}function J(e){switch(B(e)){case 3:return!0;case 4:return!0;default:return!1}}function Q(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!Y(n))throw new TypeError;return n}}function Z(e){var t=Q(e,i);if(!Y(t))throw new TypeError;var n=t.call(e);if(!F(n))throw new TypeError;return n}function $(e){return e.value}function X(e){var t=e.next();return!t.done&&t}function ee(e){var t=e["return"];t&&t.call(e)}function te(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,a=n&&Object.getPrototypeOf(n);if(null==a||a===Object.prototype)return t;var r=a.constructor;return"function"!==typeof r||r===e?t:r}function ne(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var a=this._keys.length,r=n+1;r<a;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,a)},t.prototype.values=function(){return new n(this._keys,this._values,r)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function a(e,t){return e}function r(e,t){return t}function s(e,t){return[e,t]}}function ae(){return function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function re(){var e=16,t=u.create(),a=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){var n=i(e,!0);return n[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var e;do{e="@@WeakMap@@"+d()}while(u.has(t,e));return t[e]=!0,e}function i(e,t){if(!n.call(e,a)){if(!t)return;Object.defineProperty(e,a,{value:u.create()})}return e[a]}function s(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function o(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):s(new Uint8Array(e),e):s(new Array(e),e)}function d(){var t=o(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",a=0;a<e;++a){var r=t[a];4!==a&&6!==a&&8!==a||(n+="-"),r<16&&(n+="0"),n+=r.toString(16).toLowerCase()}return n}}function ie(e){return e.__=void 0,delete e.__,e}t("decorate",b),t("metadata",h),t("defineMetadata",T),t("hasMetadata",g),t("hasOwnMetadata",v),t("getMetadata",w),t("getOwnMetadata",O),t("getMetadataKeys",_),t("getOwnMetadataKeys",j),t("deleteMetadata",A)}))})(n||(n={}))}).call(this,n("f28c"),n("c8ba"))},a222:function(e,t){e.exports=null},a5a3:function(e,t,n){"use strict";var a=n("dfab");e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new a("Request failed with status code "+n.status,[a.ERR_BAD_REQUEST,a.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},a7ba:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},abaa:function(e,t,n){"use strict";var a=n("779d"),r=n("0c99"),i=n("8c6a"),s=n("dabf"),o=n("790b");function d(e){var t=new i(e),n=r(i.prototype.request,t);return a.extend(n,i.prototype,t),a.extend(n,t),n.create=function(t){return d(s(e,t))},n}var u=d(o);u.Axios=i,u.CanceledError=n("0aa9"),u.CancelToken=n("e20e"),u.isCancel=n("a7ba"),u.VERSION=n("5383").version,u.toFormData=n("e3f1"),u.AxiosError=n("dfab"),u.Cancel=u.CanceledError,u.all=function(e){return Promise.all(e)},u.spread=n("6f6c"),u.isAxiosError=n("be48"),e.exports=u,e.exports.default=u},ac0c:function(e,t,n){"use strict";n("5792")},b048:function(e,t,n){"use strict";n.r(t),t["default"]=function(e,t){return t=t||{},new Promise((function(n,a){var r=new XMLHttpRequest,i=[],s=[],o={},d=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(r.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:d,headers:{keys:function(){return i},entries:function(){return s},get:function(e){return o[e.toLowerCase()]},has:function(e){return e.toLowerCase()in o}}}};for(var u in r.open(t.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),s.push([t,n]),o[t]=o[t]?o[t]+","+n:n})),n(d())},r.onerror=a,r.withCredentials="include"==t.credentials,t.headers)r.setRequestHeader(u,t.headers[u]);r.send(t.body||null)}))}},bc86:function(e,t,n){"use strict";n.d(t,"l",(function(){return o})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return b})),n.d(t,"i",(function(){return h})),n.d(t,"k",(function(){return T})),n.d(t,"g",(function(){return g}));var a=n("901e"),r=n("e36d"),i=n("6779"),s=n("0356");const o=(e,t)=>new a["BigNumber"](e).shiftedBy(t).toFixed(0),d=e=>e.toLowerCase().endsWith(".eth"),u=(e,t)=>e.toLowerCase()===y.toLowerCase()?t:c,c=r["a"].from(0).toHexString(),l=i["constants"].MaxUint256.toString(),p="115792089237316195423570985008687907853269984665640564039457584007913129639935",f="11579208923731619542357098500868790785326998466564056403945758400791",y="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",m="0.1",b="0.05",h={[s["c"].default]:{limit:"210000",recommended:"210000"},[s["c"].supply]:{limit:"300000",recommended:"300000"},[s["c"].deposit]:{limit:"300000",recommended:"300000"},[s["c"].withdraw]:{limit:"230000",recommended:"300000"},[s["c"].liquidationCall]:{limit:"700000",recommended:"700000"},[s["c"].liquidationFlash]:{limit:"995000",recommended:"995000"},[s["c"].repay]:{limit:"300000",recommended:"300000"},[s["c"].borrowETH]:{limit:"450000",recommended:"450000"},[s["c"].withdrawETH]:{limit:"640000",recommended:"640000"},[s["c"].swapCollateral]:{limit:"1000000",recommended:"1000000"},[s["c"].repayCollateral]:{limit:"700000",recommended:"700000"}},T={AAVE:o("100",18),BAT:o("100000",18),BUSD:o("10000",18),DAI:o("10000",18),ENJ:o("100000",18),KNC:o("10000",18),LEND:o("1000",18),LINK:o("1000",18),MANA:o("100000",18),MKR:o("10",18),WETH:o("10",18),REN:o("10000",18),REP:o("1000",18),SNX:o("100",18),SUSD:o("10000",18),TUSD:"0",UNI:o("1000",18),USDC:o("10000",6),USDT:o("10000",6),WBTC:o("1",8),YFI:o("1",18),ZRX:o("100000",18),UNIUSDC:o(m,6),UNIDAI:o(m,18),UNIUSDT:o(m,6),UNIDAIETH:o(m,18),UNIUSDCETH:o(m,18),UNISETHETH:o(m,18),UNILENDETH:o(m,18),UNILINKETH:o(m,18),UNIMKRETH:o(m,18),EURS:o("10000",2),AGEUR:o("10000",18),BAL:o("10000",18),CRV:o("10000",18),DPI:o("10000",18),GHST:o("10000",18),JEUR:o("10000",18),SUSHI:o("10000",18)},g=e=>{switch(e.slice(0,10)){case"0x935fb84b":return 36;case"0xc03786b0":return 100;case"0xb2f1e6db":return 68;case"0xb66bcbac":case"0x35326910":return 164;default:throw new Error("Unrecognized function selector for Augustus")}}},be48:function(e,t,n){"use strict";var a=n("779d");e.exports=function(e){return a.isObject(e)&&!0===e.isAxiosError}},c247:function(e,t,n){"use strict";var a=n("779d");function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){a.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},c607:function(e,t,n){var a=n("83ab"),r=n("fce3"),i=n("c6b6"),s=n("edd0"),o=n("69f3").get,d=RegExp.prototype,u=TypeError;a&&r&&s(d,"dotAll",{configurable:!0,get:function(){if(this!==d){if("RegExp"===i(this))return!!o(this).dotAll;throw u("Incompatible receiver, RegExp required")}}})},ce08:function(e,t,n){e.exports=self.fetch||(self.fetch=n("b048").default||n("b048"))},cf20:function(e,t,n){"use strict";var a=n("779d"),r=n("790b");e.exports=function(e,t,n){var i=this||r;return a.forEach(n,(function(n){e=n.call(i,e,t)})),e}},d73f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAMLUlEQVR42uVbfXBU1RX/nfeySSQwxBkVCZZ+MA3lYyj7NpsERRM1JGSzbZ12BvCb4kxrpS22Wgs60xg/KbGKMxVnqtRCEUP5B8ru5sPILDWFwL7NKqOxZMRxLCRY6ACTxCT78u7pH30Pr8tush8vHWd6Zpgh7+279/5+99xzzj33XGJmwv+x5E11B+FweObw8PBNzLwEQCmA+cx8DYAZ1j8AGAQwSET/AnACQB8RHS8qKvpbdXX1xakcH02FBrS3t88zDOMuAD5m1gCoWTZlElEPgJDL5dpVV1d38stMgBoIBFYDeICZr5+S2SI6DGCb3+/fA8D8shCghkKhtUKIjcw8L8XAR5n5mKIoHzBzH4BPiGjQUn0AmMHMMwDMJaJSIcQCIipn5sIU7Z1UFGWzz+f7U65E5ERAa2trxfj4+DYA7iSDPA1gNxG1FhUVHamurh7L0HYUDA8PL2PmegB3MPOcJD+L5eXlPVBfX3/0f02AGgwGtzDzg4nfE9EhVVWfqa+vfwuAcEj7ldbW1ltN03yUmasS+mMi2trQ0PBINtqQMQFdXV3F58+f3wNgRcJA3lMUZZPP5wtOpdUOhUINQohnmXlxwqs3r7zyytXLly+/MGUEdHR0zI/H4/uZuVQCfoqIGhsaGnY4OOOTakQwGLyXmZuY+TppLH35+fnfq62tPeE4AaFQqE4I0cLMM6UOO4qLi9dkyrpT0tXVVXzhwoUWZq6VxnRRUZQ1Pp+v3TECQqFQnWmaAdmfE9GLfr//YafcUS5e6MCBA80AHpTjB1VV/emQMCkBltp3SzMfV1V1vc/n2+7Ael6cl5c3VFtb+7EDbd1nmuZLAPJtTcjPz6+cbDkok6mYteYvgXe5XD4nwAOAEKJ5bGzsaSfa8vl8210ulw9AHACYeWY8Ht/f1dVVnC0B6vnz5/fIBk9V1fUrV6486MSAW1tbVzBzHRGtCQQCXifaXLly5UFVVdfbfzNzqeWx1IwJCAaDWxJc3VanZh6AMj4+3mwNkgA855RBsMa4VXq0wsKSvg1obW2tME3zsP2OiDr8fn+DUwYvGAyuE0K8mhBHfN/v9+9zcF8StL0DEbGqqtcnixiTaYA6Pj6+TQJ/qri4eI1T4Ds6OqYJIZ5I8mpzNBp1antuFhcXryGiU7aWWSG7OikBoVBorRzbE1Gjk34+Ho8/DKAk8Tkzl545c+Z+p/pZvnz5BSJqlB65LWwTEqAKITbK4a0V4TmVJ7iWmR9O9Z6ZfxMOh2c61V9DQ8MOInpP8jobE7XgCwQEAoHV8pZWUZRNToa3hmE0AZg+AQFXDQ4ObnQwSBIWBrv9eVbOIqUGPCDv6pzc2HR0dCxi5nVpJD02hEKhuQ56hSARHUqG8QsEtLe3z5MzOaqqPuNkvBqPx7ekkxpj5kIhxNNO9i1jYebr29vb511GgJXDu5TMsPbzTm1ha6zERrpyR1tbW5lT/dfX179lJWguwyovAZ/0/9edTGYIIbZk8oHltpqdtAUWpsuwKlb6aaaVvbU1oM3B2b+HmZdm+h0zV4VCoe86NQ4ZEzNrtrdRAGB4ePgme30S0WhRUdERJzqNRqNXCCGezDqaMc3fOhUcFRUVHSGiUdssWJgvLYFvS+wcyzSBmUrOnDnzUIpkZroyf2Bg4EdOjKW6unqMmY9JOJdcIkAIUSr5/g9y7aypqYna29uvFUL8yoGxN+7bt29mU1NTzucXMjZmng9YR2NEVMrM9ou+XIBLbu9xfH70lbUw89Wqqv4awGN2+42NjZxlW32STSi9pAHWWZ0tn2QDXAavadoCAPc5aMAe9Hq9X0lGdIbyiUTGNbINmCF1NpjtrEuSVtCTwcwVmqb51ESkp0mkjG1GUgLw+XFVVuArKipuTogpnNKCO91ut5bmBKSSywjIy3Wty7Jw4UIyDKMZUyDMTETUDODWVOPJxjYoqZjJFDwAFBYWLgewBFMkRHSD1+tdks3YUmn6ZQRYp7RZddDT0/M2M3+LiF4GMOIg9iEAWxVF+WYkEjme7QQlYPucAKsyw5a5WbILAIjFYh9Fo9GfMvPXiehJAP/OYcbPKIryWH5+/ld7enoeikQi/8xlicrYbMxKKv+YDXi32311eXl5iUXE2Wg0+vjo6OjXVFXdAODjDID3KYry45GRkW/our65u7v7AgAsXbrUW1lZWZwtCQnYTsgacEJKGy3IdsZisdhZwzCe1jRtq8fjmQ0Avb29n0Uikd+XlJSUqqp6J4DYBE10K4ryg+nTpy/Sdf3V3t7eMSuuKNc0LaiqaoNNRpaGdKH0Z59MwHGJpfJwOFyQbdDhcrl+BqAWwIeapr3gdruvtdJtZiQSaenp6SlTVbWWmTut/hhAAEB1T0/PDbqu7zt06JCwZ1zTtACAIwBc06dPfyJbb2Vh8ko4jwPWuUA4HJ45ODh4zg5eFEW5paGhIZxtxOV2uxcrinKEmacBGGHmPwDYEovFzsi/83g8S4korut6b8LzMmZutOMJIjothPDEYrGzWW0mGhs5GAxWCyHsUy1zxowZV1VXV19UrJ3SRasay1aV+lxMdiwWe4+I7NzbFUS0gYg+1DTtucrKylnSdvkdGbymaR632/1XZj4qgR8notuzBZ8MExH12OV3ckYoJKekwuFwTqGsrut/BiCf/lwB4BeGYXzodrubvV7vNZLGaJqm7QdwjIgaEgzXJl3X/57LWCwsdyTDqkhrd5fE1pyRkZFbHAhcNhDROwkzMY2IfimEOKlp2u80TdtHRBEA/iRN7Nd1/flcxzEyMnKLnJeQsV4ioK6u7qRVh2dnYx51ICM0CmAVEV1MopLT8N+ihu+kIO8jRVF+6EQUJWMhosNywWXiucA2OSfn9Xp9DpBwkojWZag5Y0S0Stf1nMtkvV6vL6GybFuyvQAAwO/37yGik1JM8GxVVZWS6yB0Xd8H4IUMMjcbdF2P5dpvVVWVIoR4ViL2pFVlilQaYCqKslnSgsXDw8P3OKGGeXl5myx/Ppm1fj0SibziRJ/Dw8P3yOV0FjZzIgIwa9asHXK0xsxN6YafE8lrr702bhjG7UR0bgLwvefOnfvJ+++/n3P+r7KyspiZm2TvbGHDhAQEAgGTiNZbERqY+bp4PN7i9/uzdos2oJaWllNCiLuR/NBlyDCMVW1tbZ/J32Qjfr9fjcfjLXYNoVVNuj4QCJgTEmBHftFo9Cgzvyi9WtHf3/9cLuBt2bVr15sAnkpi+O7fs2fPPyb6Nl05ffp0M6TyHmZ+MRqNHp0oIXKZlJSUPGLH65b83Ov1rssFvC0DAwNPyW0T0cs7d+5syaSNCaz+OiLaIIHvLCkpeSTV3iYlAYFAwCwoKFhNRH2SP33JyvnlJJ2dnWJsbOxu68AyOjIy8pATRq+iouJmq1bw0ra6oKBgdTLVn5QAAOju7r5ARLdJgUy+YRihdDRhspnbu3fvWQBrTNNcvXfv3ngubdkzbxhGCFKhJBHdNtn2eVIfr+v6CUVR5CKpfNM0X3G73c/nYhgBYOfOnUd27979cS5t+P1+1e12P2+a5is2eMudr9F1fdKi6bSCnEgk0qGqql8OaYloQ39/f9AJF5mLq+vv7w/Ka56ILqqq6o9EIh2ZZIXTIoGIlsk2AcAKwzDeLSsrW+tExJhJhFdWVrbWMIx3ZWtPRH1EtCxd8BkRYC8Hl8u1TLbgzHydEGL70NBQzIm9Qzqx/dDQUEwIsV2+K8DMnS6Xa1k6ap81AbZhnDNnjg/AVjtYssNm0zQPeDyeg+Xl5TU1NTWOaURNTY1SXl5e4/F4DpqmeUAOb60xbJ0zZ44vm3zhF0plM02BeTyeCmZ+CSkuTQkhdhNR28DAQHdnZ+dYhqALZs+eXcnMKxVFSXlpiojWpwpyJkqROUKAbYU//fTTeye7NieEiBDRpWtzsG6LWj+xb5HOtY7qFyiK4p3s2tysWbN2TOTj0yEg5/ITawB/9Pv9OwYGBlYhycVJZi4kohsB3Eg0OcdEBLteIeH5YQDbZs+e/ZdsgCfdpTq1Tq0BvQHgDY/HM4+Z77ISm27kcHXW2pmGiGhXNBp1/OrslFyetgbaBKBp4cKFxYWFhTdaNTnzrdOZq5Hk8jSAs8zcZ7nad0dHR9/u7e2d0gtZl90XcKIWJ9cNjS2LFi1ip8eSeIT+H+5oKS95H3D1AAAAAElFTkSuQmCC"},dabf:function(e,t,n){"use strict";var a=n("779d");e.exports=function(e,t){t=t||{};var n={};function r(e,t){return a.isPlainObject(e)&&a.isPlainObject(t)?a.merge(e,t):a.isPlainObject(t)?a.merge({},t):a.isArray(t)?t.slice():t}function i(n){return a.isUndefined(t[n])?a.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function s(e){if(!a.isUndefined(t[e]))return r(void 0,t[e])}function o(n){return a.isUndefined(t[n])?a.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function d(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:d};return a.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,r=t(e);a.isUndefined(r)&&t!==d||(n[e]=r)})),n}},dfab:function(e,t,n){"use strict";var a=n("779d");function r(e,t,n,a,r){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r)}a.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=r.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(r,s),Object.defineProperty(i,"isAxiosError",{value:!0}),r.from=function(e,t,n,s,o,d){var u=Object.create(i);return a.toFlatObject(e,u,(function(e){return e!==Error.prototype})),r.call(u,e.message,t,n,s,o),u.name=e.name,d&&Object.assign(u,d),u},e.exports=r},e1be:function(e,t,n){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},e20e:function(e,t,n){"use strict";var a=n("0aa9");function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,a=n._listeners.length;for(t=0;t<a;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,a=new Promise((function(e){n.subscribe(e),t=e})).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e((function(e){n.reason||(n.reason=new a(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e,t=new r((function(t){e=t}));return{token:t,cancel:e}},e.exports=r},e3f1:function(e,t,n){"use strict";(function(t){var a=n("779d");function r(e,n){n=n||new FormData;var r=[];function i(e){return null===e?"":a.isDate(e)?e.toISOString():a.isArrayBuffer(e)||a.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):t.from(e):e}function s(e,t){if(a.isPlainObject(e)||a.isArray(e)){if(-1!==r.indexOf(e))throw Error("Circular reference detected in "+t);r.push(e),a.forEach(e,(function(e,r){if(!a.isUndefined(e)){var o,d=t?t+"."+r:r;if(e&&!t&&"object"===typeof e)if(a.endsWith(r,"{}"))e=JSON.stringify(e);else if(a.endsWith(r,"[]")&&(o=a.toArray(e)))return void o.forEach((function(e){!a.isUndefined(e)&&n.append(d,i(e))}));s(e,d)}})),r.pop()}else n.append(t,i(e))}return s(e),n}e.exports=r}).call(this,n("1c35").Buffer)},eed8:function(e,t,n){"use strict";(function(e){n("4d8a"),n("ce08")}).call(this,n("1c35").Buffer)},f01d:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var a=n("6779"),r=n("bc86"),i=n("fbe8");function s(t,n,a,r){const s=Reflect.getOwnMetadata(i["k"],t,n);s&&s.forEach(t=>{if(t.field){if(a[0][t.field]&&e.byteLength(a[0][t.field],"utf8")>32)throw new Error(`Deadline: ${a[0][t.field]} is bigger than 32 bytes`)}else{const n=null===r||void 0===r?void 0:r[t.index];if(a[t.index]&&!n&&e.byteLength(a[t.index],"utf8")>32)throw new Error(`Deadline: ${a[t.index]} is bigger than 32 bytes`)}})}function o(e,t,n,r){const s=Reflect.getOwnMetadata(i["h"],e,t);s&&s.forEach(e=>{if(e.field){if(n[0][e.field]&&!a["utils"].isAddress(n[0][e.field]))throw new Error(`Address: ${n[0][e.field]} is not a valid ethereum Address`)}else{const t=null===r||void 0===r?void 0:r[e.index];if(n[e.index]&&!t&&!a["utils"].isAddress(n[e.index]))throw new Error(`Address: ${n[e.index]} is not a valid ethereum Address`)}})}function d(e,t,n,r){const s=Reflect.getOwnMetadata(i["f"],e,t);s&&s.forEach(e=>{if(e.field){if(n[0][e.field]&&n[0][e.field].length>0){const t=n[0][e.field];t.forEach(e=>{if(!a["utils"].isAddress(e))throw new Error(`Address: ${e} is not a valid ethereum Address`)})}}else{const t=null===r||void 0===r?void 0:r[e.index];if(n[e.index]&&!t&&n[e.index].length>0){const t=n[e.index];t.forEach(e=>{if(!a["utils"].isAddress(e))throw new Error(`Address: ${e} is not a valid ethereum Address`)})}}})}function u(e,t,n,s){const o=Reflect.getOwnMetadata(i["j"],e,t);o&&o.forEach(e=>{if(e.field){if(n[0][e.field]&&!a["utils"].isAddress(n[0][e.field])&&!Object(r["h"])(n[0][e.field]))throw new Error(`Address ${n[0][e.field]} is not valid ENS format or a valid ethereum Address`)}else{const t=null===s||void 0===s?void 0:s[e.index];if(n[e.index]&&!t&&!a["utils"].isAddress(n[e.index])&&!Object(r["h"])(n[e.index]))throw new Error(`Address ${n[e.index]} is not valid ENS format or a valid ethereum Address`)}})}function c(e,t,n,a){const r=Reflect.getOwnMetadata(i["m"],e,t);r&&r.forEach(e=>{if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>0))throw new Error(`Amount: ${n[0][e.field]} needs to be greater than 0`)}else{const t=null===a||void 0===a?void 0:a[e.index];if(!t&&!(Number(n[e.index])>0))throw new Error(`Amount: ${n[e.index]} needs to be greater than 0`)}})}function l(e,t,n,a){const r=Reflect.getOwnMetadata(i["b"],e,t);r&&r.forEach(e=>{if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>=0))throw new Error(`Amount: ${n[0][e.field]} needs to be greater or equal than 0`)}else{const t=null===a||void 0===a?void 0:a[e.index];if(!t&&!(Number(n[e.index])>=0))throw new Error(`Amount: ${n[e.index]} needs to be greater or equal than 0`)}})}function p(e,t,n,a){const r=Reflect.getOwnMetadata(i["o"],e,t);r&&r.forEach(e=>{if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>0||"-1"===n[0][e.field]))throw new Error(`Amount: ${n[0][e.field]} needs to be greater than 0 or -1`)}else{const t=null===a||void 0===a?void 0:a[e.index];if(!t&&!(Number(n[e.index])>0||"-1"===n[e.index]))throw new Error(`Amount: ${n[e.index]} needs to be greater than 0 or -1`)}})}}).call(this,n("1c35").Buffer)},fbe8:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"k",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"m",(function(){return o})),n.d(t,"o",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return y})),n.d(t,"l",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"n",(function(){return h}));n("98db");const a=Symbol("ethAddress"),r=Symbol("deadline32Bytes"),i=Symbol("ethAddressArray"),s=Symbol("ethOrENSAddress"),o=Symbol("isPositive"),d=Symbol("isPositiveOrMinusOne"),u=Symbol("is0OrPositiveMetadataKey"),c=(Symbol("Optional"),Symbol("isEthAddressArrayMetadataKeyNotEmpty"));function l(e){return function(t,n,a){const i=Reflect.getOwnMetadata(r,t,n)||[];i.push({index:a,field:e}),Reflect.defineMetadata(r,i,t,n)}}function p(e){return function(t,n,r){const i=Reflect.getOwnMetadata(a,t,n)||[];i.push({index:r,field:e}),Reflect.defineMetadata(a,i,t,n)}}function f(e){return function(t,n,a){const r=Reflect.getOwnMetadata(i,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(i,r,t,n)}}function y(e){return function(t,n,a){const r=Reflect.getOwnMetadata(s,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(s,r,t,n)}}function m(e){return function(t,n,a){const r=Reflect.getOwnMetadata(o,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(o,r,t,n)}}function b(e){return function(t,n,a){const r=Reflect.getOwnMetadata(u,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(u,r,t,n)}}function h(e){return function(t,n,a){const r=Reflect.getOwnMetadata(d,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(d,r,t,n)}}}}]);
//# sourceMappingURL=../sourcemaps/js/dapp-aave~31ecd969.8685b05a.js.map