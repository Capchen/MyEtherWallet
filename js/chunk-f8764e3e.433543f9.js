(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8764e3e"],{"0dd3":function(e,t,r){},"889c":function(e,t,r){"use strict";r("8b9d")},"8b9d":function(e,t,r){},bd97:function(e,t,r){"use strict";r("0dd3")},cbc3:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-sheet",{staticClass:"addressBlock d-flex justify-space-between align-center mb-7",attrs:{color:"transparent"}},[r("mew-blockie",{attrs:{address:e.address}}),r("span",{staticClass:"font-weight-heavy pr-15"},[e._v(e._s(e.address))])],1),e.hasDomains?r("div",{staticClass:"d-flex flex-column justify-space-between"},[r("div",{staticClass:"mew-heading-2 mb-2"},[e._v("Your Domains:")]),r("div",{staticClass:"d-flex justify-space-between"},[r("mew-select",{staticClass:"domain-dropdown",attrs:{"normal-dropdown":"",value:e.selectedDomain,"filter-placeholder":"Search for Domain",items:e.domainListItems,"error-messages":e.selectedDomain.error},on:{input:e.setDomain}}),r("mew-button",{staticClass:"set-button",attrs:{title:"Register","btn-size":"xlarge",loading:e.selectedDomain.loading,disabled:e.disableRegister},nativeOn:{click:function(t){return e.setReverseRecord(e.selectedDomain)}}})],1)]):r("div",[r("mew-alert",{staticClass:"font-weight-light d-flex justify-space-between align-center mb-7 mt-7",attrs:{"hide-close-icon":""}},[e._v(" No ENS names have their ETH Address records set to this address. Only ENS names that point to your Ethereum account can be set as your Primary ENS Name. ")])],1),e.hasReverseRecordNames?r("div",[r("div",{staticClass:"mew-heading-2 mb-2"},[e._v("Reverse Names:")]),r("div",{staticClass:"d-flex justify-space-between"},[e._v(" "+e._s(e.reverseRecordNames)+" ")])]):e._e()],1)},a=[],s=r("c7eb"),c=r("1da1"),i=r("5530"),o=(r("d3b7"),r("159b"),r("b0c0"),r("14d9"),r("7db0"),r("d81d"),r("2ef0")),u=r("5dc6"),d=r.n(u),l=r("2f62"),m=r("9b88"),h=r("9593"),b=r("2623"),p=r("ef5b"),f=r("ac8e"),v={name:"EnsReverseLookup",props:{address:{default:"",type:String},name:{default:"",type:String},durationPick:{default:"",type:String},ensManager:{default:function(){},type:Object}},data:function(){return{ensLookupResults:null,hasDomains:!1,selectedDomain:{loading:!1,fee:Object(f["h"])(0),error:""},selectedDomainAddr:"",permHandler:{},hasReverseRecordNames:!1,reverseRecordNames:"",domainListItems:[]}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(l["c"])("global",["network","gasPrice","gasPriceByType","getFiatValue"])),Object(l["c"])("external",["fiatValue"])),Object(l["e"])("global",["gasPriceType"])),Object(l["e"])("wallet",["balance","web3","instance"])),{},{disableRegister:function(){return!this.selectedDomain.hasOwnProperty("address")||!this.selectedDomain.hasOwnProperty("name")||(!this.selectedDomain.value&&Object(f["h"])(this.balance).lt(this.selectedDomain.fee)||this.selectedDomain.error.length>0)}}),watch:{network:function(){this.checkNetwork()&&this.setup()},address:function(e){this.checkNetwork()&&e&&this.setup()},web3:function(){this.checkNetwork()&&this.setup()}},mounted:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.checkNetwork()){t.next=3;break}return t.next=3,e.setup();case 3:case"end":return t.stop()}}),t)})))()},methods:{setDomainListItems:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){var r,n;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=[],null===(r=e.ensLookupResults)||void 0===r||r.forEach(function(){var t=Object(c["a"])(Object(s["a"])().mark((function t(r){var a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.loading=!0,r.fee=Object(f["h"])(0),r.error="",t.prev=3,t.next=6,e.permHandler.getNameReverseData(r.name);case 6:a=t.sent,r.fee=Object(f["h"])(a*e.gasPrice),Object(f["h"])(e.balance).lt(r.fee)&&(r.error="Insufficient amount of ".concat(e.network.type.currencyName)),t.next=16;break;case 11:return t.prev=11,t.t0=t["catch"](3),r.error="An error occurred while retrieving the domain information",r.loading=!1,t.abrupt("return",n.push(r));case 16:return r.loading=!1,t.abrupt("return",n.push(r));case 18:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()),e.domainListItems=n;case 3:case"end":return t.stop()}}),t)})))()},checkNetwork:function(){var e=this;return p["a"].networks.find((function(t){return t.chainID===e.network.type.chainID}))},setup:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){var r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.findDomainByAddress();case 2:return r=e.network.type.ens?new d.a({provider:e.web3.eth.currentProvider,ensAddress:e.network.type.ens.registry}):null,e.permHandler=new h["a"](e.name,e.address,e.network,e.web3,r,e.durationPick),e.selectedDomain={loading:!1,fee:Object(f["h"])(0),error:""},t.next=7,e.setDomainListItems();case 7:e.getReverseRecordNames();case 8:case"end":return t.stop()}}),t)})))()},fetchDomains:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ensManager.getAllNamesForAddress(e.address);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},findDomainByAddress:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){var r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.hasDomains=!0,t.next=4,e.fetchDomains();case 4:r=t.sent,Object(o["isEmpty"])(r)&&(e.hasDomains=!1),e.ensLookupResults=r.map((function(e){return{name:e.name,value:e.nameHash,address:e.address}})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),Object(m["e"])(t.t0,{},m["a"]);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},setDomain:function(e){this.selectedDomain=e,this.getReverseRecordNames(this.selectedDomainAddr)},setReverseRecord:function(e){var t=this;return Object(c["a"])(Object(s["a"])().mark((function r(){var n,a;return Object(s["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.permHandler.setNameReverseRecord(e.name);case 3:return n=r.sent,t.hasReverseRecordNames=!0,r.abrupt("return",n);case 8:r.prev=8,r.t0=r["catch"](0),a=Object(b["a"])(r.t0),a&&Object(m["e"])(a,{},m["a"]);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},getReverseRecordNames:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){var r,n;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.network.type.ens?new d.a(e.web3.currentProvider,e.network.type.ens.registry):null,n=r.reverse(e.address),t.next=5,n.name();case 5:e.reverseRecordNames=t.sent,e.hasReverseRecordNames=!0,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.hasReverseRecordNames=!1;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},w=v,j=(r("bd97"),r("889c"),r("2877")),O=Object(j["a"])(w,n,a,!1,null,"527e8ac8",null);t["default"]=O.exports}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-f8764e3e.433543f9.js.map