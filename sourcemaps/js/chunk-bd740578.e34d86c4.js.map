{"version":3,"sources":["webpack:///./src/modules/balance/ModuleTokens.vue?dbee","webpack:///./src/modules/balance/ModuleTokens.vue?68cd","webpack:///src/modules/balance/ModuleTokens.vue","webpack:///./src/modules/balance/ModuleTokens.vue?f78d","webpack:///./src/modules/balance/ModuleTokens.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","loading","tokensData","hiddenTokens","attrs","_e","hasTokens","dense","totalTokensValue","scopedSlots","_u","key","fn","ref","on","_g","_b","_v","_l","item","i","action","_s","icon","title","proxy","tableHeaders","isEthNetwork","toggleAddCustomToken","openAddCustomToken","toggleRemoveCustomToken","openRemoveCustomToken","selectedToken","toggleEditCustomToken","openEditCustomToken","openRemoveToken","staticRenderFns","components","BalanceEmptyBlock","TokenAddCustom","TokenEditCustom","TokenRemoveCustom","mixins","props","type","default","data","text","value","sortable","width","items","computed","mapGetters","mapState","emptyWallet","isEqual","tokenList","methods","formatValues","newObj","method","fromToken","amount","push","name","query","then","btnStyle","colorTheme","token","component"],"mappings":"0IAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAAEN,EAAIO,UAAYP,EAAIQ,YAAcR,EAAIS,cAAeL,EAAG,oBAAoB,CAACE,YAAY,UAAUI,MAAM,CAAC,KAAO,WAAWV,EAAIW,KAAMX,EAAIY,YAAcZ,EAAIa,MAAOT,EAAG,aAAa,CAACM,MAAM,CAAC,SAAW,kBAAkB,oBAAmB,EAAM,MAAQV,EAAIc,kBAAkBC,YAAYf,EAAIgB,GAAG,CAAC,CAACC,IAAI,uBAAuBC,GAAG,WAAW,MAAO,CAACd,EAAG,MAAM,CAACA,EAAG,SAAS,CAACM,MAAM,CAAC,OAAS,GAAG,WAAW,GAAG,QAAU,KAAK,gBAAgB,2BAA2BK,YAAYf,EAAIgB,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASC,GACjoB,IAAIC,EAAKD,EAAIC,GACTV,EAAQS,EAAIT,MAChB,MAAO,CAACN,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAAChB,YAAY,OAAOI,MAAM,CAAC,QAAU,GAAG,MAAQ,QAAQ,KAAO,KAAK,QAAQA,GAAM,GAAOU,GAAI,CAAChB,EAAG,SAAS,CAACM,MAAM,CAAC,OAAS,GAAG,MAAQ,UAAU,CAACV,EAAIuB,GAAG,wBAAwB,OAAO,MAAK,EAAM,WAAW,CAACnB,EAAG,SAASJ,EAAIwB,GAAIxB,EAAS,OAAE,SAASyB,EAAKC,GAAG,OAAOtB,EAAG,cAAc,CAACa,IAAIS,EAAEN,GAAG,CAAC,MAAQK,EAAKE,SAAS,CAACvB,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,SAAS,CAACM,MAAM,CAAC,MAAQ,GAAG,MAAQ,QAAQ,KAAO,KAAK,CAACV,EAAIuB,GAAGvB,EAAI4B,GAAGH,EAAKI,SAASzB,EAAG,oBAAoB,CAACJ,EAAIuB,GAAGvB,EAAI4B,GAAGH,EAAKK,WAAW,QAAO,IAAI,IAAI,KAAKC,OAAM,GAAM,CAACd,IAAI,aAAaC,GAAG,WAAW,MAAO,CAACd,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,YAAY,CAACM,MAAM,CAAC,aAAY,EAAM,gBAAgBV,EAAIgC,aAAa,aAAahC,EAAIQ,eAAe,KAAKuB,OAAM,IAAO,MAAK,EAAM,cAAc/B,EAAIW,KAAMX,EAAIY,WAAaZ,EAAIa,MAAOT,EAAG,YAAY,CAACM,MAAM,CAAC,aAAY,EAAM,gBAAgBV,EAAIgC,aAAa,aAAahC,EAAIQ,cAAcR,EAAIW,KAAMX,EAAe,YAAEI,EAAG,sBAAsB,CAACM,MAAM,CAAC,YAAY,GAAG,SAASV,EAAIiC,gBAAgBjC,EAAIW,KAAKP,EAAG,mBAAmB,CAACM,MAAM,CAAC,MAAQV,EAAIkC,qBAAqB,KAAOlC,EAAImC,sBAAsB/B,EAAG,sBAAsB,CAACM,MAAM,CAAC,MAAQV,EAAIoC,wBAAwB,KAAOpC,EAAIqC,sBAAsB,iBAAiBrC,EAAIsC,iBAAiBlC,EAAG,oBAAoB,CAACM,MAAM,CAAC,MAAQV,EAAIuC,sBAAsB,KAAOvC,EAAIwC,qBAAqBpB,GAAG,CAAC,SAAWpB,EAAIkC,qBAAqB,YAAclC,EAAIyC,oBAAoB,IACl7CC,EAAkB,G,kMC+GP,GACfC,YACAC,6BAAA,wDACAC,0BAAA,wDACAC,2BAAA,wDACAC,6BAAA,yDAEAC,gBACAC,OACApC,OACAqC,aACAC,aAGAC,KAdA,WAeA,OACAjB,sBACAK,uBACAH,yBACAL,cACA,CACAqB,aACAC,cACAC,YACAC,aAEA,CACAH,aACAC,cACAC,YACAC,aAEA,CACAH,kBACAC,YACAC,YACAC,aAEA,CACAH,WACAC,eACAC,YACAC,aAEA,CACAH,eACAC,gBACAC,YACAC,aAEA,CACAH,QACAC,qBACAC,YACAC,cAGAC,OACA,CACA5B,gBACAC,kBACAH,kCAEA,CACAE,0BACAC,mBACAH,oCAGAW,mBAGAoB,sGACAC,gDACAC,uDACAD,yBACA,eACA,YACA,eACA,eAEAA,yBACA,eACA,UACA,UACA,kBAEAA,oDAfA,IAgBApD,QAhBA,WAiBA,+BAEAK,UAnBA,WAoBA,OACA,eACA,uDAGAiD,YAzBA,WA0BA,OACA,cACA,4BACA,8BAQArD,WArCA,WAqCA,WACA,4DACA,SACA,8CAEA,uCACA,gCAGA,OADA,6BACA,IACA,IACA,wBACA,oCACA,qBAEAsD,cAEA,qBACA,4BAGA,OADAC,sBAAA,oCACA,aAEAjD,iBA5DA,WA6DA,sDAGAkD,SAIAC,aAJA,SAIAxC,GAAA,WACA,KACAyC,WACAzC,WACAA,wBACA,cACAA,oDAEAyC,2CACAA,iBACAA,2CACAA,SACAzC,gCACAA,qCACAA,kDACA,GACAyC,iDACA,+BAqCA,OApCAA,QACAzC,6BACA,4BACA,GAGA,gBACAyC,qBAEAA,8CAGA,eACAA,gBACA,CACApC,aACAqC,kBACA,OACAC,qBACAC,mBAEA,wCACA,UACAC,KAAA,CACAC,sBACAC,UAEAC,MAAA,WACA,qBAGAC,mBACAC,6BAIA,GAEAzC,qBA5DA,WA6DA,kDAEAE,wBA/DA,WAgEA,wDAEAK,gBAlEA,SAkEAmC,GACA,qBACA,gCAEArC,sBAtEA,WAuEA,sDClUqW,I,yBCQjWsC,EAAY,eACd,EACA9E,EACA2C,GACA,EACA,KACA,KACA,MAIa,aAAAmC,E","file":"js/chunk-bd740578.e34d86c4.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModuleTokens.vue?vue&type=style&index=0&id=b3405aa2&prod&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"module-tokens\"},[(_vm.loading && (_vm.tokensData || _vm.hiddenTokens))?_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"type\":\"table\"}}):_vm._e(),(_vm.hasTokens && !_vm.dense)?_c('mew-module',{attrs:{\"subtitle\":\"My Tokens Value\",\"has-body-padding\":false,\"title\":_vm.totalTokensValue},scopedSlots:_vm._u([{key:\"rightHeaderContainer\",fn:function(){return [_c('div',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"rounded\":\"lg\",\"content-class\":\"module-tokens-edit-menu\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ma-2\",attrs:{\"rounded\":\"\",\"color\":\"basic\",\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"medium\":\"\",\"color\":\"basic\"}},[_vm._v(\"mdi-dots-vertical\")])],1)]}}],null,false,32612737)},[_c('v-list',_vm._l((_vm.items),function(item,i){return _c('v-list-item',{key:i,on:{\"click\":item.action}},[_c('div',{staticClass:\"pl-2 pr-4 d-flex align-center\"},[_c('v-icon',{attrs:{\"dense\":\"\",\"color\":\"basic\",\"left\":\"\"}},[_vm._v(_vm._s(item.icon))]),_c('v-list-item-title',[_vm._v(_vm._s(item.title))])],1)])}),1)],1)],1)]},proxy:true},{key:\"moduleBody\",fn:function(){return [_c('div',{staticClass:\"my-8\"},[_c('mew-table',{attrs:{\"has-color\":false,\"table-headers\":_vm.tableHeaders,\"table-data\":_vm.tokensData}})],1)]},proxy:true}],null,false,2414609076)}):_vm._e(),(_vm.hasTokens && _vm.dense)?_c('mew-table',{attrs:{\"has-color\":false,\"table-headers\":_vm.tableHeaders,\"table-data\":_vm.tokensData}}):_vm._e(),(_vm.emptyWallet)?_c('balance-empty-block',{attrs:{\"is-tokens\":\"\",\"is-eth\":_vm.isEthNetwork}}):_vm._e(),_c('token-add-custom',{attrs:{\"close\":_vm.toggleAddCustomToken,\"open\":_vm.openAddCustomToken}}),_c('token-remove-custom',{attrs:{\"close\":_vm.toggleRemoveCustomToken,\"open\":_vm.openRemoveCustomToken,\"selected-token\":_vm.selectedToken}}),_c('token-edit-custom',{attrs:{\"close\":_vm.toggleEditCustomToken,\"open\":_vm.openEditCustomToken},on:{\"addToken\":_vm.toggleAddCustomToken,\"removeToken\":_vm.openRemoveToken}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--\n  =============================================================\n  Module Tokens\n  =============================================================\n  -->\n  <div class=\"module-tokens\">\n    <v-skeleton-loader\n      v-if=\"loading && (tokensData || hiddenTokens)\"\n      class=\"mx-auto\"\n      type=\"table\"\n    />\n    <mew-module\n      v-if=\"hasTokens && !dense\"\n      subtitle=\"My Tokens Value\"\n      :has-body-padding=\"false\"\n      :title=\"totalTokensValue\"\n    >\n      <template #rightHeaderContainer>\n        <div>\n          <v-menu\n            bottom\n            offset-y\n            rounded=\"lg\"\n            content-class=\"module-tokens-edit-menu\"\n          >\n            <template #activator=\"{ on, attrs }\">\n              <v-btn\n                class=\"ma-2\"\n                v-bind=\"attrs\"\n                rounded\n                color=\"basic\"\n                icon\n                v-on=\"on\"\n              >\n                <v-icon medium color=\"basic\">mdi-dots-vertical</v-icon>\n              </v-btn>\n            </template>\n            <v-list>\n              <v-list-item\n                v-for=\"(item, i) in items\"\n                :key=\"i\"\n                @click=\"item.action\"\n              >\n                <div class=\"pl-2 pr-4 d-flex align-center\">\n                  <v-icon dense color=\"basic\" left>{{ item.icon }}</v-icon>\n                  <v-list-item-title>{{ item.title }}</v-list-item-title>\n                </div>\n              </v-list-item>\n            </v-list>\n          </v-menu>\n        </div>\n      </template>\n      <template #moduleBody>\n        <div class=\"my-8\">\n          <mew-table\n            :has-color=\"false\"\n            :table-headers=\"tableHeaders\"\n            :table-data=\"tokensData\"\n          />\n        </div>\n      </template>\n    </mew-module>\n    <mew-table\n      v-if=\"hasTokens && dense\"\n      :has-color=\"false\"\n      :table-headers=\"tableHeaders\"\n      :table-data=\"tokensData\"\n    />\n    <!--\n    =====================================================================================\n      display if the user has no tokens\n    =====================================================================================\n    -->\n    <balance-empty-block v-if=\"emptyWallet\" is-tokens :is-eth=\"isEthNetwork\" />\n    <!--\n    =====================================================================================\n      add Custom Token form\n    =====================================================================================\n    -->\n    <token-add-custom\n      :close=\"toggleAddCustomToken\"\n      :open=\"openAddCustomToken\"\n    />\n    <!--\n    =====================================================================================\n      Remove Custom Token form\n    =====================================================================================\n    -->\n    <token-remove-custom\n      :close=\"toggleRemoveCustomToken\"\n      :open=\"openRemoveCustomToken\"\n      :selected-token=\"selectedToken\"\n    />\n    <!--\n    =====================================================================================\n      Edit Custom Token form\n    =====================================================================================\n    -->\n    <token-edit-custom\n      :close=\"toggleEditCustomToken\"\n      :open=\"openEditCustomToken\"\n      @addToken=\"toggleAddCustomToken\"\n      @removeToken=\"openRemoveToken\"\n    />\n  </div>\n</template>\n<script>\nimport { mapGetters, mapState } from 'vuex';\nimport { uniqWith, isEqual } from 'lodash';\n\nimport { ROUTES_WALLET } from '@/core/configs/configRoutes';\nimport { currencyToNumber } from '@/core/helpers/localization';\n\nimport handlerAnalytics from '@/modules/analytics-opt-in/handlers/handlerAnalytics.mixin';\nexport default {\n  components: {\n    BalanceEmptyBlock: () => import('./components/BalanceEmptyBlock'),\n    TokenAddCustom: () => import('./components/TokenAddCustom'),\n    TokenEditCustom: () => import('./components/TokenEditCustom'),\n    TokenRemoveCustom: () => import('./components/TokenRemoveCustom')\n  },\n  mixins: [handlerAnalytics],\n  props: {\n    dense: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      openAddCustomToken: false,\n      openEditCustomToken: false,\n      openRemoveCustomToken: false,\n      tableHeaders: [\n        {\n          text: 'Token',\n          value: 'token',\n          sortable: false,\n          width: '20%'\n        },\n        {\n          text: 'Price',\n          value: 'price',\n          sortable: false,\n          width: '15%'\n        },\n        {\n          text: 'Market Cap',\n          value: 'cap',\n          sortable: false,\n          width: '20%'\n        },\n        {\n          text: '24H',\n          value: 'change',\n          sortable: false,\n          width: '20%'\n        },\n        {\n          text: 'Balance',\n          value: 'balance',\n          sortable: false,\n          width: '20%'\n        },\n        {\n          text: '',\n          value: 'callToAction',\n          sortable: false,\n          width: '10%'\n        }\n      ],\n      items: [\n        {\n          icon: 'mdi-plus',\n          title: 'Add Token',\n          action: this.toggleAddCustomToken\n        },\n        {\n          icon: 'mdi-pencil-outline',\n          title: 'Edit Token',\n          action: this.toggleEditCustomToken\n        }\n      ],\n      selectedToken: {}\n    };\n  },\n  computed: {\n    ...mapGetters('wallet', ['tokensList', 'web3']),\n    ...mapState('wallet', ['web3', 'loadingWalletInfo']),\n    ...mapGetters('custom', [\n      'customTokens',\n      'hasCustom',\n      'hiddenTokens',\n      'hasHidden'\n    ]),\n    ...mapGetters('global', [\n      'isEthNetwork',\n      'network',\n      'hasSwap',\n      'getFiatValue'\n    ]),\n    ...mapGetters('external', ['totalTokenFiatValue']),\n    loading() {\n      return this.loadingWalletInfo;\n    },\n    hasTokens() {\n      return (\n        !this.loading &&\n        (this.tokensData.length > 0 || this.hiddenTokens.length > 0)\n      );\n    },\n    emptyWallet() {\n      return (\n        !this.loading &&\n        this.tokensData.length === 0 &&\n        this.hiddenTokens.length === 0\n      );\n    },\n    /**\n     * @returns formatted custom token values and token list values\n     * displays custom tokens first and then token list\n     * will be sorted by usd balance for both\n     */\n    tokensData() {\n      if (!this.tokensList && !this.customTokens && !this.hiddenTokens)\n        return [];\n      const customTokens = this.customTokens.reduce((arr, item) => {\n        // Check if token is in hiddenTokens\n        const isHidden = this.hiddenTokens.find(token => {\n          return item.contract == token.address;\n        });\n        if (!isHidden) arr.push(this.formatValues(item));\n        return arr;\n      }, []);\n      const uniqueTokens = uniqWith(\n        this.tokensList.filter(t => {\n          return !t.isHidden;\n        }),\n        isEqual\n      );\n      const tokenList = uniqueTokens.map(item => {\n        return this.formatValues(item);\n      });\n      tokenList.sort((a, b) => b.usdBalance - a.usdBalance);\n      return customTokens.concat(tokenList);\n    },\n    totalTokensValue() {\n      return this.getFiatValue(this.totalTokenFiatValue);\n    }\n  },\n  methods: {\n    /**\n     * @returns formatted values to display correctly on token table\n     */\n    formatValues(item) {\n      const newObj = {};\n      newObj.balance = [\n        item.balancef\n          ? item.balancef + ' ' + item.symbol\n          : '0' + ' ' + item.symbol,\n        item.usdBalancef ? this.getFiatValue(item.usdBalancef) : '0'\n      ];\n      newObj.usdBalance = item.usdBalance ? item.usdBalance : '0';\n      newObj.token = item.symbol;\n      newObj.cap = item.market_capf !== '0' ? item.market_capf : '';\n      newObj.change =\n        item.price_change_percentage_24hf &&\n        item.price_change_percentage_24hf !== '0'\n          ? item.price_change_percentage_24hf.replaceAll('%', '')\n          : '';\n      newObj.status = item.price_change_percentage_24h > 0 ? '+' : '-';\n      const priceUF = currencyToNumber(item.pricef);\n      newObj.price =\n        item.pricef && priceUF.toString() !== '0'\n          ? this.getFiatValue(item.pricef)\n          : '';\n\n      // Use eth.svg icon for ETH\n      if (item.symbol == 'ETH') {\n        newObj.tokenImg = require('@/assets/images/networks/eth.svg');\n      } else {\n        newObj.tokenImg = item.img ? item.img : this.network.type.icon;\n      }\n\n      if (this.hasSwap) {\n        newObj.callToAction = [\n          {\n            title: 'Swap',\n            method: () => {\n              const obj = {\n                fromToken: item.contract,\n                amount: item.balancef\n              };\n              this.trackSwap('fromDashboardTokensTable');\n              this.$router\n                .push({\n                  name: ROUTES_WALLET.SWAP.NAME,\n                  query: obj\n                })\n                .then(() => {\n                  this.$emit('trade');\n                });\n            },\n            btnStyle: 'outline',\n            colorTheme: 'greenPrimary'\n          }\n        ];\n      }\n      return newObj;\n    },\n    toggleAddCustomToken() {\n      this.openAddCustomToken = !this.openAddCustomToken;\n    },\n    toggleRemoveCustomToken() {\n      this.openRemoveCustomToken = !this.openRemoveCustomToken;\n    },\n    openRemoveToken(token) {\n      this.selectedToken = token;\n      this.toggleRemoveCustomToken();\n    },\n    toggleEditCustomToken() {\n      this.openEditCustomToken = !this.openEditCustomToken;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.module-tokens {\n  .mew-table td.text-start:nth-last-of-type(2) div span:first-child {\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n}\n.module-tokens-edit-menu {\n  border: none !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModuleTokens.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModuleTokens.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModuleTokens.vue?vue&type=template&id=b3405aa2&\"\nimport script from \"./ModuleTokens.vue?vue&type=script&lang=js&\"\nexport * from \"./ModuleTokens.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModuleTokens.vue?vue&type=style&index=0&id=b3405aa2&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}