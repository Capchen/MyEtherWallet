{"version":3,"sources":["webpack:///./src/assets/images/icons/dapps/icon-dapp-stake.svg","webpack:///./src/dapps/staked-dapp/TheStakedLayout.vue?a86d","webpack:///./src/dapps/staked-dapp/configsRoutes.js","webpack:///./src/dapps/staked-dapp/components/StakedStatus.vue?56fc","webpack:///src/dapps/staked-dapp/components/StakedStatus.vue","webpack:///./src/dapps/staked-dapp/components/StakedStatus.vue?cad1","webpack:///./src/dapps/staked-dapp/components/StakedStatus.vue","webpack:///src/dapps/staked-dapp/TheStakedLayout.vue","webpack:///./src/dapps/staked-dapp/TheStakedLayout.vue?e29b","webpack:///./src/dapps/staked-dapp/TheStakedLayout.vue","webpack:///./src/dapps/staked-dapp/handlers/handlerStaked.js","webpack:///./src/dapps/staked-dapp/TheStakedLayout.vue?daf2","webpack:///./src/assets/images/currencies/eth-dark-navy.svg","webpack:///./src/assets/images/icons/icon-mnemonic.svg","webpack:///./src/dapps/staked-dapp/components/StakedStatus.vue?12f4","webpack:///./src/dapps/staked-dapp/handlers/configNetworkTypes.js","webpack:///./src/dapps/staked-dapp/handlers/helpers.js"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","headerImg","header","tabs","activeTab","tabChanged","validNetworks","scopedSlots","_u","key","fn","staticClass","_v","_s","totalStaked","currentAprFormatted","model","value","callback","$$v","expression","class","loadingValidators","_e","myETHTotalStaked","proxy","getArticle","ref","handlerStaked","apr","startProvision","pollingStatus","on","sendTransaction","txReceipt","pendingTxHash","validators","amount","refetchValidators","staticRenderFns","STAKED_ROUTE","STAKED","NAME","PATH","STATUS","openWithdrawalModal","modalTitle","leftBtn","step","currencyName","setAddress","_l","btn","staticStyle","nativeOn","$event","apply","arguments","label","icon","uploadFile","password","n","refInFor","phrase","$set","executionAddress","back","nextButton","title","disabled","loadingButton","idx","loading","length","justStakedValidator","allPendingValidators","activeValidators","pending","isExpanded","expand","iconETHNavy","amountFiat","status","toLowerCase","STATUS_TYPES","CREATED","justStaked","DEPOSITED","PENDING","FAILED","etherscanUrl","ethVmUrl","onGoerli","estimatedWaitTime","url","active","totalBalanceETH","totalBalanceFiat","convertTotalReward","detailed_balance_info","total_reward_and_fees","conversion_factor_power","averageApr","withdrawal_set","openModal","components","phraseBlock","ModuleAddressBook","props","type","default","pendingHash","data","expanded","selectedValidator","isValidAddress","selectedRecoveryType","file","blsExecution","computed","phraseToLength","isValidMnemonic","parsedPhrase","buttons","validatorsRaw","validator","allRawValidators","raw","acc","Object","earned","pendingValidators","configNetworkTypes","etherscanAddrUrl","etherscanTxUrl","text","color","method","isKeystore","isMnemonic","validPassword","watch","deep","handler","splitVal","newObj","methods","findValidatorIndex","div","toString","convertedBalance","BigNumber","setWithdrawalAddress","fetch","headers","body","signed","then","Toast","JSON","WARNING","finally","checkPhrase","changed","selectedNetwork","mnemonic","reset","setType","reader","userSelectFile","jsonInput","nextStep","closeModal","convertToEth1","getAverageApr","getEstimatedDuration","now","component","name","TheWrapperDapp","StakedStepper","subtext","subtextClass","route","id","path","formatFloatingPointValue","isValidNetwork","item","$route","address","mounted","detactUrlChangeTab","ABI_GET_VALIDATORS","inputs","outputs","internalType","stateMutability","ABI_GET_FEES","ACTIVE","EXITED","Staked","constructor","web3","network","validatorsCount","transactionData","myValidators","endpoint","getTotalStakedAndAPR","getValidators","eth2ContractAddress","depositAddress","depositContract","eth","Contract","get_deposit_count","call","lebytes","numValidators","toBN","Buffer","from","substr","reverse","muln","calculateEth2Rewards","totalAtStake","times","toFixed","catch","err","ERROR","axios","get","resp","reduce","total","val","balanceETH","balance","plus","response","msg","params","count","post","eth1Address","eth2Address","provisioning_request_uuid","startPolling","$t","success","error","uuid","prevReqComplete","interval","setInterval","parseInt","transaction","clearInterval","to","batchContract","res","handleError","pow","GOERLI","ETH","ethvmTxUrl","ethvmAddrUrl","slotTimeInSec","slotsInEpoch","baseRewardFactor","baseRewardsPerEpoch","baseRewardsPropotionalValidators","averageNetworkPctOnline","oneSlotLatePenalty","vaildatorUptime","validatorDeposit","avgSecInYear","epochPerYear","baseGweiRewardFullValidator","offlineEpochGweiPentalty","fullUptimeValidatorRewards","oneEighthReward","rewardAdjModifier","sevenEighthsReward","onlineEpochGweiReward","reward","penalty","netRewardPerYear"],"mappings":"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zE,mBACAwE,cACAC,iBAGAE,OACA,OACAhC,gBACAiC,WACA7B,oBACAxC,uBACAsE,uBACAnE,OACAkB,oBACAkD,kBACAC,wBACAC,QACAzD,YACA0D,gBACAvD,UACAU,UACAH,mBAGAiD,aACA,wCACA,kDACA,+CACA,oDACA,4CACA,oDACApD,aACA,SACAC,aACAC,YACA5D,kBAEA,qBACA,oBACA4D,0DACA5D,mBAGA,cACA,gBACA,oBACA4D,iDACA5D,6BAIA,oBACA4D,+BACA5D,6BAGA,cACA,oBACA2D,+BACAC,4BACA5D,+BAIA,GAEA+G,iBACA,mCAEA,OADA,6CACA,GAEAC,kBACA,iDAEAC,eACA,oDAMAC,UACA,OAEA,CACAlE,iBACAC,eACAjD,QACA,wBAIA,CACAgD,wBACAC,eACAjD,QACA,kCASAuC,eACA,uCAMA4E,gBACA,WAMA,OALA,wBACAC,cACAC,cAGA,GAOAlD,mBACA,yCACA,GACAmD,wCACAA,uCACA,CACA,2BACAA,gCACAA,iDAEA,6BACAC,OACAC,oBACAnC,oDACAiC,oBAEAG,+BACAlC,wCACAC,mCACA,kCAEAK,0BACA,0CACA,MACAC,eACA,4CACAwB,4CAIA,UACA,KAOAI,oBACA,yCACA,cACA,kCACA,0BAgCA,OA9BAJ,2CACAA,yCACAA,wCACAA,6CAEAC,QACA5F,sCACA6C,6BACA,yCAEAC,gBACAS,SACAyC,oDACA,aACA1C,aACA0C,uCACAC,8BACAvC,cACAsC,2CACA,KACAL,UACA,GACAlC,kBACAkC,gDACA,0BACAA,wCAEA,MAGA,GACA,KAOArD,sBACA,wBACA,CACA,CACAtC,yCACA6C,6BACA,4CAEAK,cACAJ,sBACAS,0BACAyC,kDACA,iBACA,KACA1C,8BACA0C,uCACAE,gCACA,OAIA,IAOA3D,uBACA,gEAOA7B,UACA,OACAyF,cACAC,cACAC,yBAOA5F,aACA,qBACA,6BACA,cACA,yBACA,+BACA,0BACA,+BACA,wBACA,cACA,iBACA,IAMA6F,aACA,oDAMAC,aACA,oDAEAC,gBACA,gCAGAC,OACA9E,QACA+E,QACAC,oBACA,6DACA,oBACA,wBACA,iCACA,qBACA,WACAC,kBACAC,yBAEA,mBAMAC,YACA,oDACAC,sBACA,6CACA,WAEAjD,wBACA,eACAkD,oBACAC,WACA,eACAC,EACAC,kBACA,mBACA,mBAEA,GAEAC,uBACA,QACA,mDACA,gDACA,mDACA,2CAEA,sBACAC,SACAhB,aACAiB,SACA,mCAEAC,qBACAC,+BAGAC,QACA,MACA,oEACAC,kEAGA,kBAEAC,2BACA,qDAGA,+DACAD,eACA,4DACA,GACAE,SAGAF,mDAIAG,aACA,gBAGAC,eACA,WACA,SACAjC,iCACA,wBACAkC,KADA,yBAGA,oBAMA,2BACA,sBACA,IACA,mBACA,QACA,kDACA,gBACA,4DACA,UACA,cACA,sBACA,uCACA,2DACAC,GAGA,4DACA,CACAC,4BAEA,sBACA,uCACA,2DACAD,GAGA,sBACA,gBACA,SACA,sBACAN,4BACA,eAGAQ,QACA,yBACA,gCAEA,4BACA,4BACA,YACA,mCACA,uBACA,6BACA,aACA,iBACA,qBACA,eACA,sBACA,0BAKAC,WACA,4BACA,iBAKA5G,cACA,uBACA6G,gBACA,IACA,sCACA,8BACA,SACAV,sCAGAU,yCAEAC,iBACA,6BACAC,WACAA,WAKAC,WACA,cAKAzG,OACA,6BACA,kBACA,OACA,6BACAwG,WACA,MACA,OACA,iBACA,eACA,aACA,MACA,QACA,MAEA,cAKAzH,gBACA,wBACA,uBAKAuD,aACA,yBACA,6BAKAoE,aACA,cAMAC,qBACA,2CAMAC,qBACA,YACA,cAEA,kBACA,aACA,mBACA,gBACA,EACAvB,oBACA,0BACA,mBAKAxE,UACA,wCAMAD,cACA,0BAMAc,WACA,kDAMAmF,wBACA,oBACA,SACA,2BACA,8BACA,mCACAC,EACA,sBACA,iCChhCoX,I,wBCQhXC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCwIA,GACfC,uBACAzE,YACA0E,+DACAC,kEACA,mBAEApE,OACA,OACA3G,qBACAL,oBACAoC,SACAnC,QACAmE,6BACAiH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","file":"js/dapp-staked~f71cff67.ad7294be.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/icon-dapp-stake.21f5fa37.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('the-wrapper-dapp',{attrs:{\"is-new-header\":true,\"dapp-img\":_vm.headerImg,\"banner-text\":_vm.header,\"tab-items\":_vm.tabs,\"active-tab\":_vm.activeTab,\"external-contents\":\"\",\"on-tab\":_vm.tabChanged,\"valid-networks\":_vm.validNetworks},scopedSlots:_vm._u([{key:\"HeaderBody\",fn:function(){return [_c('v-divider',{staticClass:\"textMedium my-3\"}),_c('div',{staticClass:\"d-flex flex-wrap align-center justify-center\"},[_c('div',{staticClass:\"text-uppercase textMedium--text font-weight-bold\"},[_vm._v(\" Total Staked: \"),_c('span',{staticClass:\"greenPrimary--text\"},[_vm._v(_vm._s(_vm.totalStaked))])]),_c('v-icon',{attrs:{\"color\":\"textMedium\"}},[_vm._v(\"mdi-circle-medium\")]),_c('div',{staticClass:\"text-uppercase textMedium--text font-weight-bold\"},[_vm._v(\" Current APR: \"),_c('span',{staticClass:\"greenPrimary--text\"},[_vm._v(_vm._s(_vm.currentAprFormatted))])])],1),_c('v-btn-toggle',{staticClass:\"d-flex align-center justify-center mt-3 white--text\",attrs:{\"mandatory\":\"\",\"borderless\":\"\",\"active-class\":\"expandHeader font-weight-bold\",\"background-color\":\"transparent\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_c('v-btn',{staticClass:\"px-md-9 white--text text-transform--initial\",class:_vm.activeTab === 0 ? 'staked-tab-active' : 'staked-tab-inactive',attrs:{\"color\":\"\"}},[_vm._v(\" New stake \")]),_c('v-btn',{class:[\n          'px-md-9 white--text text-transform--initial d-flex  flex-column align-center',\n          _vm.activeTab === 1 ? 'staked-tab-active' : 'staked-tab-inactive'\n        ],attrs:{\"color\":\"\"}},[_c('div',[_c('div',{class:[\n              'white--text',\n              _vm.activeTab === 1 ? 'font-weight-medium' : ''\n            ]},[_vm._v(\" My stake \")]),(!_vm.loadingValidators)?_c('div',{staticClass:\"mew-caption textLight--text\"},[_vm._v(\" \"+_vm._s(!_vm.loadingValidators ? _vm.myETHTotalStaked : '--')+\" \")]):_vm._e()])])],1)]},proxy:true},{key:\"HeaderRight\",fn:function(){return [_c('div',{staticClass:\"text-right\"},[_c('a',{staticClass:\"greenPrimary--text font-weight-medium text-right\",attrs:{\"href\":_vm.getArticle('stake-eth2-mew-web'),\"target\":\"_blank\"}},[_vm._v(\" New to staking? Learn more \"),_c('v-icon',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"color\":\"greenPrimary\"}},[_vm._v(\"mdi-open-in-new\")])],1)])]},proxy:true},{key:\"tabContent1\",fn:function(){return [_c('v-sheet',{staticClass:\"mx-auto\",attrs:{\"min-height\":\"500px\",\"max-width\":\"700px\",\"color\":\"transparent\"}},[_c('staked-stepper',{ref:\"stakedStepper\",attrs:{\"current-apr\":_vm.handlerStaked.apr,\"start-provision\":_vm.startProvision,\"polling-status\":_vm.pollingStatus},on:{\"readyToStake\":_vm.sendTransaction}})],1)]},proxy:true},{key:\"tabContent2\",fn:function(){return [_c('v-sheet',{staticClass:\"py-13 mx-auto\",attrs:{\"min-height\":\"500px\",\"max-width\":\"700px\",\"color\":\"transparent\"}},[_c('staked-status',{attrs:{\"tx-receipt\":_vm.handlerStaked.txReceipt,\"pending-hash\":_vm.pendingTxHash,\"validators\":_vm.validators,\"loading\":_vm.loadingValidators,\"amount\":_vm.amount,\"refetch-validators\":_vm.refetchValidators}})],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const STAKED_ROUTE = {\n  STAKED: { NAME: 'Staked', PATH: 'staked' },\n  STATUS: {\n    NAME: 'StakedStatus',\n    PATH: 'status'\n  }\n};\n\nexport { STAKED_ROUTE };\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"staked-status-container mx-auto\"},[_c('mew-popup',{attrs:{\"max-width\":\"690px\",\"show\":_vm.openWithdrawalModal,\"has-buttons\":false,\"has-body-content\":true,\"title\":_vm.modalTitle,\"left-btn\":_vm.leftBtn}},[_c('div',[(_vm.step === 1)?_c('div',{staticClass:\"text-center\"},[_c('mew-warning-sheet',{staticClass:\"mb-5\",attrs:{\"title\":\"\",\"description\":\"The withdrawal address can only be set once and can never be changed. Please make sure the withdrawal address you are setting is a non-custodial wallet to which you have full access with a recovery phrase or private key. Do NOT use an exchange address or a smart contract wallet.\"}}),_c('div',{staticClass:\"mew-heading-3 mb-3 text-left\"},[_vm._v(\" Your Withdrawal Address \")]),_c('module-address-book',{ref:\"addressInput\",staticClass:\"AddressInput\",attrs:{\"label\":\"Address\",\"preselect-curr-wallet-adr\":true,\"currency\":_vm.currencyName},on:{\"setAddress\":_vm.setAddress}})],1):_vm._e(),(_vm.step === 2)?_c('div',{staticClass:\"text-center\"},[_vm._l((_vm.buttons),function(btn,key){return _c('div',{key:key,staticClass:\"mb-5\"},[_c('mew-button',{class:btn.class,staticStyle:{\"height\":\"160px\"},attrs:{\"has-full-width\":\"\",\"color-theme\":\"greyMedium\",\"btn-style\":\"outline\"},nativeOn:{\"click\":function($event){return btn.fn.apply(null, arguments)}}},[_c('div',{staticClass:\"text-left d-flex align-center justify-space-between px-2\",staticStyle:{\"width\":\"100%\"}},[_c('div',{staticClass:\"mew-heading-2 textDark--text\"},[_vm._v(\" \"+_vm._s(btn.label)+\" \")]),_c('img',{staticClass:\"mr-4 d-none d-sm-block\",attrs:{\"width\":\"80\",\"src\":btn.icon}})])])],1)}),_c('input',{ref:\"jsonInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"name\":\"file\"},on:{\"change\":_vm.uploadFile}})],2):_vm._e(),(_vm.step === 3)?_c('div',{staticClass:\"text-center\"},[(_vm.isKeystore)?_c('div',[_c('mew-input',{ref:\"passwordInput\",attrs:{\"label\":\"Enter Password\",\"placeholder\":\"Enter my keystore password\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1):_vm._e(),(_vm.isMnemonic)?_c('div',[_c('phrase-block',{staticClass:\"mb-8\"},[_c('v-row',_vm._l((_vm.length),function(n){return _c('v-col',{key:(\"mnemonicInput\" + n),attrs:{\"cols\":\"6\",\"lg\":\"3\",\"md\":\"3\",\"sm\":\"4\"}},[_c('v-text-field',{ref:(\"mnemonicInput\" + n),refInFor:true,attrs:{\"name\":(\"mnemonicInput\" + n),\"label\":(n + \".\"),\"autocomplete\":\"off\",\"autofocus\":n === 1},model:{value:(_vm.phrase[n]),callback:function ($$v) {_vm.$set(_vm.phrase, n, $$v)},expression:\"phrase[n]\"}})],1)}),1)],1)],1):_vm._e()]):_vm._e(),(_vm.step === 4)?_c('div',{staticClass:\"mb-2\"},[_c('mew-sheet',{staticClass:\"pa-4\"},[_c('div',{staticClass:\"mew-heading-3 black--text\"},[_vm._v(\" Setting address: \"+_vm._s(_vm.executionAddress)+\" as the withdrawal address. \")])]),_c('mew-warning-sheet',{staticClass:\"my-4\",attrs:{\"title\":\"Please verify\",\"description\":\"The withdrawal address can only be set once. Please make sure you are setting the correct address.\"}})],1):_vm._e(),_c('div',{staticClass:\"mb-2 text-center d-flex align-center justify-center\"},[(_vm.step > 1)?_c('mew-button',{staticClass:\"mr-2\",attrs:{\"title\":\"Back\",\"btn-style\":\"outline\",\"btn-size\":\"xlarge\"},nativeOn:{\"click\":function($event){return (function () {\n              _vm.back();\n            }).apply(null, arguments)}}}):_vm._e(),(_vm.step != 2)?_c('mew-button',{attrs:{\"title\":_vm.nextButton.title,\"disabled\":_vm.nextButton.disabled,\"loading\":_vm.loadingButton,\"btn-size\":\"xlarge\"},nativeOn:{\"click\":function($event){return (function () {\n              _vm.nextButton.fn();\n            }).apply(null, arguments)}}}):_vm._e()],1)])]),(_vm.loading)?_c('div',[_c('v-skeleton-loader',{attrs:{\"width\":\"150px\",\"type\":\"list-item\"}}),_vm._l((3),function(idx){return _c('v-skeleton-loader',{key:idx,staticClass:\"mb-4\",attrs:{\"height\":\"100px\",\"type\":\"image\"}})})],2):_vm._e(),(!_vm.loading)?_c('div',[(\n        (_vm.validators.length === 0 && _vm.justStakedValidator.length === 0) ||\n        (_vm.allPendingValidators.length === 0 && _vm.activeValidators.length === 0)\n      )?_c('div',[_vm._v(\" You are currently not staking any eth. \")]):_vm._e(),(_vm.allPendingValidators.length > 0)?_c('div',{staticClass:\"pb-8\"},[_c('span',{staticClass:\"mew-heading-3\"},[_vm._v(\"Pending\")]),_vm._l((_vm.allPendingValidators),function(pending,idx){return _c('div',{key:pending + idx,staticClass:\"mt-4 d-flex flex-column align-center cursor-pointer justify-space-between\"},[_c('div',{class:[\n            'rounded-t-lg header-container greyLight pa-5 full-width d-flex flex-row align-center justify-space-between',\n            _vm.isExpanded(idx) ? 'rounded-t-lg' : 'rounded-lg'\n          ],on:{\"click\":function($event){return _vm.expand(idx)}}},[_c('div',{staticClass:\"left-container d-flex\"},[_c('img',{attrs:{\"src\":_vm.iconETHNavy,\"height\":\"22\",\"alt\":\"ethereum\"}}),_c('div',{staticClass:\"ml-3\"},[_c('div',{staticClass:\"mew-heading-3\"},[_vm._v(\" \"+_vm._s(pending.amount)+\" \"),_c('span',{staticClass:\"mew-caption\"},[_vm._v(\"ETH\")])]),_c('div',{staticClass:\"textMedium--text mt-1\"},[_vm._v(\" \"+_vm._s(pending.amountFiat)+\" \")])])]),_c('div',[_c('v-progress-circular',{attrs:{\"size\":\"18\",\"width\":\"2\",\"color\":\"greenPrimary\",\"indeterminate\":\"\"}}),_c('v-icon',{staticClass:\"ml-5\",attrs:{\"color\":\"greyPrimary\",\"size\":\"22\"}},[_vm._v(_vm._s(_vm.isExpanded(idx) ? 'mdi-chevron-up' : 'mdi-chevron-down'))])],1)]),(_vm.isExpanded(idx))?_c('div',{staticClass:\"border-container rounded-b-lg full-width pa-5\"},[_c('div',{staticClass:\"mt-5 mb-8 font-weight-bold\"},[_vm._v(\"More Info\")]),(pending.status.toLowerCase() === _vm.STATUS_TYPES.CREATED)?_c('div',{staticClass:\"d-flex\"},[_c('v-progress-circular',{staticClass:\"ml-4\",attrs:{\"size\":\"18\",\"width\":\"2\",\"color\":\"greenPrimary\",\"indeterminate\":\"\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(!pending.justStaked || _vm.txReceipt ? 'Processing' : 'Sending'))])],1):_vm._e(),(\n              pending.status.toLowerCase() === _vm.STATUS_TYPES.DEPOSITED ||\n              pending.status.toLowerCase() === _vm.STATUS_TYPES.PENDING\n            )?_c('div',{staticClass:\"d-flex\"},[_c('v-icon',{attrs:{\"size\":\"20\",\"color\":\"greenPrimary\"}},[_vm._v(\"mdi-check-circle\")]),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Deposited\")])],1):_vm._e(),(pending.status.toLowerCase() === _vm.STATUS_TYPES.FAILED)?_c('div',{staticClass:\"d-flex align-center\"},[_c('v-icon',{attrs:{\"size\":\"20\",\"color\":\"redPrimary\"}},[_vm._v(\"mdi-close-circle\")]),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Failed\")])],1):_vm._e(),_c('div',{staticClass:\"d-flex mt-6\"},[(pending.etherscanUrl)?_c('a',{staticClass:\"font-weight-medium\",attrs:{\"rel\":\"noopener noreferrer\",\"href\":pending.etherscanUrl,\"target\":\"_blank\"}},[_vm._v(\"View on Etherscan \"),_c('v-icon',{attrs:{\"color\":\"greenPrimary\",\"size\":\"14\"}},[_vm._v(\"mdi-open-in-new\")])],1):_vm._e(),(pending.ethVmUrl && !_vm.onGoerli)?_c('a',{staticClass:\"font-weight-medium ml-5\",attrs:{\"rel\":\"noopener noreferrer\",\"href\":pending.ethVmUrl,\"target\":\"_blank\"}},[_vm._v(\"View on EthVM \"),_c('v-icon',{attrs:{\"color\":\"greenPrimary\",\"size\":\"14\"}},[_vm._v(\"mdi-open-in-new\")])],1):_vm._e()]),(\n              pending.status.toLowerCase() === _vm.STATUS_TYPES.DEPOSITED ||\n              pending.status.toLowerCase() === _vm.STATUS_TYPES.PENDING\n            )?_c('div',{staticClass:\"d-flex flex-column mt-9\"},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-progress-circular',{attrs:{\"size\":\"18\",\"width\":\"2\",\"color\":\"greenPrimary\",\"indeterminate\":\"\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Waiting for validator activation\")])],1),_c('span',{staticClass:\"mew-label font-weight-medium textLight--text mt-1\"},[_vm._v(\"Estimated wait time: \"+_vm._s(pending.estimatedWaitTime)+\" \")]),(pending.url)?_c('a',{staticClass:\"font-weight-medium mt-5\",attrs:{\"rel\":\"noopener noreferrer\",\"href\":pending.url,\"target\":\"_blank\"}},[_vm._v(\"Eth2 Beacon Chain transactions \"),_c('v-icon',{attrs:{\"color\":\"greenPrimary\",\"size\":\"14\"}},[_vm._v(\"mdi-open-in-new\")])],1):_vm._e()]):_vm._e()]):_vm._e()])})],2):_vm._e(),(_vm.activeValidators.length > 0)?_c('div',[_c('span',{staticClass:\"mew-heading-3\"},[_vm._v(\"Active\")]),_vm._l((_vm.activeValidators),function(active,idx){return _c('div',{key:active + idx,staticClass:\"border-container rounded-lg pa-5 mt-4 d-flex justify-space-between\"},[_c('div',{staticClass:\"left-container d-flex\"},[_c('img',{attrs:{\"src\":_vm.iconETHNavy,\"height\":\"26\",\"alt\":\"ethereum\"}}),_c('div',{staticClass:\"left-container-details ml-3\"},[_c('div',{staticClass:\"mew-heading-2\"},[_vm._v(\" \"+_vm._s(active.totalBalanceETH + ' ETH')+\" \")]),_c('div',{staticClass:\"font-weight-medium mt-1\"},[_vm._v(\" \"+_vm._s(active.totalBalanceFiat)+\" \")]),_c('div',{staticClass:\"textLight--text mt-2\"},[_vm._v(\" Earned \"),_c('span',{staticClass:\"greenPrimary--text\"},[_vm._v(_vm._s(_vm.convertTotalReward( active.detailed_balance_info.total_reward_and_fees, active.detailed_balance_info.conversion_factor_power ) + ' ETH'))]),_c('br'),_vm._v(\" Average APR \"+_vm._s(active.averageApr)+\" \")]),_c('mew-button',{staticClass:\"mt-1\",attrs:{\"title\":!active.withdrawal_set\n                  ? 'Set withdrawal address'\n                  : 'Already set',\"disabled\":active.withdrawal_set,\"btn-size\":\"medium\"},nativeOn:{\"click\":function($event){return (function () {\n                  _vm.openModal(active);\n                }).apply(null, arguments)}}})],1)]),_c('div',[_c('a',{staticClass:\"font-weight-medium\",attrs:{\"rel\":\"noopener noreferrer\",\"href\":active.url,\"target\":\"_blank\"}},[_vm._v(\"View validator \"),_c('v-icon',{attrs:{\"color\":\"greenPrimary\",\"size\":\"14\"}},[_vm._v(\"mdi-open-in-new\")])],1)])])})],2):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--\n    ===================================================\n    Staked Status Tab\n    ===================================================\n    -->\n  <div class=\"staked-status-container mx-auto\">\n    <mew-popup\n      max-width=\"690px\"\n      :show=\"openWithdrawalModal\"\n      :has-buttons=\"false\"\n      :has-body-content=\"true\"\n      :title=\"modalTitle\"\n      :left-btn=\"leftBtn\"\n    >\n      <div>\n        <!-- Step 1: Ask user for execution address -->\n        <div v-if=\"step === 1\" class=\"text-center\">\n          <mew-warning-sheet\n            class=\"mb-5\"\n            title=\"\"\n            description=\"The withdrawal address can only be set once and can never be changed. Please make sure the withdrawal address you are setting is a non-custodial wallet to which you have full access with a recovery phrase or private key. Do NOT use an exchange address or a smart contract wallet.\"\n          />\n          <div class=\"mew-heading-3 mb-3 text-left\">\n            Your Withdrawal Address\n          </div>\n          <module-address-book\n            ref=\"addressInput\"\n            class=\"AddressInput\"\n            label=\"Address\"\n            :preselect-curr-wallet-adr=\"true\"\n            :currency=\"currencyName\"\n            @setAddress=\"setAddress\"\n          />\n        </div>\n        <!-- Step 2: Ask user for wallet type -->\n        <div v-if=\"step === 2\" class=\"text-center\">\n          <div v-for=\"(btn, key) in buttons\" :key=\"key\" class=\"mb-5\">\n            <mew-button\n              :class=\"btn.class\"\n              has-full-width\n              color-theme=\"greyMedium\"\n              btn-style=\"outline\"\n              style=\"height: 160px\"\n              @click.native=\"btn.fn\"\n            >\n              <div\n                class=\"text-left d-flex align-center justify-space-between px-2\"\n                style=\"width: 100%\"\n              >\n                <div class=\"mew-heading-2 textDark--text\">\n                  {{ btn.label }}\n                </div>\n                <img\n                  width=\"80\"\n                  class=\"mr-4 d-none d-sm-block\"\n                  :src=\"btn.icon\"\n                />\n              </div>\n            </mew-button>\n          </div>\n          <input\n            ref=\"jsonInput\"\n            type=\"file\"\n            name=\"file\"\n            style=\"display: none\"\n            @change=\"uploadFile\"\n          />\n        </div>\n        <!-- Step 3: Ask user for wallet inputs -->\n        <div v-if=\"step === 3\" class=\"text-center\">\n          <!--\n          ===================================================\n          Keystore\n          ===================================================\n          -->\n          <div v-if=\"isKeystore\">\n            <mew-input\n              ref=\"passwordInput\"\n              v-model=\"password\"\n              label=\"Enter Password\"\n              placeholder=\"Enter my keystore password\"\n              type=\"password\"\n            />\n          </div>\n          <!--\n          ===================================================\n          Mnemonic\n          ===================================================\n          -->\n          <div v-if=\"isMnemonic\">\n            <!--\n          =====================================================================================\n            Enter Phrase Block\n          =====================================================================================\n          -->\n            <phrase-block class=\"mb-8\">\n              <v-row>\n                <v-col\n                  v-for=\"n in length\"\n                  :key=\"`mnemonicInput${n}`\"\n                  cols=\"6\"\n                  lg=\"3\"\n                  md=\"3\"\n                  sm=\"4\"\n                >\n                  <v-text-field\n                    :ref=\"`mnemonicInput${n}`\"\n                    v-model=\"phrase[n]\"\n                    :name=\"`mnemonicInput${n}`\"\n                    :label=\"`${n}.`\"\n                    autocomplete=\"off\"\n                    :autofocus=\"n === 1\"\n                  ></v-text-field>\n                </v-col>\n              </v-row>\n            </phrase-block>\n          </div>\n        </div>\n        <!-- Step 4: Warning -->\n        <div v-if=\"step === 4\" class=\"mb-2\">\n          <mew-sheet class=\"pa-4\">\n            <div class=\"mew-heading-3 black--text\">\n              Setting address: {{ executionAddress }} as the withdrawal address.\n            </div>\n          </mew-sheet>\n          <mew-warning-sheet\n            class=\"my-4\"\n            title=\"Please verify\"\n            description=\"The withdrawal address can only be set once. Please make sure you are setting the correct address.\"\n          />\n        </div>\n        <!-- Next and Back Buttons -->\n        <div class=\"mb-2 text-center d-flex align-center justify-center\">\n          <mew-button\n            v-if=\"step > 1\"\n            class=\"mr-2\"\n            title=\"Back\"\n            btn-style=\"outline\"\n            btn-size=\"xlarge\"\n            @click.native=\"\n              () => {\n                back();\n              }\n            \"\n          />\n          <mew-button\n            v-if=\"step != 2\"\n            :title=\"nextButton.title\"\n            :disabled=\"nextButton.disabled\"\n            :loading=\"loadingButton\"\n            btn-size=\"xlarge\"\n            @click.native=\"\n              () => {\n                nextButton.fn();\n              }\n            \"\n          />\n        </div>\n      </div>\n    </mew-popup>\n    <!--\n    ===================================================\n    Loading\n    ===================================================\n    -->\n    <div v-if=\"loading\">\n      <v-skeleton-loader width=\"150px\" type=\"list-item\" />\n      <v-skeleton-loader\n        v-for=\"idx in 3\"\n        :key=\"idx\"\n        class=\"mb-4\"\n        height=\"100px\"\n        type=\"image\"\n      />\n    </div>\n    <div v-if=\"!loading\">\n      <!--\n        ===================================================\n        No Validators: \n        ===================================================\n      -->\n      <div\n        v-if=\"\n          (validators.length === 0 && justStakedValidator.length === 0) ||\n          (allPendingValidators.length === 0 && activeValidators.length === 0)\n        \"\n      >\n        You are currently not staking any eth.\n      </div>\n      <!--\n        ===================================================\n        Pending Validators\n        ===================================================\n        -->\n      <div v-if=\"allPendingValidators.length > 0\" class=\"pb-8\">\n        <span class=\"mew-heading-3\">Pending</span>\n        <div\n          v-for=\"(pending, idx) in allPendingValidators\"\n          :key=\"pending + idx\"\n          class=\"mt-4 d-flex flex-column align-center cursor-pointer justify-space-between\"\n        >\n          <!--\n          ===================================================\n          Pending Validators (Header)\n          ===================================================\n          -->\n          <div\n            :class=\"[\n              'rounded-t-lg header-container greyLight pa-5 full-width d-flex flex-row align-center justify-space-between',\n              isExpanded(idx) ? 'rounded-t-lg' : 'rounded-lg'\n            ]\"\n            @click=\"expand(idx)\"\n          >\n            <div class=\"left-container d-flex\">\n              <img :src=\"iconETHNavy\" height=\"22\" alt=\"ethereum\" />\n              <div class=\"ml-3\">\n                <div class=\"mew-heading-3\">\n                  {{ pending.amount }} <span class=\"mew-caption\">ETH</span>\n                </div>\n                <div class=\"textMedium--text mt-1\">\n                  {{ pending.amountFiat }}\n                </div>\n              </div>\n            </div>\n            <div>\n              <v-progress-circular\n                size=\"18\"\n                width=\"2\"\n                color=\"greenPrimary\"\n                indeterminate\n              />\n              <v-icon class=\"ml-5\" color=\"greyPrimary\" size=\"22\">{{\n                isExpanded(idx) ? 'mdi-chevron-up' : 'mdi-chevron-down'\n              }}</v-icon>\n            </div>\n          </div>\n          <!--\n          ===================================================\n          Pending Validators (Details Expanded)\n          ===================================================\n          -->\n          <div\n            v-if=\"isExpanded(idx)\"\n            class=\"border-container rounded-b-lg full-width pa-5\"\n          >\n            <div class=\"mt-5 mb-8 font-weight-bold\">More Info</div>\n            <!--\n            ===================================================\n            Pending Status (Created - Processing)\n            ===================================================\n            -->\n            <div\n              v-if=\"pending.status.toLowerCase() === STATUS_TYPES.CREATED\"\n              class=\"d-flex\"\n            >\n              <v-progress-circular\n                class=\"ml-4\"\n                size=\"18\"\n                width=\"2\"\n                color=\"greenPrimary\"\n                indeterminate\n              />\n              <span class=\"ml-2\">{{\n                !pending.justStaked || txReceipt ? 'Processing' : 'Sending'\n              }}</span>\n            </div>\n            <!--\n            ===================================================\n            Pending Status (Deposited)\n            ===================================================\n            -->\n            <div\n              v-if=\"\n                pending.status.toLowerCase() === STATUS_TYPES.DEPOSITED ||\n                pending.status.toLowerCase() === STATUS_TYPES.PENDING\n              \"\n              class=\"d-flex\"\n            >\n              <v-icon size=\"20\" color=\"greenPrimary\">mdi-check-circle</v-icon>\n              <span class=\"ml-2\">Deposited</span>\n            </div>\n            <!--\n    ===================================================\n    Pending Status (Failed)\n    ===================================================\n    -->\n            <div\n              v-if=\"pending.status.toLowerCase() === STATUS_TYPES.FAILED\"\n              class=\"d-flex align-center\"\n            >\n              <v-icon size=\"20\" color=\"redPrimary\">mdi-close-circle</v-icon>\n              <span class=\"ml-2\">Failed</span>\n            </div>\n            <!--\n    ===================================================\n    Etherscan/EthVM Links\n    ===================================================\n    -->\n            <div class=\"d-flex mt-6\">\n              <a\n                v-if=\"pending.etherscanUrl\"\n                rel=\"noopener noreferrer\"\n                class=\"font-weight-medium\"\n                :href=\"pending.etherscanUrl\"\n                target=\"_blank\"\n                >View on Etherscan\n                <v-icon color=\"greenPrimary\" size=\"14\"\n                  >mdi-open-in-new</v-icon\n                ></a\n              >\n              <a\n                v-if=\"pending.ethVmUrl && !onGoerli\"\n                rel=\"noopener noreferrer\"\n                class=\"font-weight-medium ml-5\"\n                :href=\"pending.ethVmUrl\"\n                target=\"_blank\"\n                >View on EthVM\n                <v-icon color=\"greenPrimary\" size=\"14\"\n                  >mdi-open-in-new</v-icon\n                ></a\n              >\n            </div>\n            <!--\n    ===================================================\n    Waiting for validator activation \n    ===================================================\n    -->\n            <div\n              v-if=\"\n                pending.status.toLowerCase() === STATUS_TYPES.DEPOSITED ||\n                pending.status.toLowerCase() === STATUS_TYPES.PENDING\n              \"\n              class=\"d-flex flex-column mt-9\"\n            >\n              <div class=\"d-flex align-center\">\n                <v-progress-circular\n                  size=\"18\"\n                  width=\"2\"\n                  color=\"greenPrimary\"\n                  indeterminate\n                />\n                <span class=\"ml-2\">Waiting for validator activation</span>\n              </div>\n              <span class=\"mew-label font-weight-medium textLight--text mt-1\"\n                >Estimated wait time: {{ pending.estimatedWaitTime }}\n              </span>\n              <a\n                v-if=\"pending.url\"\n                rel=\"noopener noreferrer\"\n                class=\"font-weight-medium mt-5\"\n                :href=\"pending.url\"\n                target=\"_blank\"\n                >Eth2 Beacon Chain transactions\n                <v-icon color=\"greenPrimary\" size=\"14\"\n                  >mdi-open-in-new</v-icon\n                ></a\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n      <!--\n    ===================================================\n    Active Validators\n    ===================================================\n    -->\n      <div v-if=\"activeValidators.length > 0\">\n        <span class=\"mew-heading-3\">Active</span>\n        <div\n          v-for=\"(active, idx) in activeValidators\"\n          :key=\"active + idx\"\n          class=\"border-container rounded-lg pa-5 mt-4 d-flex justify-space-between\"\n        >\n          <div class=\"left-container d-flex\">\n            <img :src=\"iconETHNavy\" height=\"26\" alt=\"ethereum\" />\n            <div class=\"left-container-details ml-3\">\n              <div class=\"mew-heading-2\">\n                {{ active.totalBalanceETH + ' ETH' }}\n              </div>\n              <div class=\"font-weight-medium mt-1\">\n                {{ active.totalBalanceFiat }}\n              </div>\n              <div class=\"textLight--text mt-2\">\n                Earned\n                <span class=\"greenPrimary--text\">{{\n                  convertTotalReward(\n                    active.detailed_balance_info.total_reward_and_fees,\n                    active.detailed_balance_info.conversion_factor_power\n                  ) + ' ETH'\n                }}</span>\n                <br />\n                Average APR {{ active.averageApr }}\n              </div>\n              <mew-button\n                class=\"mt-1\"\n                :title=\"\n                  !active.withdrawal_set\n                    ? 'Set withdrawal address'\n                    : 'Already set'\n                \"\n                :disabled=\"active.withdrawal_set\"\n                btn-size=\"medium\"\n                @click.native=\"\n                  () => {\n                    openModal(active);\n                  }\n                \"\n              />\n            </div>\n          </div>\n          <div>\n            <a\n              rel=\"noopener noreferrer\"\n              class=\"font-weight-medium\"\n              :href=\"active.url\"\n              target=\"_blank\"\n              >View validator\n              <v-icon color=\"greenPrimary\" size=\"14\">mdi-open-in-new</v-icon></a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapState, mapActions } from 'vuex';\nimport BigNumber from 'bignumber.js';\nimport moment from 'moment';\nimport {\n  keystoreToBLSExecution,\n  mnemonicToBLSExecution\n} from '@myetherwallet/eth2-keystore';\n\nimport configNetworkTypes from '@/dapps/staked-dapp/handlers/configNetworkTypes';\nimport {\n  formatFloatingPointValue,\n  formatPercentageValue\n} from '@/core/helpers/numberFormatHelper';\nimport { STATUS_TYPES } from '@/dapps/staked-dapp/handlers/handlerStaked';\nimport { GOERLI } from '@/utils/networks/types';\nimport {\n  Toast,\n  ERROR,\n  SUCCESS,\n  WARNING\n} from '@/modules/toast/handler/handlerToast';\nimport { SOFTWARE_WALLET_TYPES } from '@/modules/access-wallet/software/handlers/helpers.js';\n\nimport iconETHNavy from '@/assets/images/currencies/eth-dark-navy.svg';\nimport { isEmpty } from 'lodash';\n\nexport default {\n  components: {\n    phraseBlock: () => import('@/components/PhraseBlock'),\n    ModuleAddressBook: () => import('@/modules/address-book/ModuleAddressBook')\n  },\n  props: {\n    validators: {\n      type: Array,\n      default: () => []\n    },\n    pendingHash: {\n      type: String,\n      default: ''\n    },\n    txReceipt: {\n      type: Boolean,\n      default: true\n    },\n    loading: {\n      type: Boolean,\n      default: true\n    },\n    amount: {\n      type: Number,\n      default: 0\n    },\n    refetchValidators: {\n      type: Function,\n      default: () => {}\n    }\n  },\n  data() {\n    return {\n      iconETHNavy: iconETHNavy,\n      expanded: 0,\n      STATUS_TYPES: STATUS_TYPES,\n      openWithdrawalModal: false,\n      selectedValidator: null,\n      step: 1,\n      executionAddress: '',\n      isValidAddress: false,\n      selectedRecoveryType: '',\n      file: {},\n      password: '',\n      blsExecution: '',\n      phrase: {},\n      length: 24,\n      loadingButton: false\n    };\n  },\n  computed: {\n    ...mapState('wallet', ['address']),\n    ...mapState('global', ['preferredCurrency']),\n    ...mapState('external', ['currencyRate']),\n    ...mapState('stakedStore', ['validatorIndex']),\n    ...mapGetters('external', ['fiatValue']),\n    ...mapGetters('global', ['network', 'getFiatValue']),\n    nextButton() {\n      const obj = {\n        title: 'Next',\n        disabled: false,\n        fn: this.nextStep\n      };\n      if (this.step === 1) {\n        return Object.assign({}, obj, {\n          disabled: !this.isValidAddress && this.executionAddress !== '',\n          fn: this.nextStep\n        });\n      }\n      if (this.step === 3) {\n        if (this.isKeystore) {\n          return Object.assign({}, obj, {\n            disabled: this.loadingButton || !this.validPassword,\n            fn: this.validateUserInputs\n          });\n        }\n\n        return Object.assign({}, obj, {\n          disabled: !this.isValidMnemonic,\n          fn: this.validateUserInputs\n        });\n      }\n      if (this.step === 4) {\n        return Object.assign({}, obj, {\n          title: 'Set withdrawal address',\n          disabled: this.loadingButton,\n          fn: this.setWithdrawalAddress\n        });\n      }\n\n      return obj;\n    },\n    phraseToLength() {\n      const phrase = Object.values(this.phrase);\n      if (phrase.length > this.length) phrase.length = this.length;\n      return phrase;\n    },\n    isValidMnemonic() {\n      return this.phraseToLength.length === this.length;\n    },\n    parsedPhrase() {\n      return this.phraseToLength.join(' ').toLowerCase();\n    },\n    /**\n     * @returns array\n     * returns button configs\n     */\n    buttons() {\n      return [\n        /* Keystore Button */\n        {\n          label: 'Keystore',\n          icon: require('@/assets/images/icons/icon-keystore-file.svg'),\n          fn: () => {\n            this.userSelectFile();\n          }\n        },\n        /* Mnemonic */\n        {\n          label: 'Mnemonic Phrase',\n          icon: require('@/assets/images/icons/icon-mnemonic.svg'),\n          fn: () => {\n            this.setType(SOFTWARE_WALLET_TYPES.MNEMONIC);\n          }\n        }\n      ];\n    },\n    /**\n     * @returns string\n     * returns currency name from current selected network\n     */\n    currencyName() {\n      return this.network.type.currencyName;\n    },\n    /**\n     * @returns array\n     * Returns all the raw objects in all the validators\n     */\n    validatorsRaw() {\n      const allRawValidators = [];\n      this.validators.map(validator => {\n        validator.raw.map(raw => {\n          allRawValidators.push(raw);\n        });\n      });\n      return allRawValidators;\n    },\n    /**\n     * @returns array\n     * Returns all the active validators with correct info\n     * includes status: ACTIVE, EXITED\n     */\n    activeValidators() {\n      return this.validatorsRaw.reduce((acc, raw) => {\n        if (\n          raw.status.toLowerCase() === STATUS_TYPES.ACTIVE ||\n          raw.status.toLowerCase() === STATUS_TYPES.EXITED\n        ) {\n          const totalBalanceETH = this.convertToEth1(\n            raw.detailed_balance_info.balance,\n            raw.detailed_balance_info.conversion_factor_power\n          );\n          const earning = new BigNumber(totalBalanceETH).minus(raw.amount);\n          acc.push(\n            Object.assign({}, raw, {\n              url: `${configNetworkTypes.network[this.network.type.name].url}${\n                raw.validator_index\n              }`,\n              earned: formatFloatingPointValue(earning).value,\n              totalBalanceETH: formatFloatingPointValue(totalBalanceETH).value,\n              totalBalanceFiat: this.getFiatValue(\n                new BigNumber(totalBalanceETH).times(this.fiatValue)\n              ),\n              averageApr: formatPercentageValue(\n                this.getAverageApr(raw.created, earning, raw.amount)\n              ).value,\n              withdrawal_set:\n                this.findValidatorIndex(raw.validator_index) ||\n                raw.withdrawal_credentials_are_eth1Address\n            })\n          );\n        }\n        return acc;\n      }, []);\n    },\n    /**\n     * @returns array\n     * Returns all the pending validators with correct info\n     * includes status: DEPOSITED, PENDING, FAILED, CREATED\n     */\n    pendingValidators() {\n      return this.validatorsRaw.reduce((acc, raw) => {\n        const nextDay = 60 * 60 * 24 * 1000;\n        const createdDate = new Date(raw.created).getTime() + nextDay;\n        const withinTheDay = new Date().getTime() <= createdDate;\n        if (\n          raw.status.toLowerCase() === STATUS_TYPES.DEPOSITED ||\n          raw.status.toLowerCase() === STATUS_TYPES.PENDING ||\n          raw.status.toLowerCase() === STATUS_TYPES.FAILED ||\n          (raw.status.toLowerCase() === STATUS_TYPES.CREATED && withinTheDay)\n        ) {\n          acc.push({\n            amount: formatFloatingPointValue(raw.amount).value,\n            amountFiat: this.getFiatValue(\n              new BigNumber(raw.amount).times(this.fiatValue)\n            ),\n            status: raw.status,\n            ethVmUrl:\n              configNetworkTypes.network[this.network.type.name].ethvmAddrUrl +\n              this.address,\n            etherscanUrl:\n              configNetworkTypes.network[this.network.type.name]\n                .etherscanAddrUrl + this.address,\n            url: raw.address\n              ? configNetworkTypes.network[this.network.type.name].url +\n                '0x' +\n                raw.address\n              : '',\n            estimatedWaitTime:\n              raw.queue && raw.queue.estimated_activation_timestamp\n                ? this.getEstimatedDuration(\n                    raw.queue.estimated_activation_timestamp\n                  )\n                : '~'\n          });\n        }\n        return acc;\n      }, []);\n    },\n    /**\n     * @returns array\n     * Returns the validator that was just staked\n     * displays after step 4 of New Stake tab\n     */\n    justStakedValidator() {\n      if (this.pendingHash) {\n        return [\n          {\n            amount: formatFloatingPointValue(this.amount).value,\n            amountFiat: this.getFiatValue(\n              new BigNumber(this.amount).times(this.fiatValue)\n            ),\n            justStaked: true,\n            status: STATUS_TYPES.CREATED,\n            ethVmUrl: this.pendingHash\n              ? configNetworkTypes.network[this.network.type.name].ethvmTxUrl +\n                this.pendingHash\n              : null,\n            etherscanUrl: this.pendingHash\n              ? configNetworkTypes.network[this.network.type.name]\n                  .etherscanTxUrl + this.pendingHash\n              : null\n          }\n        ];\n      }\n      return [];\n    },\n    /**\n     * @returns array\n     * Returns ALL the pending validators\n     * including pending validators from api and just staked validator\n     */\n    allPendingValidators() {\n      return this.justStakedValidator.concat(this.pendingValidators);\n    },\n    /**\n     * @returns object\n     * Returns the left button config for\n     * mew popup\n     */\n    leftBtn() {\n      return {\n        text: 'Cancel',\n        color: 'basic',\n        method: this.closeModal\n      };\n    },\n    /**\n     * @returns string\n     * Returns title based on current step\n     */\n    modalTitle() {\n      return this.step === 1\n        ? 'Provide withdrawal address'\n        : this.step === 2\n        ? 'Choose recovery method'\n        : this.step === 3 && this.isKeystore\n        ? 'Enter Keystore Password'\n        : this.step === 3 && this.isMnemonic\n        ? 'Enter Mnemonic Phrase'\n        : this.step === 4\n        ? 'Verify details'\n        : '';\n    },\n    /**\n     * @returns boolean\n     * returns whether selected recovery is keystore\n     */\n    isKeystore() {\n      return this.selectedRecoveryType === SOFTWARE_WALLET_TYPES.KEYSTORE;\n    },\n    /**\n     * @returns boolean\n     * returns whether selected recovery is keystore\n     */\n    isMnemonic() {\n      return this.selectedRecoveryType === SOFTWARE_WALLET_TYPES.MNEMONIC;\n    },\n    validPassword() {\n      return this.password.length > 3;\n    }\n  },\n  watch: {\n    phrase: {\n      deep: true,\n      handler: function (newval) {\n        if (newval && !isEmpty(newval) && !isEmpty(newval[1])) {\n          this.checkPhrase(newval);\n          const splitVal = newval[1].split(' ');\n          if (splitVal.length === 12 || splitVal.length === 24) {\n            this.length = splitVal.length;\n            const newObj = {};\n            splitVal.forEach((item, idx) => {\n              newObj[idx + 1] = item.toLowerCase();\n            });\n            this.phrase = newObj;\n          }\n        }\n      }\n    }\n  },\n  methods: {\n    ...mapActions('stakedStore', ['addValidatorIndex']),\n    findValidatorIndex(idx) {\n      const findIdx = !!this.validatorIndex.find(item => idx === item);\n      return !!findIdx;\n    },\n    convertTotalReward(balance, decimal) {\n      const convertedBalance = BigNumber(balance)\n        .div(BigNumber(10).pow(decimal))\n        .toString();\n      const hasEarnings = BigNumber(convertedBalance).gt(0)\n        ? convertedBalance\n        : BigNumber(0).toString();\n      if (hasEarnings.length > 10) {\n        return `${hasEarnings.slice(0, 9)}...`;\n      }\n      return hasEarnings;\n    },\n    setWithdrawalAddress() {\n      const submitSubDomain =\n        this.network.type.name === 'ETH' ? 'mainnet' : 'staging';\n      const submitEndpoint = `https://${submitSubDomain}.mewwallet.dev/v2/stake/upgrade`;\n      this.blsExecution.message.validator_index = parseInt(\n        this.blsExecution.message.validator_index\n      );\n      this.loadingButton = true;\n      fetch(submitEndpoint, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          signed: [this.blsExecution]\n        })\n      })\n        .then(res => {\n          if (res.ok) {\n            this.addValidatorIndex(this.selectedValidator.validator_index);\n            Toast('Successfully set withdrawal address!', {}, SUCCESS);\n            return;\n          }\n          return res.json().then(jsonres => {\n            if (\n              JSON.stringify(jsonres).includes(\n                'withdrawal credential prefix is not a BLS prefix'\n              )\n            ) {\n              this.addValidatorIndex(this.selectedValidator.validator_index);\n              Toast(\n                'Withdrawal credentials are already set for this validator',\n                {},\n                WARNING\n              );\n            } else {\n              Toast(jsonres.error ? jsonres.error : jsonres.msg, {}, ERROR);\n            }\n          });\n        })\n        .finally(() => {\n          this.reset();\n        });\n    },\n    checkPhrase(val) {\n      const testObj = {};\n      let changed = false;\n      Object.values(val).forEach((item, idx) => {\n        if (!isEmpty(item)) testObj[idx + 1] = item.toLowerCase();\n        else changed = true;\n      });\n      if (changed) this.phrase = testObj;\n    },\n    /**\n     * takes the keystore inputs\n     * and checks if valid\n     */\n    async validateUserInputs() {\n      this.loadingButton = true;\n      try {\n        this.validating = true;\n        const selectedNetwork =\n          this.network.type.name === 'ETH' ? 'mainnet' : 'goerli';\n        if (this.isKeystore) {\n          this.blsExecution = await keystoreToBLSExecution(\n            this.file,\n            this.password,\n            this.executionAddress,\n            this.selectedValidator.validator_index,\n            `0x${this.selectedValidator.decoded.withdrawal_credentials}`,\n            selectedNetwork\n          );\n        } else {\n          this.blsExecution = await mnemonicToBLSExecution(\n            {\n              mnemonic: this.parsedPhrase\n            },\n            this.executionAddress,\n            this.selectedValidator.validator_index,\n            `0x${this.selectedValidator.decoded.withdrawal_credentials}`,\n            selectedNetwork\n          );\n        }\n        this.loadingButton = false;\n        this.nextStep();\n      } catch (err) {\n        this.loadingButton = false;\n        Toast(err, {}, ERROR);\n        this.reset();\n      }\n    },\n    reset() {\n      if (this.$refs.addressInput) {\n        this.$refs.addressInput.clear();\n      }\n      this.openWithdrawalModal = false;\n      this.selectedValidator = null;\n      this.step = 1;\n      this.executionAddress = this.address;\n      this.isValidAddress = false;\n      this.selectedRecoveryType = '';\n      this.file = {};\n      this.password = '';\n      this.blsExecution = '';\n      this.phrase = {};\n      this.loadingButton = false;\n      this.refetchValidators();\n    },\n    /**\n     * sets selected wallet\n     */\n    setType(type) {\n      this.selectedRecoveryType = type;\n      this.nextStep();\n    },\n    /**\n     * upload keystore\n     */\n    uploadFile(e) {\n      const reader = new FileReader();\n      reader.onloadend = evt => {\n        try {\n          this.file = JSON.parse(evt.target.result);\n          this.setType(SOFTWARE_WALLET_TYPES.KEYSTORE);\n        } catch (err) {\n          Toast(err.message, {}, ERROR);\n        }\n      };\n      reader.readAsBinaryString(e.target.files[0]);\n    },\n    userSelectFile() {\n      const jsonInput = this.$refs.jsonInput;\n      jsonInput.value = '';\n      jsonInput.click();\n    },\n    /**\n     * Increments stepper\n     */\n    nextStep() {\n      this.step += 1;\n    },\n    /**\n     * Increments stepper\n     */\n    back() {\n      const jsonInput = this.$refs.jsonInput;\n      switch (this.step) {\n        case 2:\n          this.selectedRecoveryType = '';\n          jsonInput.value = '';\n          break;\n        case 3:\n          this.password = '';\n          this.phrase = {};\n          this.file = {};\n          break;\n        default:\n          break;\n      }\n      this.step -= 1;\n    },\n    /**\n     * Sets address passed from addressbook\n     */\n    setAddress(addr, isValidAddress) {\n      this.executionAddress = addr;\n      this.isValidAddress = isValidAddress;\n    },\n    /**\n     * Open modal and set selected validator\n     */\n    openModal(validator) {\n      this.selectedValidator = validator;\n      this.openWithdrawalModal = true;\n    },\n    /**\n     * Close modal and clear selected validator\n     */\n    closeModal() {\n      this.reset();\n    },\n    /**\n     * @returns BigNumber\n     * Converts the unit to ETH1 from ETH2\n     */\n    convertToEth1(balance, decimal = 9) {\n      return new BigNumber(balance).div(new BigNumber(10).pow(decimal));\n    },\n    /**\n     * @returns BigNumber\n     * Gets the average apr for a specific validator\n     */\n    getAverageApr(activationTime, earning, amountStaked) {\n      if (earning.lte(0)) {\n        return BigNumber(0);\n      }\n      const now = moment.utc();\n      const activated = moment.utc(activationTime);\n      const daysActive = now.diff(activated, 'days');\n      const percentIncrease = BigNumber(earning).div(amountStaked);\n      const percentIncreasePerDay =\n        BigNumber(percentIncrease).dividedBy(daysActive);\n      const apr = percentIncreasePerDay.times(365).times(100);\n      return new BigNumber(apr);\n    },\n    /**\n     * Sets the idx container to expand\n     */\n    expand(idx) {\n      this.expanded = this.expanded !== idx ? idx : null;\n    },\n    /**\n     * @returns boolean\n     * Returns if the pending container is expanded\n     */\n    isExpanded(idx) {\n      return this.expanded === idx;\n    },\n    /**\n     * @returns boolean\n     * Checks if its goerli\n     */\n    onGoerli() {\n      return this.network.type.name === GOERLI.name;\n    },\n    /**\n     * @returns string\n     * Returns the exact estimated wait time till activation in days, hours, minutes\n     */\n    getEstimatedDuration(timestamp) {\n      const now = moment().utc();\n      const activationTime = moment(timestamp);\n      if (now.unix() === activationTime.unix())\n        return 'Should activate momentarily';\n      return `${activationTime.diff(now, 'days')} days ${activationTime.diff(\n        now,\n        'hours'\n      )} hours and ${activationTime.diff(now, 'minutes')} minutes`;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.staked-status-container {\n  max-width: 500px;\n}\n.border-container {\n  border: 1px solid var(--v-greyLight-base);\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StakedStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StakedStatus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StakedStatus.vue?vue&type=template&id=20accb74&scoped=true&\"\nimport script from \"./StakedStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./StakedStatus.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StakedStatus.vue?vue&type=style&index=0&id=20accb74&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20accb74\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!--\n    ===================================================\n    The Staked Layout\n    ===================================================\n    -->\n  <the-wrapper-dapp\n    :is-new-header=\"true\"\n    :dapp-img=\"headerImg\"\n    :banner-text=\"header\"\n    :tab-items=\"tabs\"\n    :active-tab=\"activeTab\"\n    external-contents\n    :on-tab=\"tabChanged\"\n    :valid-networks=\"validNetworks\"\n  >\n    <!--\n    ===================================================\n    The Staked Header/Banner\n    ===================================================\n    -->\n    <template #HeaderBody>\n      <v-divider class=\"textMedium my-3\" />\n      <div class=\"d-flex flex-wrap align-center justify-center\">\n        <div class=\"text-uppercase textMedium--text font-weight-bold\">\n          Total Staked:\n          <span class=\"greenPrimary--text\">{{ totalStaked }}</span>\n        </div>\n        <v-icon color=\"textMedium\">mdi-circle-medium</v-icon>\n        <div class=\"text-uppercase textMedium--text font-weight-bold\">\n          Current APR:\n          <span class=\"greenPrimary--text\">{{ currentAprFormatted }}</span>\n        </div>\n      </div>\n      <!--\n    ===================================================\n    Menu tabs\n    ===================================================\n    -->\n      <v-btn-toggle\n        v-model=\"activeTab\"\n        class=\"d-flex align-center justify-center mt-3 white--text\"\n        mandatory\n        borderless\n        active-class=\"expandHeader font-weight-bold\"\n        background-color=\"transparent\"\n      >\n        <v-btn\n          class=\"px-md-9 white--text text-transform--initial\"\n          :class=\"activeTab === 0 ? 'staked-tab-active' : 'staked-tab-inactive'\"\n          color=\"\"\n        >\n          New stake\n        </v-btn>\n        <v-btn\n          :class=\"[\n            'px-md-9 white--text text-transform--initial d-flex  flex-column align-center',\n            activeTab === 1 ? 'staked-tab-active' : 'staked-tab-inactive'\n          ]\"\n          color=\"\"\n        >\n          <div>\n            <div\n              :class=\"[\n                'white--text',\n                activeTab === 1 ? 'font-weight-medium' : ''\n              ]\"\n            >\n              My stake\n            </div>\n            <div v-if=\"!loadingValidators\" class=\"mew-caption textLight--text\">\n              {{ !loadingValidators ? myETHTotalStaked : '--' }}\n            </div>\n          </div>\n        </v-btn>\n      </v-btn-toggle>\n    </template>\n    <!--\n    ===================================================\n    Info Link\n    ===================================================\n    -->\n    <template #HeaderRight>\n      <div class=\"text-right\">\n        <a\n          :href=\"getArticle('stake-eth2-mew-web')\"\n          target=\"_blank\"\n          class=\"greenPrimary--text font-weight-medium text-right\"\n        >\n          New to staking? Learn more\n          <v-icon class=\"ml-1\" small color=\"greenPrimary\"\n            >mdi-open-in-new</v-icon\n          >\n        </a>\n      </div>\n    </template>\n\n    <!--\n    ===================================================\n    New Stake Tab\n    ===================================================\n    -->\n    <template #tabContent1>\n      <v-sheet\n        min-height=\"500px\"\n        max-width=\"700px\"\n        color=\"transparent\"\n        class=\"mx-auto\"\n      >\n        <staked-stepper\n          ref=\"stakedStepper\"\n          :current-apr=\"handlerStaked.apr\"\n          :start-provision=\"startProvision\"\n          :polling-status=\"pollingStatus\"\n          @readyToStake=\"sendTransaction\"\n        />\n      </v-sheet>\n    </template>\n    <!--\n    ===================================================\n    My Stake tab\n    ===================================================\n    -->\n    <template #tabContent2>\n      <v-sheet\n        min-height=\"500px\"\n        max-width=\"700px\"\n        color=\"transparent\"\n        class=\"py-13 mx-auto\"\n      >\n        <staked-status\n          :tx-receipt=\"handlerStaked.txReceipt\"\n          :pending-hash=\"pendingTxHash\"\n          :validators=\"validators\"\n          :loading=\"loadingValidators\"\n          :amount=\"amount\"\n          :refetch-validators=\"refetchValidators\"\n        />\n      </v-sheet>\n    </template>\n  </the-wrapper-dapp>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex';\nimport { SUPPORTED_NETWORKS } from './handlers/supportedNetworks';\nimport { STAKED_ROUTE } from './configsRoutes';\nimport {\n  formatPercentageValue,\n  formatFloatingPointValue\n} from '@/core/helpers/numberFormatHelper';\n\nimport StakedStatus from './components/StakedStatus';\n\nimport handlerStaked from './handlers/handlerStaked';\nexport default {\n  name: 'TheStakedLayout',\n  components: {\n    TheWrapperDapp: () => import('@/core/components/TheWrapperDapp'),\n    StakedStepper: () => import('./components/staked-stepper/StakedStepper'),\n    'staked-status': StakedStatus\n  },\n  data() {\n    return {\n      validNetworks: SUPPORTED_NETWORKS,\n      headerImg: require('@/assets/images/icons/dapps/icon-dapp-stake.svg'),\n      amount: 0,\n      header: {\n        title: 'Ethereum 2.0 staking',\n        subtext:\n          'Stake on Ethereum 2.0 and earn continuous rewards for providing a public good to the community.',\n        subtextClass: 'textMedium--text'\n      },\n      activeTab: 0,\n      handlerStaked: {},\n      tabs: [\n        {\n          name: 'Stake',\n          route: { name: STAKED_ROUTE.STAKED.NAME },\n          id: 0\n        },\n        {\n          name: 'Status',\n          route: {\n            name: STAKED_ROUTE.STATUS.NAME,\n            path: STAKED_ROUTE.STATUS.PATH\n          },\n          id: 1\n        }\n      ]\n    };\n  },\n  computed: {\n    ...mapState('wallet', ['web3', 'address']),\n    ...mapGetters('global', ['network']),\n    ...mapGetters('article', ['getArticle']),\n    /**\n     * Total staked by user\n     * @returns string\n     */\n    myETHTotalStaked() {\n      return (\n        formatFloatingPointValue(this.handlerStaked.myETHTotalStaked).value +\n        ' ETH'\n      );\n    },\n    /**\n     * Total Staked\n     * @returns string\n     */\n    totalStaked() {\n      return (\n        formatFloatingPointValue(this.handlerStaked.totalStaked).value + ' ETH'\n      );\n    },\n    /**\n     * Current APR Formatted\n     * @returns string\n     */\n    currentAprFormatted() {\n      if (this.handlerStaked.apr > 0) {\n        return formatPercentageValue(this.handlerStaked.apr).value;\n      }\n      return '--';\n    },\n    /**\n     * Gets the status after polling (happens on step4)\n     * @returns object\n     */\n    pollingStatus() {\n      return this.handlerStaked.pollingStatus;\n    },\n    /**\n     * Gets the clients validators\n     * @returns array\n     */\n    validators() {\n      return this.handlerStaked.myValidators;\n    },\n    /**\n     * Checks if validators are loading\n     * @returns boolean\n     */\n    loadingValidators() {\n      return this.handlerStaked.loadingValidators;\n    },\n    /**\n     * Checks for pending tx hash\n     * @returns string\n     */\n    pendingTxHash() {\n      return this.handlerStaked.pendingTxHash;\n    },\n    isValidNetwork() {\n      const chainID = this.network.type.chainID;\n      const validChain = this.validNetworks.filter(\n        item => item.chainID === chainID\n      );\n      return validChain.length > 0;\n    }\n  },\n  watch: {\n    $route() {\n      this.detactUrlChangeTab();\n    },\n    /**\n     * @watches pendingTxHash (comes after send transaction)\n     * if it gets set then go to staked status\n     */\n    pendingTxHash(newVal) {\n      if (newVal !== '') {\n        this.activeTab = 1;\n      }\n      if (this.$refs.stakedStepper) {\n        this.$refs.stakedStepper.reset();\n      }\n    },\n    /*\n    - watches for address state change\n    - updates handlerStaked with new address\n    - if user is currently onStep within the stakeStepper component, it will run the reset function\n    */\n    address(newVal) {\n      this.handlerStaked.address = newVal;\n      if (this.$refs.stakedStepper) {\n        this.$refs.stakedStepper.reset();\n      }\n    }\n  },\n  mounted() {\n    /**\n     * Check url and change tab on load\n     */\n    this.detactUrlChangeTab();\n\n    /**\n     * Initiate Stake Handler\n     */\n    if (this.isValidNetwork) {\n      this.handlerStaked = new handlerStaked(\n        this.web3,\n        this.network,\n        this.address\n      );\n    }\n  },\n  methods: {\n    detactUrlChangeTab() {\n      const currentRoute = this.$route.name;\n      if (currentRoute === STAKED_ROUTE.STATUS.NAME) {\n        this.activeTab = this.tabs[1].id;\n      } else {\n        this.activeTab = this.tabs[0].id;\n      }\n    },\n    tabChanged(tab) {\n      this.activeTab = tab;\n    },\n    /**\n     * Start provisioning\n     */\n    startProvision(params) {\n      return this.handlerStaked.startProvision(params);\n    },\n    /**\n     * Send transaction to confirm staking\n     * and set amount value for staked status\n     */\n    sendTransaction(amountETH) {\n      this.handlerStaked.sendTransaction();\n      this.amount = amountETH;\n    },\n    /**\n     * refetch validators\n     */\n    refetchValidators() {\n      this.handlerStaked.getValidators();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.staked-tab-inactive {\n  background-color: rgba(0, 0, 0, 0.24) !important;\n}\n.staked-tab-active::before {\n  opacity: 0 !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheStakedLayout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheStakedLayout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TheStakedLayout.vue?vue&type=template&id=75579cc4&scoped=true&\"\nimport script from \"./TheStakedLayout.vue?vue&type=script&lang=js&\"\nexport * from \"./TheStakedLayout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TheStakedLayout.vue?vue&type=style&index=0&id=75579cc4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75579cc4\",\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios';\nimport BigNumber from 'bignumber.js';\nimport configNetworkTypes from './configNetworkTypes';\nimport calculateEth2Rewards from './helpers';\nimport { Toast, ERROR } from '@/modules/toast/handler/handlerToast';\nimport { toBN } from 'web3-utils';\nimport handleError from '@/modules/confirmation/handlers/errorHandler';\n\n/**\n * ABI to get fees\n * from batch contract\n */\nconst ABI_GET_VALIDATORS = [\n  {\n    inputs: [],\n    name: 'get_deposit_count',\n    outputs: [\n      {\n        internalType: 'bytes',\n        name: '',\n        type: 'bytes'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\nconst ABI_GET_FEES = [\n  {\n    inputs: [\n      {\n        internalType: 'uint256',\n        name: 'numValidators',\n        type: 'uint256'\n      }\n    ],\n    name: 'getFees',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\n/**\n * Validator status types\n */\nconst STATUS_TYPES = {\n  PENDING: 'pending',\n  ACTIVE: 'active',\n  CREATED: 'created',\n  DEPOSITED: 'deposited',\n  FAILED: 'failed',\n  EXITED: 'exited'\n};\n\nexport { ABI_GET_FEES, STATUS_TYPES };\nexport default class Staked {\n  constructor(web3, network, address) {\n    /**\n     * set up the variables\n     */\n    this.web3 = web3;\n    this.network = network;\n    this.address = address;\n    this.totalStaked = '';\n    this.apr = '';\n    this.validatorsCount = '';\n    this.pollingStatus = {};\n    this.transactionData = {};\n    this.myValidators = [];\n    this.loadingValidators = false;\n    this.myETHTotalStaked = 0;\n    this.pendingTxHash = '';\n    this.txReceipt = false;\n    this.endpoint = configNetworkTypes.network[this.network.type.name].endpoint;\n    /**\n     * get the initial data (total staked, apr, validators)\n     */\n    this.getTotalStakedAndAPR();\n    this.getValidators();\n  }\n  /**\n   * Get the total staked and current APR\n   */\n  getTotalStakedAndAPR() {\n    this.eth2ContractAddress =\n      configNetworkTypes.network[this.network.type.name].depositAddress;\n    const depositContract = new this.web3.eth.Contract(\n      ABI_GET_VALIDATORS,\n      this.eth2ContractAddress\n    );\n    depositContract.methods\n      .get_deposit_count()\n      .call()\n      .then(lebytes => {\n        const numValidators = toBN(\n          '0x' + Buffer.from(lebytes.substr(2), 'hex').reverse().toString('hex')\n        );\n        this.totalStaked = numValidators.muln(32).toString();\n        this.apr = new BigNumber(\n          calculateEth2Rewards({ totalAtStake: this.totalStaked })\n        )\n          .times(100)\n          .toFixed();\n      })\n      .catch(err => {\n        Toast(err, {}, ERROR);\n      });\n  }\n  /**\n   * Get clients validators\n   * and get clients total staked\n   */\n  getValidators() {\n    this.loadingValidators = true;\n    return axios\n      .get(`${this.endpoint}/history?address=${this.address}`, {\n        header: {\n          'Content-Type': 'application/json'\n        }\n      })\n      .then(resp => {\n        this.myValidators = resp.data;\n        this.myETHTotalStaked = resp.data.reduce((total, val) => {\n          const raw = val.raw[0];\n          const balanceETH =\n            raw.status.toLowerCase() === STATUS_TYPES.ACTIVE && raw.balance\n              ? this.convertToEth1(raw.balance).toFixed()\n              : 0;\n          return new BigNumber(total).plus(balanceETH);\n        }, 0);\n        this.loadingValidators = false;\n      })\n      .catch(err => {\n        this.loadingValidators = false;\n        this.myValidators = [];\n        if (\n          err.response &&\n          err.response.status === 404 &&\n          err.response.data.msg === 'No matching history found'\n        ) {\n          return;\n        }\n        Toast(err, {}, ERROR);\n      });\n  }\n  /**\n   * Start provisioning and get the\n   * provisoning request uuid to start polling\n   */\n  async startProvision(params) {\n    this.validatorsCount = params.count;\n    await axios\n      .post(\n        this.endpoint + '/v2/provision',\n        {\n          address: this.address,\n          eth1Address: params.eth2Address,\n          validatorsCount: params.count\n        },\n        {\n          header: {\n            'Content-Type': 'application/json'\n          }\n        }\n      )\n      .then(response => {\n        return response && response.data.provisioning_request_uuid\n          ? this.startPolling(response.data.provisioning_request_uuid)\n          : Toast(this.$t('dappsStaked.error-try-again'), {}, ERROR);\n      })\n      .catch(err => {\n        this.pollingStatus = { success: false, error: err };\n      });\n  }\n  /**\n   * Start polling every 5000 ms\n   * sets pollingStatus for UI\n   */\n  startPolling(uuid) {\n    let prevReqComplete = true;\n    const interval = setInterval(() => {\n      if (!prevReqComplete) return;\n      prevReqComplete = false;\n      return axios\n        .get(`${this.endpoint}/status?provisioning_request_uuid=${uuid}`, {\n          header: {\n            'Content-Type': 'application/json'\n          }\n        })\n        .then(response => {\n          prevReqComplete = true;\n          if (\n            response &&\n            response.data &&\n            response.data.raw.length === parseInt(this.validatorsCount)\n          ) {\n            this.pollingStatus = { success: true };\n            this.transactionData = response.data.transaction;\n            clearInterval(interval);\n          }\n        })\n        .catch(err => {\n          prevReqComplete = true;\n          if (\n            (err.response &&\n              err.response.status === 424 &&\n              err.response.data.msg ===\n                'Not all validators have been provisioned') ||\n            (err.response &&\n              err.response.status === 404 &&\n              err.response.data.msg ===\n                'Requested provisioning_request_uuid not found')\n          ) {\n            return;\n          }\n          this.pollingStatus = { success: false, error: err.response };\n        });\n    }, 5000);\n  }\n  /**\n   * Send tx to confirm staking\n   */\n  sendTransaction() {\n    this.transactionData.from = this.address;\n    this.transactionData.to =\n      configNetworkTypes.network[this.network.type.name].batchContract;\n    this.web3.eth\n      .sendTransaction(this.transactionData)\n      .on('transactionHash', res => {\n        this.pendingTxHash = res;\n      })\n      .on('receipt', () => {\n        this.txReceipt = true;\n      })\n      .catch(err => {\n        const error = handleError(err);\n        if (error) Toast(err, {}, ERROR);\n      });\n  }\n  /**\n   * @returns BigNumber\n   * Converts the unit to ETH1 from ETH2\n   */\n  convertToEth1(balance) {\n    return new BigNumber(balance).div(new BigNumber(10).pow(9));\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheStakedLayout.vue?vue&type=style&index=0&id=75579cc4&prod&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/eth-dark-navy.ad11058d.svg\";","module.exports = __webpack_public_path__ + \"img/icon-mnemonic.7c3d34fc.svg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StakedStatus.vue?vue&type=style&index=0&id=20accb74&prod&lang=scss&scoped=true&\"","export default {\n  network: {\n    GOERLI: {\n      depositAddress: '0xff50ed3d0ec03aC01D4C79aAd74928BFF48a7b2b',\n      endpoint: 'https://stakedtest.mewapi.io',\n      batchContract: '0xb483b22ee2097ee081fb2ce7aefcc776889f11a9',\n      url: 'https://goerli.beaconcha.in/validator/',\n      etherscanTxUrl: 'https://goerli.etherscan.io/tx/',\n      etherscanAddrUrl: 'https://goerli.etherscan.io/address/'\n    },\n    ETH: {\n      depositAddress: '0x00000000219ab540356cBB839Cbe05303d7705Fa',\n      endpoint: 'https://staked.mewapi.io',\n      batchContract: '0xF243A92eB7D4B4F6A00A57888B887bd01ec6fd12',\n      url: 'https://beaconcha.in/validator/',\n      etherscanTxUrl: 'https://etherscan.io/tx/',\n      ethvmTxUrl: 'https://www.ethvm.com/tx/',\n      etherscanAddrUrl: 'https://etherscan.io/address/',\n      ethvmAddrUrl: 'https://www.ethvm.com/address/'\n    }\n  }\n};\n","const calculateEth2Rewards = ({\n  slotTimeInSec = 12,\n  slotsInEpoch = 32,\n  baseRewardFactor = 64,\n  totalAtStake = 1_000_000,\n  baseRewardsPerEpoch = 4,\n  baseRewardsPropotionalValidators = 3,\n  averageNetworkPctOnline = 0.95,\n  oneSlotLatePenalty = 0.0156,\n  vaildatorUptime = 0.99,\n  validatorDeposit = 32\n}) => {\n  // Calculate number of epochs per year\n  const avgSecInYear = 31556908.8; // 60 * 60 * 24 * 365.242\n  const epochPerYear = avgSecInYear / (slotTimeInSec * slotsInEpoch);\n\n  // Calculate base reward for full validator (in gwei)\n  const baseGweiRewardFullValidator =\n    (32 * 10e8 * baseRewardFactor) /\n    (totalAtStake * 10e8) ** 0.5 /\n    baseRewardsPerEpoch;\n\n  // Calculate offline per-validator penalty per epoch (in gwei)\n  const offlineEpochGweiPentalty = baseGweiRewardFullValidator * 4;\n\n  // Calculate online per-validator reward per epoch (in gwei)\n  const fullUptimeValidatorRewards =\n    baseGweiRewardFullValidator *\n    baseRewardsPropotionalValidators *\n    averageNetworkPctOnline;\n  const oneEighthReward =\n    0.125 * baseGweiRewardFullValidator * averageNetworkPctOnline;\n  const rewardAdjModifier =\n    averageNetworkPctOnline +\n    averageNetworkPctOnline *\n      (1 - averageNetworkPctOnline) *\n      (1 - oneSlotLatePenalty) +\n    averageNetworkPctOnline *\n      (1 - averageNetworkPctOnline) ** 2 *\n      (1 - 2 * oneSlotLatePenalty);\n  const sevenEighthsReward =\n    0.875 * baseGweiRewardFullValidator * rewardAdjModifier;\n  const onlineEpochGweiReward =\n    fullUptimeValidatorRewards + oneEighthReward + sevenEighthsReward;\n\n  // Calculate net yearly staking reward (in gwei)\n  const reward = onlineEpochGweiReward * vaildatorUptime;\n  const penalty = offlineEpochGweiPentalty * (1 - vaildatorUptime);\n  const netRewardPerYear = epochPerYear * (reward - penalty);\n\n  // Return net yearly staking reward percentage\n  return netRewardPerYear / 10e8 / validatorDeposit;\n};\n\nexport default calculateEth2Rewards;\n"],"sourceRoot":""}