{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/_version.js","webpack:///./node_modules/@ethereumjs/tx/dist.browser/eip2930Transaction.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/@ethereumjs/tx/dist.browser/legacyTransaction.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createSuper.js","webpack:///./node_modules/@ethersproject/hash/lib.esm/id.js","webpack:///./node_modules/@ethersproject/address/lib.esm/_version.js","webpack:///./node_modules/@ethersproject/address/lib.esm/index.js","webpack:///./node_modules/@ethereumjs/common/dist.browser/eips/index.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/index.js","webpack:///./node_modules/@ethereumjs/tx/dist.browser/baseTransaction.js","webpack:///./node_modules/@ethereumjs/tx/dist.browser/eip1559Transaction.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js","webpack:///./node_modules/@ethersproject/strings/lib.esm/_version.js","webpack:///./node_modules/@ethersproject/strings/lib.esm/utf8.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@ethersproject/bytes/lib.esm/_version.js","webpack:///./node_modules/@ethersproject/bytes/lib.esm/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/coders/address.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/coders/anonymous.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/coders/array.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/coders/boolean.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/coders/bytes.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/coders/fixed-bytes.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/coders/null.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/coders/number.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/coders/string.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/coders/tuple.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/abi-coder.js","webpack:///./node_modules/@ethersproject/transactions/lib.esm/_version.js","webpack:///./node_modules/@ethersproject/transactions/lib.esm/index.js","webpack:///./node_modules/@ethereumjs/common/dist.browser/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@ethereumjs/common/dist.browser/hardforks/index.js","webpack:///./node_modules/@ethereumjs/tx/dist.browser/types.js","webpack:///./node_modules/@ethersproject/keccak256/lib.esm/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@ethersproject/properties/lib.esm/_version.js","webpack:///./node_modules/@ethersproject/properties/lib.esm/index.js","webpack:///./node_modules/@ethersproject/constants/lib.esm/bignumbers.js","webpack:///./node_modules/@ethereumjs/common/dist.browser/chains/index.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/interface.js","webpack:///./node_modules/@ethersproject/bignumber/lib.esm/_version.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@ethersproject/signing-key/lib.esm/_version.js","webpack:///./node_modules/@ethersproject/signing-key/lib.esm/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./node_modules/@ethereumjs/tx/dist.browser/util.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@ethersproject/abi/lib.esm/fragments.js","webpack:///./node_modules/@ethersproject/signing-key/lib.esm/elliptic.js","webpack:///./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","webpack:///./node_modules/@ethereumjs/tx/dist.browser/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@ethersproject/rlp/lib.esm/_version.js","webpack:///./node_modules/@ethersproject/rlp/lib.esm/index.js","webpack:///./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js","webpack:///./node_modules/@ethereumjs/tx/dist.browser/transactionFactory.js","webpack:///./node_modules/@ethersproject/logger/lib.esm/_version.js","webpack:///./node_modules/@ethersproject/logger/lib.esm/index.js"],"names":["_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","version","__extends","this","extendStatics","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","TypeError","String","__","create","__assign","assign","t","s","i","arguments","length","apply","__read","m","Symbol","iterator","r","e","ar","next","done","push","value","error","defineProperty","exports","ethereumjs_util_1","baseTransaction_1","types_1","util_1","TRANSACTION_TYPE","TRANSACTION_TYPE_BUFFER","Buffer","padStart","AccessListEIP2930Transaction","_super","txData","opts","_a","_b","_this","type","DEFAULT_HARDFORK","chainId","accessList","gasPrice","common","_getCommon","chainIdBN","isActivatedEIP","Error","activeCapabilities","concat","accessListData","AccessLists","getAccessListData","AccessListJSON","verifyAccessList","BN","toBuffer","_validateCannotExceedMaxInteger","mul","gasLimit","gt","MAX_INTEGER","msg","_errorMsg","v","eqn","gteHardfork","N_DIV_2","checkMaxInitCodeSize","data","freeze","get","enumerable","configurable","fromTxData","fromSerializedTx","serialized","equals","values","rlp","decode","isArray","fromValuesArray","fromRlpSerializedTx","nonce","to","validateNoLeadingZeroes","emptyAccessList","undefined","getDataFee","cache","dataFee","hardfork","cost","iaddn","getDataFeeEIP2930","isFrozen","getUpfrontCost","add","raw","bnToUnpaddedBuffer","buf","serialize","base","encode","getMessageToSign","hashMessage","message","keccak256","hash","isSigned","getMessageToVerifySignature","getSenderPublicKey","msgHash","yParity","ecrecover","addn","_processSignature","txOptions","toJSON","accessListJSON","getAccessListJSON","bnToHex","errorStr","_getSharedErrorPostfix","BaseTransaction","default","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","Promise","then","_asyncToGenerator","fn","self","args","err","Transaction","_validateTxV","chainIdDoubled","muln","eq","Capability","EIP155ReplayProtection","_getMessageToSign","supports","unpadBuffer","rlphash","vBN","iadd","ltn","isValidEIP155V","numSub","subn","isEven","divn","_unsignedTxImplementsEIP155","_signedTxImplementsEIP155","onEIP155BlockOrLater","vAndChainIdMeetEIP155Conditions","_assertThisInitialized","ReferenceError","_inherits","subClass","superClass","writable","_arrayWithoutHoles","arr","_iterableToArray","iter","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_possibleConstructorReturn","_typeof","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","result","Super","getPrototypeOf","NewTarget","possibleConstructorReturn","id","text","logger","getChecksumAddress","address","throwArgumentError","toLowerCase","chars","substring","split","expanded","Uint8Array","charCodeAt","hashed","toUpperCase","join","MAX_SAFE_INTEGER","log10","x","Math","log","LN10","ibanLookup","fromCharCode","safeDigits","floor","ibanChecksum","map","c","block","parseInt","checksum","getAddress","match","isAddress","getIcapAddress","base36","getContractAddress","transaction","toHexString","getCreate2Address","salt","initCodeHash","EIPs","1153","1559","2315","2537","2565","2718","2929","2930","3198","3529","3540","3541","3554","3607","3651","3670","3675","3855","3860","4345","4399","5133","__createBinding","k","k2","desc","getOwnPropertyDescriptor","__esModule","__setModuleDefault","__importStar","mod","__values","common_1","DEFAULT_CHAIN","Chain","Mainnet","Hardfork","Istanbul","_type","toNumber","toB","vB","rB","sB","Address","capability","includes","validate","stringError","errors","getBaseFee","verifySignature","fee","param","toCreationAddress","txDataZero","txDataNonZero","dataLength","ceil","initCodeCost","imuln","publicKey","getSenderAddress","publicToAddress","sign","privateKey","hackApplied","ecsign","tx","index","indexOf","splice","copy","isSupportedChainId","chain","forCustomChain","networkId","bits","cannotEqual","e_1","entries","_c","_d","gte","MAX_UINT64","e_1_1","return","bufferToHex","hf","postfix","FeeMarketEIP1559Transaction","maxFeePerGas","maxPriorityFeePerGas","lt","baseFee","inclusionFeePerGas","min","sub","checkResultErrors","checkErrors","path","object","childPath","Coder","localName","dynamic","Writer","wordSize","_data","_dataLength","_padding","writer","_writeData","bytes","paddingOffset","throwError","BUFFER_OVERRUN","offset","_getValue","Reader","coerceFunc","allowLoose","_offset","_coerceFunc","coerce","loose","alignedLength","_peekBytes","readBytes","UnicodeNormalizationForm","Utf8ErrorReason","errorFunc","reason","output","badCodepoint","ignoreFunc","BAD_PREFIX","UNEXPECTED_CONTINUE","OVERRUN","replaceFunc","OVERLONG","Utf8ErrorFuncs","ignore","replace","getUtf8CodePoints","onError","extraLength","overlongMask","res","j","nextChar","MISSING_CONTINUE","OUT_OF_RANGE","UTF16_SURROGATE","toUtf8Bytes","str","form","current","checkNormalize","normalize","c2","pair","escapeChar","hex","_toEscapedUtf8String","codePoint","_toUtf8String","codePoints","toUtf8String","toUtf8CodePoints","obj","isHexable","addSlice","array","isBytesLike","isHexString","isBytes","isInteger","arrayify","options","checkSafeUint53","unshift","allowMissingPrefix","hexPad","items","objects","item","reduce","accum","set","stripZeros","start","zeroPad","HexCharacters","hexlify","hexDataLength","hexDataSlice","endOffset","hexConcat","forEach","hexValue","trimmed","hexStripZeros","hexZeroPad","splitSignature","signature","_vs","recoveryParam","yParityAndS","compact","vs","recId","joinSignature","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","_objectSpread2","target","source","getOwnPropertyDescriptors","defineProperties","super","_throwError","writeValue","reader","readValue","coder","defaultValue","pack","coders","arrayValues","unique","INVALID_ARGUMENT","argument","staticWriter","dynamicWriter","updateFuncs","dynamicOffset","updateFunc","writeUpdatableValue","baseOffset","func","appendWriter","unpack","baseReader","subReader","offsetReader","code","baseType","uniqueNames","defaultChild","count","checkArgumentCount","isZero","writeBytes","size","signed","maxUintValue","mask","bounds","toTwos","fromTwos","types","paramTypeBytes","RegExp","paramTypeNumber","_getCoder","arrayChildren","arrayLength","components","component","_getWordSize","_getWriter","_getReader","defaultAbiCoder","TransactionTypes","handleAddress","handleNumber","transactionFields","maxLength","numeric","allowedTransactionKeys","computeAddress","recoverAddress","digest","formatNumber","accessSetify","addr","storageKeys","storageKey","accessListify","sort","a","localeCompare","formatAccessList","_serializeEip1559","fields","sig","_serializeEip2930","_serialize","fieldInfo","pop","UNSUPPORTED_OPERATION","operation","transactionType","_parseEipSignature","recid","_parseEip1559","payload","_parseEip2930","_parse","rawTransaction","parse","ConsensusAlgorithm","ConsensusType","CustomChain","events_1","crc_32_1","chains_1","hardforks_1","eips_1","Common","_supportedHardforks","_eips","_customChains","customChains","_chainParams","setChain","defaultHardfork","hardforks","_e","forkHash","_calcForkHash","_hardfork","supportedHardforks","setHardfork","eips","setEIPs","custom","chainParamsOrName","baseChain","standardChainParams","_getChainParams","PolygonMainnet","PolygonMumbai","ArbitrumRinkebyTestnet","xDaiChain","OptimisticKovan","Berlin","OptimisticEthereum","customChainParams","initializedChains","_getInitializedChains","isBN","name_1","e_2","plainCustomChains","required","required_1","required_1_1","e_2_1","e_3","_isSupportedHardfork","existing","HARDFORK_CHANGES_1","HARDFORK_CHANGES_1_1","hfChanges","emit","e_3_1","getHardforkByBlockNumber","blockNumber","td","e_4","toType","TypeOutput","minTdHF","maxTdHF","previousHF","Chainstart","e_4_1","msgAdd","hardforkGteHardfork","setHardforkByBlockNumber","_chooseHardfork","onlySupported","_getHardfork","e_5","hfs","hfs_1","hfs_1_1","e_5_1","chainName","e_6","supportedHf","e_6_1","e_7","_loop_1","eip","minHF","this_1","requiredEIPs","elem","eips_2","eips_2_1","e_7_1","topic","e_8","paramByEIP","e_8_1","paramByHardfork","e_9","e_10","HARDFORK_CHANGES_2","HARDFORK_CHANGES_2_1","hfEIPs","hfEIPs_1","hfEIPs_1_1","valueEIP","e_10_1","e_9_1","eipParams","paramByBlock","activeHfs","activeHardforks","e_11","HARDFORK_CHANGES_3","HARDFORK_CHANGES_3_1","e_11_1","hardforkIsActiveOnBlock","hfBlock","hardforkBlockBN","activeOnBlock","hardfork1","hardfork2","e_12","onlyActive","posHf1","posHf2","hardforks_2","hardforks_2_1","e_12_1","hardforkIsActiveOnChain","e_13","e_13_1","e_14","hfs_2","hfs_2_1","e_14_1","activeHardfork","hardforkBlock","Number","hardforkTD","isHardforkBlock","nextHardforkBlock","nextHardforkBlockBN","nextHfBlock","acc","isNextHardforkBlock","e_15","genesis","substr","hfBuffer","alloc","prevBlock","hfBlockBuffer","e_15_1","inputBuffer","forkhash","intToBuffer","hardforkForForkHash","resArray","genesisState","e_16","chainArrayWithGenesis","e_16_1","bootstrapNodes","dnsNetworks","networkIdBN","consensusType","e_17","HARDFORK_CHANGES_4","HARDFORK_CHANGES_4_1","e_17_1","consensusAlgorithm","e_18","HARDFORK_CHANGES_5","HARDFORK_CHANGES_5_1","e_18_1","consensusConfig","e_19","HARDFORK_CHANGES_6","HARDFORK_CHANGES_6_1","e_19_1","removeAllListeners","EventEmitter","_arrayLikeToArray","len","arr2","isAccessList","isAccessListBuffer","input","firstItem","keccak_256","_getPrototypeOf","bind","__awaiter","thisArg","_arguments","P","generator","adopt","fulfilled","step","rejected","defineReadOnly","getStatic","ctor","resolveProperties","promises","results","all","checkProperties","properties","shallowCopy","opaque","bigint","boolean","number","string","_isFrozen","_deepCopy","deepCopy","Description","NegativeOne","Zero","One","Two","WeiPerEther","MaxUint256","MinInt256","MaxInt256","__importDefault","chains","mainnet_json_1","ropsten_json_1","rinkeby_json_1","kovan_json_1","goerli_json_1","sepolia_json_1","names","mainnet","ropsten","rinkeby","kovan","goerli","sepolia","customChains_1","customChains_1_1","LogDescription","TransactionDescription","ErrorDescription","Indexed","_isIndexed","BuiltinErrors","inputs","wrapAccessError","property","wrap","Interface","fragments","abi","JSON","fragment","bucket","deploy","warn","functions","events","format","payable","full","sighash","json","stringify","eventFragment","nameOrSignatureOrSighash","getSighash","trim","matching","f","fromString","nameOrSignatureOrTopic","topichash","getEventTopic","getFunction","getError","_","getEvent","params","_abiCoder","_encodeParams","_decodeParams","functionFragment","errorArgs","errorName","errorSignature","outputs","selector","builtin","CALL_EXCEPTION","method","UNEXPECTED_ARGUMENT","topics","anonymous","encodeTopic","indexed","dataTypes","dataValues","topicHash","expected","nonIndexed","fromObject","resultIndexed","resultNonIndexed","nonIndexedIndex","indexedIndex","decodeEventLog","hexData","errorFragment","_isInterface","_defineProperty","_curve","getCurve","keyPair","keyFromPrivate","getPublic","other","p0","keyFromPublic","p1","pub","encodeCompressed","digestBytes","canonical","otherKey","otherKeyPair","computePublicKey","derive","_isSigningKey","recoverPublicKey","rs","recoverPubKey","compressed","signingKey","_setPrototypeOf","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","_e2","bufferAccessList","newAccessList","addressBuffer","storageItems","jsonItem","accessListItem","storageSlots","storageSlot","JSONItem","setLengthLeft","slot","accessListStorageKeyCost","accessListAddressCost","slots","addresses","_defineProperties","props","descriptor","_createClass","Constructor","protoProps","staticProps","_constructorGuard","ModifiersBytes","calldata","memory","storage","ModifiersNest","checkModifier","parseParamType","allowIndexed","originalParam","newNode","parent","node","state","allowType","allowParams","verifyType","child","allowName","allowArray","sibling","readArray","populate","FormatTypes","minimal","paramTypeArray","ParamType","constructorGuard","_isParamType","comp","isParamType","ParamTypify","parseParams","allowIndex","splitNesting","Fragment","_isFragment","isFragment","FunctionFragment","EventFragment","ConstructorFragment","ErrorFragment","isEventFragment","verifyIdentifier","regexParen","modifier","parseGas","gas","comps","parseModifiers","constant","stateMutability","console","verifyState","isConstructorFragment","parens","isFunctionFragment","returns","checkForbidden","isErrorFragment","regexIdentifier","depth","globalThis","window","global","createCommonjsModule","basedir","module","require","commonjsRequire","minimalisticAssert","assert","val","equal","l","utils_1","utils","toArray","enc","hi","lo","zero2","word","toHex","utils_1$1","getNAF","num","w","naf","max","bitLength","fill","ws","clone","z","andln","isOdd","isubn","iushrn","getJSF","k1","jsf","m8","d1","d2","cmpn","u1","u2","m14","m24","cachedProperty","computer","parseBytes","intFromLE","assert$1","BaseCurve","conf","red","prime","mont","zero","toRed","one","two","g","pointFromJSON","gRed","_wnafT1","_wnafT2","_wnafT3","_wnafT4","_bitLength","adjustCount","div","redN","_maxwellTrick","BasePoint","curve","precomputed","point","_fixedNafMul","doubles","_getDoubles","I","nafW","repr","jpoint","mixedAdd","points","neg","toP","_wnafMul","nafPoints","_getNAFPoints","wnd","dblp","_wnafMulAdd","defW","coeffs","jacobianResult","wndWidth","comb","y","cmp","toJ","redNeg","ja","jb","tmp","decodePoint","byteLength","pointFromX","_encode","getX","getY","precompute","power","beta","_getBeta","_hasDoubles","dbl","inherits_browser","superCtor","super_","TempCtor","assert$2","ShortCurve","tinv","redInvm","zeroA","fromRed","threeA","endo","_getEndomorphism","_endoWnafT1","_endoWnafT2","short_1","Point","isRed","inf","forceRed","JPoint","zOne","modn","lambda","basis","betas","_getEndoRoots","lambdas","redMul","vec","_getEndoBasis","ntinv","redSqrt","l1","redAdd","l2","redSub","a0","b0","a1","b1","a2","b2","prevR","aprxSqrt","ushrn","u","x1","y1","x2","y2","q","len1","sqr","len2","negative","_endoSplit","v1","v2","c1","divRound","p2","q1","q2","odd","redSqr","redIAdd","ax","rhs","redISub","_endoWnafMulAdd","npoints","ncoeffs","ineg","fromJSON","pre","endoMul","obj2point","inspect","isInfinity","nx","ny","ys1","dyinv","mulAdd","jmulAdd","_precompute","negate","zinv","zinv2","ay","pz2","z2","s1","s2","h","h2","h3","nz","pow","jx","jy","jz","jz4","jyd","jx2","jyd2","jyd4","t1","t2","dny","_zeroDbl","_threeDbl","_dbl","xx","yy","yyyy","yyyy8","c8","delta","gamma","alpha","beta4","beta8","ggamma8","jy2","jxd4","jyd8","trpl","zz","mm","ee","yyu4","kbase","z3","pz3","eqXToP","zs","rx","xc","curve_1","short","edwards","curves_1","curves","PresetCurve","defineCurve","sha256","sha384","sha512","crash","HmacDRBG","predResist","outLen","outSize","minEntropy","hmacStrength","_reseed","reseedInterval","K","V","entropy","entropyEnc","nonceEnc","pers","persEnc","_init","hmacDrbg","seed","_update","_hmac","hmac","kmac","update","reseed","addEnc","generate","temp","assert$3","KeyPair","ec","priv","_importPrivate","privEnc","_importPublic","pubEnc","fromPublic","fromPrivate","getPrivate","umod","verify","assert$4","Signature","_importDER","Position","place","getLength","initial","octetLen","off","rmPadding","constructLength","octets","LN2","rlen","slen","toDER","backHalf","rand","assert$5","EC","nh","genKeyPair","drbg","ns2","_truncateToN","truncOnly","bkey","ns1","kp","kpX","invm","signature$1","sinv","isYOdd","isSecondKey","rInv","getKeyRecoveryParam","Q","Qprime","elliptic_1","elliptic","eddsa","EC$1","_regeneratorRuntime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","context","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","mark","awrap","async","reverse","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","__exportStar","TransactionFactory","legacyTransaction_1","eip2930Transaction_1","transactionFactory_1","eip1559Transaction_1","_classCallCheck","instance","arrayifyInteger","unarrayifyInteger","_decodeChildren","childOffset","decoded","_decode","consumed","lengthLength","MAX_SAFE","isBigNumberish","BigNumber","isBigNumber","_warnedToStringRadix","_hex","_isBigNumber","toBigNumber","toBN","throwFault","isNeg","isNegative","and","or","xor","maskn","shln","shrn","lte","BigInt","anyValue","fault","NUMERIC_FAULT","_base36To16","_base16To36","_1","txType","fromSerializedData","EIP","fromBlockBodyData","isBuffer","getTransactionClass","transactionID","_common","legacyTxn","_permanentCensorErrors","_censorErrors","LogLevels","debug","warning","_logLevel","_globalLogger","_checkNormalize","missing","_normalizeError","LogLevel","ErrorCode","HEX","logLevel","level","_log","levels","DEBUG","INFO","WARNING","makeError","UNKNOWN_ERROR","messageDetails","url","INSUFFICIENT_FUNDS","MISSING_NEW","NONCE_EXPIRED","REPLACEMENT_UNDERPRICED","TRANSACTION_REPLACED","UNPREDICTABLE_GAS_LIMIT","condition","expectedCount","MISSING_ARGUMENT","kind","censorship","permanent","globalLogger"],"mappings":"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","file":"js/chunk-17c22846.5aa864a2.js","sourcesContent":["import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export const version = \"abi/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\nvar baseTransaction_1 = require(\"./baseTransaction\");\nvar types_1 = require(\"./types\");\nvar util_1 = require(\"./util\");\nvar TRANSACTION_TYPE = 1;\nvar TRANSACTION_TYPE_BUFFER = Buffer.from(TRANSACTION_TYPE.toString(16).padStart(2, '0'), 'hex');\n/**\n * Typed transaction with optional access lists\n *\n * - TransactionType: 1\n * - EIP: [EIP-2930](https://eips.ethereum.org/EIPS/eip-2930)\n */\nvar AccessListEIP2930Transaction = /** @class */ (function (_super) {\n    __extends(AccessListEIP2930Transaction, _super);\n    /**\n     * This constructor takes the values, validates them, assigns them and freezes the object.\n     *\n     * It is not recommended to use this constructor directly. Instead use\n     * the static factory methods to assist in creating a Transaction object from\n     * varying data types.\n     */\n    function AccessListEIP2930Transaction(txData, opts) {\n        if (opts === void 0) { opts = {}; }\n        var _this = this;\n        var _a, _b;\n        _this = _super.call(this, __assign(__assign({}, txData), { type: TRANSACTION_TYPE }), opts) || this;\n        /**\n         * The default HF if the tx type is active on that HF\n         * or the first greater HF where the tx is active.\n         *\n         * @hidden\n         */\n        _this.DEFAULT_HARDFORK = 'berlin';\n        var chainId = txData.chainId, accessList = txData.accessList, gasPrice = txData.gasPrice;\n        _this.common = _this._getCommon(opts.common, chainId);\n        _this.chainId = _this.common.chainIdBN();\n        // EIP-2718 check is done in Common\n        if (!_this.common.isActivatedEIP(2930)) {\n            throw new Error('EIP-2930 not enabled on Common');\n        }\n        _this.activeCapabilities = _this.activeCapabilities.concat([2718, 2930]);\n        // Populate the access list fields\n        var accessListData = util_1.AccessLists.getAccessListData(accessList !== null && accessList !== void 0 ? accessList : []);\n        _this.accessList = accessListData.accessList;\n        _this.AccessListJSON = accessListData.AccessListJSON;\n        // Verify the access list format.\n        util_1.AccessLists.verifyAccessList(_this.accessList);\n        _this.gasPrice = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(gasPrice === '' ? '0x' : gasPrice));\n        _this._validateCannotExceedMaxInteger({\n            gasPrice: _this.gasPrice,\n        });\n        if (_this.gasPrice.mul(_this.gasLimit).gt(ethereumjs_util_1.MAX_INTEGER)) {\n            var msg = _this._errorMsg('gasLimit * gasPrice cannot exceed MAX_INTEGER');\n            throw new Error(msg);\n        }\n        if (_this.v && !_this.v.eqn(0) && !_this.v.eqn(1)) {\n            var msg = _this._errorMsg('The y-parity of the transaction should either be 0 or 1');\n            throw new Error(msg);\n        }\n        if (_this.common.gteHardfork('homestead') && ((_a = _this.s) === null || _a === void 0 ? void 0 : _a.gt(types_1.N_DIV_2))) {\n            var msg = _this._errorMsg('Invalid Signature: s-values greater than secp256k1n/2 are considered invalid');\n            throw new Error(msg);\n        }\n        if (_this.common.isActivatedEIP(3860)) {\n            (0, util_1.checkMaxInitCodeSize)(_this.common, _this.data.length);\n        }\n        var freeze = (_b = opts === null || opts === void 0 ? void 0 : opts.freeze) !== null && _b !== void 0 ? _b : true;\n        if (freeze) {\n            Object.freeze(_this);\n        }\n        return _this;\n    }\n    Object.defineProperty(AccessListEIP2930Transaction.prototype, \"senderR\", {\n        /**\n         * EIP-2930 alias for `r`\n         *\n         * @deprecated use `r` instead\n         */\n        get: function () {\n            return this.r;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AccessListEIP2930Transaction.prototype, \"senderS\", {\n        /**\n         * EIP-2930 alias for `s`\n         *\n         * @deprecated use `s` instead\n         */\n        get: function () {\n            return this.s;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AccessListEIP2930Transaction.prototype, \"yParity\", {\n        /**\n         * EIP-2930 alias for `v`\n         *\n         * @deprecated use `v` instead\n         */\n        get: function () {\n            return this.v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Instantiate a transaction from a data dictionary.\n     *\n     * Format: { chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * v, r, s }\n     *\n     * Notes:\n     * - `chainId` will be set automatically if not provided\n     * - All parameters are optional and have some basic default values\n     */\n    AccessListEIP2930Transaction.fromTxData = function (txData, opts) {\n        if (opts === void 0) { opts = {}; }\n        return new AccessListEIP2930Transaction(txData, opts);\n    };\n    /**\n     * Instantiate a transaction from the serialized tx.\n     *\n     * Format: `0x01 || rlp([chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * signatureYParity (v), signatureR (r), signatureS (s)])`\n     */\n    AccessListEIP2930Transaction.fromSerializedTx = function (serialized, opts) {\n        if (opts === void 0) { opts = {}; }\n        if (!serialized.slice(0, 1).equals(TRANSACTION_TYPE_BUFFER)) {\n            throw new Error(\"Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: \".concat(TRANSACTION_TYPE, \", received: \").concat(serialized\n                .slice(0, 1)\n                .toString('hex')));\n        }\n        var values = ethereumjs_util_1.rlp.decode(serialized.slice(1));\n        if (!Array.isArray(values)) {\n            throw new Error('Invalid serialized tx input: must be array');\n        }\n        return AccessListEIP2930Transaction.fromValuesArray(values, opts);\n    };\n    /**\n     * Instantiate a transaction from the serialized tx.\n     * (alias of {@link AccessListEIP2930Transaction.fromSerializedTx})\n     *\n     * Note: This means that the Buffer should start with 0x01.\n     *\n     * @deprecated this constructor alias is deprecated and will be removed\n     * in favor of the {@link AccessListEIP2930Transaction.fromSerializedTx} constructor\n     */\n    AccessListEIP2930Transaction.fromRlpSerializedTx = function (serialized, opts) {\n        if (opts === void 0) { opts = {}; }\n        return AccessListEIP2930Transaction.fromSerializedTx(serialized, opts);\n    };\n    /**\n     * Create a transaction from a values array.\n     *\n     * Format: `[chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * signatureYParity (v), signatureR (r), signatureS (s)]`\n     */\n    AccessListEIP2930Transaction.fromValuesArray = function (values, opts) {\n        if (opts === void 0) { opts = {}; }\n        if (values.length !== 8 && values.length !== 11) {\n            throw new Error('Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).');\n        }\n        var _a = __read(values, 11), chainId = _a[0], nonce = _a[1], gasPrice = _a[2], gasLimit = _a[3], to = _a[4], value = _a[5], data = _a[6], accessList = _a[7], v = _a[8], r = _a[9], s = _a[10];\n        (0, ethereumjs_util_1.validateNoLeadingZeroes)({ nonce: nonce, gasPrice: gasPrice, gasLimit: gasLimit, value: value, v: v, r: r, s: s });\n        var emptyAccessList = [];\n        return new AccessListEIP2930Transaction({\n            chainId: new ethereumjs_util_1.BN(chainId),\n            nonce: nonce,\n            gasPrice: gasPrice,\n            gasLimit: gasLimit,\n            to: to,\n            value: value,\n            data: data,\n            accessList: accessList !== null && accessList !== void 0 ? accessList : emptyAccessList,\n            v: v !== undefined ? new ethereumjs_util_1.BN(v) : undefined,\n            r: r,\n            s: s,\n        }, opts);\n    };\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    AccessListEIP2930Transaction.prototype.getDataFee = function () {\n        if (this.cache.dataFee && this.cache.dataFee.hardfork === this.common.hardfork()) {\n            return this.cache.dataFee.value;\n        }\n        var cost = _super.prototype.getDataFee.call(this);\n        cost.iaddn(util_1.AccessLists.getDataFeeEIP2930(this.accessList, this.common));\n        if (Object.isFrozen(this)) {\n            this.cache.dataFee = {\n                value: cost,\n                hardfork: this.common.hardfork(),\n            };\n        }\n        return cost;\n    };\n    /**\n     * The up front amount that an account must have for this transaction to be valid\n     */\n    AccessListEIP2930Transaction.prototype.getUpfrontCost = function () {\n        return this.gasLimit.mul(this.gasPrice).add(this.value);\n    };\n    /**\n     * Returns a Buffer Array of the raw Buffers of the EIP-2930 transaction, in order.\n     *\n     * Format: `[chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * signatureYParity (v), signatureR (r), signatureS (s)]`\n     *\n     * Use {@link AccessListEIP2930Transaction.serialize} to add a transaction to a block\n     * with {@link Block.fromValuesArray}.\n     *\n     * For an unsigned tx this method uses the empty Buffer values for the\n     * signature parameters `v`, `r` and `s` for encoding. For an EIP-155 compliant\n     * representation for external signing use {@link AccessListEIP2930Transaction.getMessageToSign}.\n     */\n    AccessListEIP2930Transaction.prototype.raw = function () {\n        return [\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.chainId),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.nonce),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasPrice),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasLimit),\n            this.to !== undefined ? this.to.buf : Buffer.from([]),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.value),\n            this.data,\n            this.accessList,\n            this.v !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.v) : Buffer.from([]),\n            this.r !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.r) : Buffer.from([]),\n            this.s !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.s) : Buffer.from([]),\n        ];\n    };\n    /**\n     * Returns the serialized encoding of the EIP-2930 transaction.\n     *\n     * Format: `0x01 || rlp([chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * signatureYParity (v), signatureR (r), signatureS (s)])`\n     *\n     * Note that in contrast to the legacy tx serialization format this is not\n     * valid RLP any more due to the raw tx type preceding and concatenated to\n     * the RLP encoding of the values.\n     */\n    AccessListEIP2930Transaction.prototype.serialize = function () {\n        var base = this.raw();\n        return Buffer.concat([TRANSACTION_TYPE_BUFFER, ethereumjs_util_1.rlp.encode(base)]);\n    };\n    /**\n     * Returns the serialized unsigned tx (hashed or raw), which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: in contrast to the legacy tx the raw message format is already\n     * serialized and doesn't need to be RLP encoded any more.\n     *\n     * ```javascript\n     * const serializedMessage = tx.getMessageToSign(false) // use this for the HW wallet input\n     * ```\n     *\n     * @param hashMessage - Return hashed message if set to true (default: true)\n     */\n    AccessListEIP2930Transaction.prototype.getMessageToSign = function (hashMessage) {\n        if (hashMessage === void 0) { hashMessage = true; }\n        var base = this.raw().slice(0, 8);\n        var message = Buffer.concat([TRANSACTION_TYPE_BUFFER, ethereumjs_util_1.rlp.encode(base)]);\n        if (hashMessage) {\n            return (0, ethereumjs_util_1.keccak256)(message);\n        }\n        else {\n            return message;\n        }\n    };\n    /**\n     * Computes a sha3-256 hash of the serialized tx.\n     *\n     * This method can only be used for signed txs (it throws otherwise).\n     * Use {@link AccessListEIP2930Transaction.getMessageToSign} to get a tx hash for the purpose of signing.\n     */\n    AccessListEIP2930Transaction.prototype.hash = function () {\n        if (!this.isSigned()) {\n            var msg = this._errorMsg('Cannot call hash method if transaction is not signed');\n            throw new Error(msg);\n        }\n        if (Object.isFrozen(this)) {\n            if (!this.cache.hash) {\n                this.cache.hash = (0, ethereumjs_util_1.keccak256)(this.serialize());\n            }\n            return this.cache.hash;\n        }\n        return (0, ethereumjs_util_1.keccak256)(this.serialize());\n    };\n    /**\n     * Computes a sha3-256 hash which can be used to verify the signature\n     */\n    AccessListEIP2930Transaction.prototype.getMessageToVerifySignature = function () {\n        return this.getMessageToSign();\n    };\n    /**\n     * Returns the public key of the sender\n     */\n    AccessListEIP2930Transaction.prototype.getSenderPublicKey = function () {\n        var _a;\n        if (!this.isSigned()) {\n            var msg = this._errorMsg('Cannot call this method if transaction is not signed');\n            throw new Error(msg);\n        }\n        var msgHash = this.getMessageToVerifySignature();\n        // EIP-2: All transaction signatures whose s-value is greater than secp256k1n/2 are considered invalid.\n        // Reasoning: https://ethereum.stackexchange.com/a/55728\n        if (this.common.gteHardfork('homestead') && ((_a = this.s) === null || _a === void 0 ? void 0 : _a.gt(types_1.N_DIV_2))) {\n            var msg = this._errorMsg('Invalid Signature: s-values greater than secp256k1n/2 are considered invalid');\n            throw new Error(msg);\n        }\n        var _b = this, yParity = _b.yParity, r = _b.r, s = _b.s;\n        try {\n            return (0, ethereumjs_util_1.ecrecover)(msgHash, yParity.addn(27), // Recover the 27 which was stripped from ecsign\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(r), (0, ethereumjs_util_1.bnToUnpaddedBuffer)(s));\n        }\n        catch (e) {\n            var msg = this._errorMsg('Invalid Signature');\n            throw new Error(msg);\n        }\n    };\n    AccessListEIP2930Transaction.prototype._processSignature = function (v, r, s) {\n        var opts = __assign(__assign({}, this.txOptions), { common: this.common });\n        return AccessListEIP2930Transaction.fromTxData({\n            chainId: this.chainId,\n            nonce: this.nonce,\n            gasPrice: this.gasPrice,\n            gasLimit: this.gasLimit,\n            to: this.to,\n            value: this.value,\n            data: this.data,\n            accessList: this.accessList,\n            v: new ethereumjs_util_1.BN(v - 27),\n            r: new ethereumjs_util_1.BN(r),\n            s: new ethereumjs_util_1.BN(s),\n        }, opts);\n    };\n    /**\n     * Returns an object with the JSON representation of the transaction\n     */\n    AccessListEIP2930Transaction.prototype.toJSON = function () {\n        var accessListJSON = util_1.AccessLists.getAccessListJSON(this.accessList);\n        return {\n            chainId: (0, ethereumjs_util_1.bnToHex)(this.chainId),\n            nonce: (0, ethereumjs_util_1.bnToHex)(this.nonce),\n            gasPrice: (0, ethereumjs_util_1.bnToHex)(this.gasPrice),\n            gasLimit: (0, ethereumjs_util_1.bnToHex)(this.gasLimit),\n            to: this.to !== undefined ? this.to.toString() : undefined,\n            value: (0, ethereumjs_util_1.bnToHex)(this.value),\n            data: '0x' + this.data.toString('hex'),\n            accessList: accessListJSON,\n            v: this.v !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.v) : undefined,\n            r: this.r !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.r) : undefined,\n            s: this.s !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.s) : undefined,\n        };\n    };\n    /**\n     * Return a compact error string representation of the object\n     */\n    AccessListEIP2930Transaction.prototype.errorStr = function () {\n        var _a, _b;\n        var errorStr = this._getSharedErrorPostfix();\n        // Keep ? for this.accessList since this otherwise causes Hardhat E2E tests to fail\n        errorStr += \" gasPrice=\".concat(this.gasPrice, \" accessListCount=\").concat((_b = (_a = this.accessList) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0);\n        return errorStr;\n    };\n    /**\n     * Internal helper function to create an annotated error message\n     *\n     * @param msg Base error message\n     * @hidden\n     */\n    AccessListEIP2930Transaction.prototype._errorMsg = function (msg) {\n        return \"\".concat(msg, \" (\").concat(this.errorStr(), \")\");\n    };\n    return AccessListEIP2930Transaction;\n}(baseTransaction_1.BaseTransaction));\nexports.default = AccessListEIP2930Transaction;\n//# sourceMappingURL=eip2930Transaction.js.map","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\nvar types_1 = require(\"./types\");\nvar baseTransaction_1 = require(\"./baseTransaction\");\nvar util_1 = require(\"./util\");\nvar TRANSACTION_TYPE = 0;\n/**\n * An Ethereum non-typed (legacy) transaction\n */\nvar Transaction = /** @class */ (function (_super) {\n    __extends(Transaction, _super);\n    /**\n     * This constructor takes the values, validates them, assigns them and freezes the object.\n     *\n     * It is not recommended to use this constructor directly. Instead use\n     * the static factory methods to assist in creating a Transaction object from\n     * varying data types.\n     */\n    function Transaction(txData, opts) {\n        if (opts === void 0) { opts = {}; }\n        var _this = this;\n        var _a;\n        _this = _super.call(this, __assign(__assign({}, txData), { type: TRANSACTION_TYPE }), opts) || this;\n        _this.common = _this._validateTxV(_this.v, opts.common);\n        _this.gasPrice = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(txData.gasPrice === '' ? '0x' : txData.gasPrice));\n        if (_this.gasPrice.mul(_this.gasLimit).gt(ethereumjs_util_1.MAX_INTEGER)) {\n            var msg = _this._errorMsg('gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)');\n            throw new Error(msg);\n        }\n        _this._validateCannotExceedMaxInteger({ gasPrice: _this.gasPrice });\n        if (_this.common.gteHardfork('spuriousDragon')) {\n            if (!_this.isSigned()) {\n                _this.activeCapabilities.push(types_1.Capability.EIP155ReplayProtection);\n            }\n            else {\n                // EIP155 spec:\n                // If block.number >= 2,675,000 and v = CHAIN_ID * 2 + 35 or v = CHAIN_ID * 2 + 36\n                // then when computing the hash of a transaction for purposes of signing or recovering\n                // instead of hashing only the first six elements (i.e. nonce, gasprice, startgas, to, value, data)\n                // hash nine elements, with v replaced by CHAIN_ID, r = 0 and s = 0.\n                var v = _this.v;\n                var chainIdDoubled = _this.common.chainIdBN().muln(2);\n                // v and chain ID meet EIP-155 conditions\n                if (v.eq(chainIdDoubled.addn(35)) || v.eq(chainIdDoubled.addn(36))) {\n                    _this.activeCapabilities.push(types_1.Capability.EIP155ReplayProtection);\n                }\n            }\n        }\n        if (_this.common.isActivatedEIP(3860)) {\n            (0, util_1.checkMaxInitCodeSize)(_this.common, _this.data.length);\n        }\n        var freeze = (_a = opts === null || opts === void 0 ? void 0 : opts.freeze) !== null && _a !== void 0 ? _a : true;\n        if (freeze) {\n            Object.freeze(_this);\n        }\n        return _this;\n    }\n    /**\n     * Instantiate a transaction from a data dictionary.\n     *\n     * Format: { nonce, gasPrice, gasLimit, to, value, data, v, r, s }\n     *\n     * Notes:\n     * - All parameters are optional and have some basic default values\n     */\n    Transaction.fromTxData = function (txData, opts) {\n        if (opts === void 0) { opts = {}; }\n        return new Transaction(txData, opts);\n    };\n    /**\n     * Instantiate a transaction from the serialized tx.\n     *\n     * Format: `rlp([nonce, gasPrice, gasLimit, to, value, data, v, r, s])`\n     */\n    Transaction.fromSerializedTx = function (serialized, opts) {\n        if (opts === void 0) { opts = {}; }\n        var values = ethereumjs_util_1.rlp.decode(serialized);\n        if (!Array.isArray(values)) {\n            throw new Error('Invalid serialized tx input. Must be array');\n        }\n        return this.fromValuesArray(values, opts);\n    };\n    /**\n     * Instantiate a transaction from the serialized tx.\n     * (alias of {@link Transaction.fromSerializedTx})\n     *\n     * @deprecated this constructor alias is deprecated and will be removed\n     * in favor of the {@link Transaction.fromSerializedTx} constructor\n     */\n    Transaction.fromRlpSerializedTx = function (serialized, opts) {\n        if (opts === void 0) { opts = {}; }\n        return Transaction.fromSerializedTx(serialized, opts);\n    };\n    /**\n     * Create a transaction from a values array.\n     *\n     * Format: `[nonce, gasPrice, gasLimit, to, value, data, v, r, s]`\n     */\n    Transaction.fromValuesArray = function (values, opts) {\n        if (opts === void 0) { opts = {}; }\n        // If length is not 6, it has length 9. If v/r/s are empty Buffers, it is still an unsigned transaction\n        // This happens if you get the RLP data from `raw()`\n        if (values.length !== 6 && values.length !== 9) {\n            throw new Error('Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).');\n        }\n        var _a = __read(values, 9), nonce = _a[0], gasPrice = _a[1], gasLimit = _a[2], to = _a[3], value = _a[4], data = _a[5], v = _a[6], r = _a[7], s = _a[8];\n        (0, ethereumjs_util_1.validateNoLeadingZeroes)({ nonce: nonce, gasPrice: gasPrice, gasLimit: gasLimit, value: value, v: v, r: r, s: s });\n        return new Transaction({\n            nonce: nonce,\n            gasPrice: gasPrice,\n            gasLimit: gasLimit,\n            to: to,\n            value: value,\n            data: data,\n            v: v,\n            r: r,\n            s: s,\n        }, opts);\n    };\n    /**\n     * Returns a Buffer Array of the raw Buffers of the legacy transaction, in order.\n     *\n     * Format: `[nonce, gasPrice, gasLimit, to, value, data, v, r, s]`\n     *\n     * For legacy txs this is also the correct format to add transactions\n     * to a block with {@link Block.fromValuesArray} (use the `serialize()` method\n     * for typed txs).\n     *\n     * For an unsigned tx this method returns the empty Buffer values\n     * for the signature parameters `v`, `r` and `s`. For an EIP-155 compliant\n     * representation have a look at {@link Transaction.getMessageToSign}.\n     */\n    Transaction.prototype.raw = function () {\n        return [\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.nonce),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasPrice),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasLimit),\n            this.to !== undefined ? this.to.buf : Buffer.from([]),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.value),\n            this.data,\n            this.v !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.v) : Buffer.from([]),\n            this.r !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.r) : Buffer.from([]),\n            this.s !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.s) : Buffer.from([]),\n        ];\n    };\n    /**\n     * Returns the serialized encoding of the legacy transaction.\n     *\n     * Format: `rlp([nonce, gasPrice, gasLimit, to, value, data, v, r, s])`\n     *\n     * For an unsigned tx this method uses the empty Buffer values for the\n     * signature parameters `v`, `r` and `s` for encoding. For an EIP-155 compliant\n     * representation for external signing use {@link Transaction.getMessageToSign}.\n     */\n    Transaction.prototype.serialize = function () {\n        return ethereumjs_util_1.rlp.encode(this.raw());\n    };\n    Transaction.prototype._getMessageToSign = function () {\n        var values = [\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.nonce),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasPrice),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasLimit),\n            this.to !== undefined ? this.to.buf : Buffer.from([]),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.value),\n            this.data,\n        ];\n        if (this.supports(types_1.Capability.EIP155ReplayProtection)) {\n            values.push((0, ethereumjs_util_1.toBuffer)(this.common.chainIdBN()));\n            values.push((0, ethereumjs_util_1.unpadBuffer)((0, ethereumjs_util_1.toBuffer)(0)));\n            values.push((0, ethereumjs_util_1.unpadBuffer)((0, ethereumjs_util_1.toBuffer)(0)));\n        }\n        return values;\n    };\n    Transaction.prototype.getMessageToSign = function (hashMessage) {\n        if (hashMessage === void 0) { hashMessage = true; }\n        var message = this._getMessageToSign();\n        if (hashMessage) {\n            return (0, ethereumjs_util_1.rlphash)(message);\n        }\n        else {\n            return message;\n        }\n    };\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    Transaction.prototype.getDataFee = function () {\n        if (this.cache.dataFee && this.cache.dataFee.hardfork === this.common.hardfork()) {\n            return this.cache.dataFee.value;\n        }\n        if (Object.isFrozen(this)) {\n            this.cache.dataFee = {\n                value: _super.prototype.getDataFee.call(this),\n                hardfork: this.common.hardfork(),\n            };\n        }\n        return _super.prototype.getDataFee.call(this);\n    };\n    /**\n     * The up front amount that an account must have for this transaction to be valid\n     */\n    Transaction.prototype.getUpfrontCost = function () {\n        return this.gasLimit.mul(this.gasPrice).add(this.value);\n    };\n    /**\n     * Computes a sha3-256 hash of the serialized tx.\n     *\n     * This method can only be used for signed txs (it throws otherwise).\n     * Use {@link Transaction.getMessageToSign} to get a tx hash for the purpose of signing.\n     */\n    Transaction.prototype.hash = function () {\n        // In contrast to the tx type transaction implementations the `hash()` function\n        // for the legacy tx does not throw if the tx is not signed.\n        // This has been considered for inclusion but lead to unexpected backwards\n        // compatibility problems (no concrete reference found, needs validation).\n        //\n        // For context see also https://github.com/ethereumjs/ethereumjs-monorepo/pull/1445,\n        // September, 2021 as well as work done before.\n        //\n        // This should be updated along the next major version release by adding:\n        //\n        //if (!this.isSigned()) {\n        //  const msg = this._errorMsg('Cannot call hash method if transaction is not signed')\n        //  throw new Error(msg)\n        //}\n        if (Object.isFrozen(this)) {\n            if (!this.cache.hash) {\n                this.cache.hash = (0, ethereumjs_util_1.rlphash)(this.raw());\n            }\n            return this.cache.hash;\n        }\n        return (0, ethereumjs_util_1.rlphash)(this.raw());\n    };\n    /**\n     * Computes a sha3-256 hash which can be used to verify the signature\n     */\n    Transaction.prototype.getMessageToVerifySignature = function () {\n        if (!this.isSigned()) {\n            var msg = this._errorMsg('This transaction is not signed');\n            throw new Error(msg);\n        }\n        var message = this._getMessageToSign();\n        return (0, ethereumjs_util_1.rlphash)(message);\n    };\n    /**\n     * Returns the public key of the sender\n     */\n    Transaction.prototype.getSenderPublicKey = function () {\n        var _a;\n        var msgHash = this.getMessageToVerifySignature();\n        // EIP-2: All transaction signatures whose s-value is greater than secp256k1n/2 are considered invalid.\n        // Reasoning: https://ethereum.stackexchange.com/a/55728\n        if (this.common.gteHardfork('homestead') && ((_a = this.s) === null || _a === void 0 ? void 0 : _a.gt(types_1.N_DIV_2))) {\n            var msg = this._errorMsg('Invalid Signature: s-values greater than secp256k1n/2 are considered invalid');\n            throw new Error(msg);\n        }\n        var _b = this, v = _b.v, r = _b.r, s = _b.s;\n        try {\n            return (0, ethereumjs_util_1.ecrecover)(msgHash, v, (0, ethereumjs_util_1.bnToUnpaddedBuffer)(r), (0, ethereumjs_util_1.bnToUnpaddedBuffer)(s), this.supports(types_1.Capability.EIP155ReplayProtection) ? this.common.chainIdBN() : undefined);\n        }\n        catch (e) {\n            var msg = this._errorMsg('Invalid Signature');\n            throw new Error(msg);\n        }\n    };\n    /**\n     * Process the v, r, s values from the `sign` method of the base transaction.\n     */\n    Transaction.prototype._processSignature = function (v, r, s) {\n        var vBN = new ethereumjs_util_1.BN(v);\n        if (this.supports(types_1.Capability.EIP155ReplayProtection)) {\n            vBN.iadd(this.common.chainIdBN().muln(2).addn(8));\n        }\n        var opts = __assign(__assign({}, this.txOptions), { common: this.common });\n        return Transaction.fromTxData({\n            nonce: this.nonce,\n            gasPrice: this.gasPrice,\n            gasLimit: this.gasLimit,\n            to: this.to,\n            value: this.value,\n            data: this.data,\n            v: vBN,\n            r: new ethereumjs_util_1.BN(r),\n            s: new ethereumjs_util_1.BN(s),\n        }, opts);\n    };\n    /**\n     * Returns an object with the JSON representation of the transaction.\n     */\n    Transaction.prototype.toJSON = function () {\n        return {\n            nonce: (0, ethereumjs_util_1.bnToHex)(this.nonce),\n            gasPrice: (0, ethereumjs_util_1.bnToHex)(this.gasPrice),\n            gasLimit: (0, ethereumjs_util_1.bnToHex)(this.gasLimit),\n            to: this.to !== undefined ? this.to.toString() : undefined,\n            value: (0, ethereumjs_util_1.bnToHex)(this.value),\n            data: '0x' + this.data.toString('hex'),\n            v: this.v !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.v) : undefined,\n            r: this.r !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.r) : undefined,\n            s: this.s !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.s) : undefined,\n        };\n    };\n    /**\n     * Validates tx's `v` value\n     */\n    Transaction.prototype._validateTxV = function (v, common) {\n        // Check for valid v values in the scope of a signed legacy tx\n        if (v !== undefined) {\n            // v is 1. not matching the EIP-155 chainId included case and...\n            // v is 2. not matching the classic v=27 or v=28 case\n            if (v.ltn(37) && !v.eqn(27) && !v.eqn(28)) {\n                throw new Error(\"Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = \".concat(v));\n            }\n        }\n        var chainIdBN;\n        // No unsigned tx and EIP-155 activated and chain ID included\n        if (v !== undefined &&\n            (!common || common.gteHardfork('spuriousDragon')) &&\n            !v.eqn(27) &&\n            !v.eqn(28)) {\n            if (common) {\n                var chainIdDoubled = common.chainIdBN().muln(2);\n                var isValidEIP155V = v.eq(chainIdDoubled.addn(35)) || v.eq(chainIdDoubled.addn(36));\n                if (!isValidEIP155V) {\n                    throw new Error(\"Incompatible EIP155-based V \".concat(v, \" and chain id \").concat(common.chainIdBN(), \". See the Common parameter of the Transaction constructor to set the chain id.\"));\n                }\n            }\n            else {\n                // Derive the original chain ID\n                var numSub = void 0;\n                if (v.subn(35).isEven()) {\n                    numSub = 35;\n                }\n                else {\n                    numSub = 36;\n                }\n                // Use derived chain ID to create a proper Common\n                chainIdBN = v.subn(numSub).divn(2);\n            }\n        }\n        return this._getCommon(common, chainIdBN);\n    };\n    /**\n     * @deprecated if you have called this internal method please use `tx.supports(Capabilities.EIP155ReplayProtection)` instead\n     */\n    Transaction.prototype._unsignedTxImplementsEIP155 = function () {\n        return this.common.gteHardfork('spuriousDragon');\n    };\n    /**\n     * @deprecated if you have called this internal method please use `tx.supports(Capabilities.EIP155ReplayProtection)` instead\n     */\n    Transaction.prototype._signedTxImplementsEIP155 = function () {\n        if (!this.isSigned()) {\n            var msg = this._errorMsg('This transaction is not signed');\n            throw new Error(msg);\n        }\n        var onEIP155BlockOrLater = this.common.gteHardfork('spuriousDragon');\n        // EIP155 spec:\n        // If block.number >= 2,675,000 and v = CHAIN_ID * 2 + 35 or v = CHAIN_ID * 2 + 36, then when computing the hash of a transaction for purposes of signing or recovering, instead of hashing only the first six elements (i.e. nonce, gasprice, startgas, to, value, data), hash nine elements, with v replaced by CHAIN_ID, r = 0 and s = 0.\n        var v = this.v;\n        var chainIdDoubled = this.common.chainIdBN().muln(2);\n        var vAndChainIdMeetEIP155Conditions = v.eq(chainIdDoubled.addn(35)) || v.eq(chainIdDoubled.addn(36));\n        return vAndChainIdMeetEIP155Conditions && onEIP155BlockOrLater;\n    };\n    /**\n     * Return a compact error string representation of the object\n     */\n    Transaction.prototype.errorStr = function () {\n        var errorStr = this._getSharedErrorPostfix();\n        errorStr += \" gasPrice=\".concat(this.gasPrice);\n        return errorStr;\n    };\n    /**\n     * Internal helper function to create an annotated error message\n     *\n     * @param msg Base error message\n     * @hidden\n     */\n    Transaction.prototype._errorMsg = function (msg) {\n        return \"\".concat(msg, \" (\").concat(this.errorStr(), \")\");\n    };\n    return Transaction;\n}(baseTransaction_1.BaseTransaction));\nexports.default = Transaction;\n//# sourceMappingURL=legacyTransaction.js.map","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}","import { keccak256 } from \"@ethersproject/keccak256\";\nimport { toUtf8Bytes } from \"@ethersproject/strings\";\nexport function id(text) {\n    return keccak256(toUtf8Bytes(text));\n}\n//# sourceMappingURL=id.js.map","export const version = \"address/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { arrayify, concat, hexDataLength, hexDataSlice, isHexString, stripZeros } from \"@ethersproject/bytes\";\nimport { BigNumber, _base16To36, _base36To16 } from \"@ethersproject/bignumber\";\nimport { keccak256 } from \"@ethersproject/keccak256\";\nimport { encode } from \"@ethersproject/rlp\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nfunction getChecksumAddress(address) {\n    if (!isHexString(address, 20)) {\n        logger.throwArgumentError(\"invalid address\", \"address\", address);\n    }\n    address = address.toLowerCase();\n    const chars = address.substring(2).split(\"\");\n    const expanded = new Uint8Array(40);\n    for (let i = 0; i < 40; i++) {\n        expanded[i] = chars[i].charCodeAt(0);\n    }\n    const hashed = arrayify(keccak256(expanded));\n    for (let i = 0; i < 40; i += 2) {\n        if ((hashed[i >> 1] >> 4) >= 8) {\n            chars[i] = chars[i].toUpperCase();\n        }\n        if ((hashed[i >> 1] & 0x0f) >= 8) {\n            chars[i + 1] = chars[i + 1].toUpperCase();\n        }\n    }\n    return \"0x\" + chars.join(\"\");\n}\n// Shims for environments that are missing some required constants and functions\nconst MAX_SAFE_INTEGER = 0x1fffffffffffff;\nfunction log10(x) {\n    if (Math.log10) {\n        return Math.log10(x);\n    }\n    return Math.log(x) / Math.LN10;\n}\n// See: https://en.wikipedia.org/wiki/International_Bank_Account_Number\n// Create lookup table\nconst ibanLookup = {};\nfor (let i = 0; i < 10; i++) {\n    ibanLookup[String(i)] = String(i);\n}\nfor (let i = 0; i < 26; i++) {\n    ibanLookup[String.fromCharCode(65 + i)] = String(10 + i);\n}\n// How many decimal digits can we process? (for 64-bit float, this is 15)\nconst safeDigits = Math.floor(log10(MAX_SAFE_INTEGER));\nfunction ibanChecksum(address) {\n    address = address.toUpperCase();\n    address = address.substring(4) + address.substring(0, 2) + \"00\";\n    let expanded = address.split(\"\").map((c) => { return ibanLookup[c]; }).join(\"\");\n    // Javascript can handle integers safely up to 15 (decimal) digits\n    while (expanded.length >= safeDigits) {\n        let block = expanded.substring(0, safeDigits);\n        expanded = parseInt(block, 10) % 97 + expanded.substring(block.length);\n    }\n    let checksum = String(98 - (parseInt(expanded, 10) % 97));\n    while (checksum.length < 2) {\n        checksum = \"0\" + checksum;\n    }\n    return checksum;\n}\n;\nexport function getAddress(address) {\n    let result = null;\n    if (typeof (address) !== \"string\") {\n        logger.throwArgumentError(\"invalid address\", \"address\", address);\n    }\n    if (address.match(/^(0x)?[0-9a-fA-F]{40}$/)) {\n        // Missing the 0x prefix\n        if (address.substring(0, 2) !== \"0x\") {\n            address = \"0x\" + address;\n        }\n        result = getChecksumAddress(address);\n        // It is a checksummed address with a bad checksum\n        if (address.match(/([A-F].*[a-f])|([a-f].*[A-F])/) && result !== address) {\n            logger.throwArgumentError(\"bad address checksum\", \"address\", address);\n        }\n        // Maybe ICAP? (we only support direct mode)\n    }\n    else if (address.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) {\n        // It is an ICAP address with a bad checksum\n        if (address.substring(2, 4) !== ibanChecksum(address)) {\n            logger.throwArgumentError(\"bad icap checksum\", \"address\", address);\n        }\n        result = _base36To16(address.substring(4));\n        while (result.length < 40) {\n            result = \"0\" + result;\n        }\n        result = getChecksumAddress(\"0x\" + result);\n    }\n    else {\n        logger.throwArgumentError(\"invalid address\", \"address\", address);\n    }\n    return result;\n}\nexport function isAddress(address) {\n    try {\n        getAddress(address);\n        return true;\n    }\n    catch (error) { }\n    return false;\n}\nexport function getIcapAddress(address) {\n    let base36 = _base16To36(getAddress(address).substring(2)).toUpperCase();\n    while (base36.length < 30) {\n        base36 = \"0\" + base36;\n    }\n    return \"XE\" + ibanChecksum(\"XE00\" + base36) + base36;\n}\n// http://ethereum.stackexchange.com/questions/760/how-is-the-address-of-an-ethereum-contract-computed\nexport function getContractAddress(transaction) {\n    let from = null;\n    try {\n        from = getAddress(transaction.from);\n    }\n    catch (error) {\n        logger.throwArgumentError(\"missing from address\", \"transaction\", transaction);\n    }\n    const nonce = stripZeros(arrayify(BigNumber.from(transaction.nonce).toHexString()));\n    return getAddress(hexDataSlice(keccak256(encode([from, nonce])), 12));\n}\nexport function getCreate2Address(from, salt, initCodeHash) {\n    if (hexDataLength(salt) !== 32) {\n        logger.throwArgumentError(\"salt must be 32 bytes\", \"salt\", salt);\n    }\n    if (hexDataLength(initCodeHash) !== 32) {\n        logger.throwArgumentError(\"initCodeHash must be 32 bytes\", \"initCodeHash\", initCodeHash);\n    }\n    return getAddress(hexDataSlice(keccak256(concat([\"0xff\", getAddress(from), salt, initCodeHash])), 12));\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EIPs = void 0;\nexports.EIPs = {\n    1153: require('./1153.json'),\n    1559: require('./1559.json'),\n    2315: require('./2315.json'),\n    2537: require('./2537.json'),\n    2565: require('./2565.json'),\n    2718: require('./2718.json'),\n    2929: require('./2929.json'),\n    2930: require('./2930.json'),\n    3198: require('./3198.json'),\n    3529: require('./3529.json'),\n    3540: require('./3540.json'),\n    3541: require('./3541.json'),\n    3554: require('./3554.json'),\n    3607: require('./3607.json'),\n    3651: require('./3651.json'),\n    3670: require('./3670.json'),\n    3675: require('./3675.json'),\n    3855: require('./3855.json'),\n    3860: require('./3860.json'),\n    4345: require('./4345.json'),\n    4399: require('./4399.json'),\n    5133: require('./5133.json'),\n};\n//# sourceMappingURL=index.js.map","\"use strict\";\nimport { ConstructorFragment, ErrorFragment, EventFragment, FormatTypes, Fragment, FunctionFragment, ParamType } from \"./fragments\";\nimport { AbiCoder, defaultAbiCoder } from \"./abi-coder\";\nimport { checkResultErrors, Indexed, Interface, LogDescription, TransactionDescription } from \"./interface\";\nexport { ConstructorFragment, ErrorFragment, EventFragment, Fragment, FunctionFragment, ParamType, FormatTypes, AbiCoder, defaultAbiCoder, Interface, Indexed, checkResultErrors, LogDescription, TransactionDescription };\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseTransaction = void 0;\nvar common_1 = __importStar(require(\"@ethereumjs/common\"));\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\nvar types_1 = require(\"./types\");\n/**\n * This base class will likely be subject to further\n * refactoring along the introduction of additional tx types\n * on the Ethereum network.\n *\n * It is therefore not recommended to use directly.\n */\nvar BaseTransaction = /** @class */ (function () {\n    function BaseTransaction(txData, opts) {\n        this.cache = {\n            hash: undefined,\n            dataFee: undefined,\n        };\n        /**\n         * List of tx type defining EIPs,\n         * e.g. 1559 (fee market) and 2930 (access lists)\n         * for FeeMarketEIP1559Transaction objects\n         */\n        this.activeCapabilities = [];\n        /**\n         * The default chain the tx falls back to if no Common\n         * is provided and if the chain can't be derived from\n         * a passed in chainId (only EIP-2718 typed txs) or\n         * EIP-155 signature (legacy txs).\n         *\n         * @hidden\n         */\n        this.DEFAULT_CHAIN = common_1.Chain.Mainnet;\n        /**\n         * The default HF if the tx type is active on that HF\n         * or the first greater HF where the tx is active.\n         *\n         * @hidden\n         */\n        this.DEFAULT_HARDFORK = common_1.Hardfork.Istanbul;\n        var nonce = txData.nonce, gasLimit = txData.gasLimit, to = txData.to, value = txData.value, data = txData.data, v = txData.v, r = txData.r, s = txData.s, type = txData.type;\n        this._type = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(type)).toNumber();\n        this.txOptions = opts;\n        var toB = (0, ethereumjs_util_1.toBuffer)(to === '' ? '0x' : to);\n        var vB = (0, ethereumjs_util_1.toBuffer)(v === '' ? '0x' : v);\n        var rB = (0, ethereumjs_util_1.toBuffer)(r === '' ? '0x' : r);\n        var sB = (0, ethereumjs_util_1.toBuffer)(s === '' ? '0x' : s);\n        this.nonce = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(nonce === '' ? '0x' : nonce));\n        this.gasLimit = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(gasLimit === '' ? '0x' : gasLimit));\n        this.to = toB.length > 0 ? new ethereumjs_util_1.Address(toB) : undefined;\n        this.value = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(value === '' ? '0x' : value));\n        this.data = (0, ethereumjs_util_1.toBuffer)(data === '' ? '0x' : data);\n        this.v = vB.length > 0 ? new ethereumjs_util_1.BN(vB) : undefined;\n        this.r = rB.length > 0 ? new ethereumjs_util_1.BN(rB) : undefined;\n        this.s = sB.length > 0 ? new ethereumjs_util_1.BN(sB) : undefined;\n        this._validateCannotExceedMaxInteger({ value: this.value, r: this.r, s: this.s });\n        // geth limits gasLimit to 2^64-1\n        this._validateCannotExceedMaxInteger({ gasLimit: this.gasLimit }, 64);\n        // EIP-2681 limits nonce to 2^64-1 (cannot equal 2^64-1)\n        this._validateCannotExceedMaxInteger({ nonce: this.nonce }, 64, true);\n    }\n    Object.defineProperty(BaseTransaction.prototype, \"transactionType\", {\n        /**\n         * Alias for {@link BaseTransaction.type}\n         *\n         * @deprecated Use `type` instead\n         */\n        get: function () {\n            return this.type;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseTransaction.prototype, \"type\", {\n        /**\n         * Returns the transaction type.\n         *\n         * Note: legacy txs will return tx type `0`.\n         */\n        get: function () {\n            return this._type;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Checks if a tx type defining capability is active\n     * on a tx, for example the EIP-1559 fee market mechanism\n     * or the EIP-2930 access list feature.\n     *\n     * Note that this is different from the tx type itself,\n     * so EIP-2930 access lists can very well be active\n     * on an EIP-1559 tx for example.\n     *\n     * This method can be useful for feature checks if the\n     * tx type is unknown (e.g. when instantiated with\n     * the tx factory).\n     *\n     * See `Capabilites` in the `types` module for a reference\n     * on all supported capabilities.\n     */\n    BaseTransaction.prototype.supports = function (capability) {\n        return this.activeCapabilities.includes(capability);\n    };\n    BaseTransaction.prototype.validate = function (stringError) {\n        if (stringError === void 0) { stringError = false; }\n        var errors = [];\n        if (this.getBaseFee().gt(this.gasLimit)) {\n            errors.push(\"gasLimit is too low. given \".concat(this.gasLimit, \", need at least \").concat(this.getBaseFee()));\n        }\n        if (this.isSigned() && !this.verifySignature()) {\n            errors.push('Invalid Signature');\n        }\n        return stringError ? errors : errors.length === 0;\n    };\n    /**\n     * The minimum amount of gas the tx must have (DataFee + TxFee + Creation Fee)\n     */\n    BaseTransaction.prototype.getBaseFee = function () {\n        var fee = this.getDataFee().addn(this.common.param('gasPrices', 'tx'));\n        if (this.common.gteHardfork('homestead') && this.toCreationAddress()) {\n            fee.iaddn(this.common.param('gasPrices', 'txCreation'));\n        }\n        return fee;\n    };\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    BaseTransaction.prototype.getDataFee = function () {\n        var txDataZero = this.common.param('gasPrices', 'txDataZero');\n        var txDataNonZero = this.common.param('gasPrices', 'txDataNonZero');\n        var cost = 0;\n        for (var i = 0; i < this.data.length; i++) {\n            this.data[i] === 0 ? (cost += txDataZero) : (cost += txDataNonZero);\n        }\n        cost = new ethereumjs_util_1.BN(cost);\n        if ((this.to === undefined || this.to === null) && this.common.isActivatedEIP(3860)) {\n            var dataLength = Math.ceil(this.data.length / 32);\n            var initCodeCost = new ethereumjs_util_1.BN(this.common.param('gasPrices', 'initCodeWordCost')).imuln(dataLength);\n            cost.iadd(initCodeCost);\n        }\n        return cost;\n    };\n    /**\n     * If the tx's `to` is to the creation address\n     */\n    BaseTransaction.prototype.toCreationAddress = function () {\n        return this.to === undefined || this.to.buf.length === 0;\n    };\n    BaseTransaction.prototype.isSigned = function () {\n        var _a = this, v = _a.v, r = _a.r, s = _a.s;\n        if (this.type === 0) {\n            if (!v || !r || !s) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            if (v === undefined || !r || !s) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n    };\n    /**\n     * Determines if the signature is valid\n     */\n    BaseTransaction.prototype.verifySignature = function () {\n        try {\n            // Main signature verification is done in `getSenderPublicKey()`\n            var publicKey = this.getSenderPublicKey();\n            return (0, ethereumjs_util_1.unpadBuffer)(publicKey).length !== 0;\n        }\n        catch (e) {\n            return false;\n        }\n    };\n    /**\n     * Returns the sender's address\n     */\n    BaseTransaction.prototype.getSenderAddress = function () {\n        return new ethereumjs_util_1.Address((0, ethereumjs_util_1.publicToAddress)(this.getSenderPublicKey()));\n    };\n    /**\n     * Signs a transaction.\n     *\n     * Note that the signed tx is returned as a new object,\n     * use as follows:\n     * ```javascript\n     * const signedTx = tx.sign(privateKey)\n     * ```\n     */\n    BaseTransaction.prototype.sign = function (privateKey) {\n        if (privateKey.length !== 32) {\n            var msg = this._errorMsg('Private key must be 32 bytes in length.');\n            throw new Error(msg);\n        }\n        // Hack for the constellation that we have got a legacy tx after spuriousDragon with a non-EIP155 conforming signature\n        // and want to recreate a signature (where EIP155 should be applied)\n        // Leaving this hack lets the legacy.spec.ts -> sign(), verifySignature() test fail\n        // 2021-06-23\n        var hackApplied = false;\n        if (this.type === 0 &&\n            this.common.gteHardfork('spuriousDragon') &&\n            !this.supports(types_1.Capability.EIP155ReplayProtection)) {\n            this.activeCapabilities.push(types_1.Capability.EIP155ReplayProtection);\n            hackApplied = true;\n        }\n        var msgHash = this.getMessageToSign(true);\n        var _a = (0, ethereumjs_util_1.ecsign)(msgHash, privateKey), v = _a.v, r = _a.r, s = _a.s;\n        var tx = this._processSignature(v, r, s);\n        // Hack part 2\n        if (hackApplied) {\n            var index = this.activeCapabilities.indexOf(types_1.Capability.EIP155ReplayProtection);\n            if (index > -1) {\n                this.activeCapabilities.splice(index, 1);\n            }\n        }\n        return tx;\n    };\n    /**\n     * Does chain ID checks on common and returns a common\n     * to be used on instantiation\n     * @hidden\n     *\n     * @param common - {@link Common} instance from tx options\n     * @param chainId - Chain ID from tx options (typed txs) or signature (legacy tx)\n     */\n    BaseTransaction.prototype._getCommon = function (common, chainId) {\n        var _a;\n        // Chain ID provided\n        if (chainId) {\n            var chainIdBN = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(chainId));\n            if (common) {\n                if (!common.chainIdBN().eq(chainIdBN)) {\n                    var msg = this._errorMsg('The chain ID does not match the chain ID of Common');\n                    throw new Error(msg);\n                }\n                // Common provided, chain ID does match\n                // -> Return provided Common\n                return common.copy();\n            }\n            else {\n                if (common_1.default.isSupportedChainId(chainIdBN)) {\n                    // No Common, chain ID supported by Common\n                    // -> Instantiate Common with chain ID\n                    return new common_1.default({ chain: chainIdBN, hardfork: this.DEFAULT_HARDFORK });\n                }\n                else {\n                    // No Common, chain ID not supported by Common\n                    // -> Instantiate custom Common derived from DEFAULT_CHAIN\n                    return common_1.default.forCustomChain(this.DEFAULT_CHAIN, {\n                        name: 'custom-chain',\n                        networkId: chainIdBN,\n                        chainId: chainIdBN,\n                    }, this.DEFAULT_HARDFORK);\n                }\n            }\n        }\n        else {\n            // No chain ID provided\n            // -> return Common provided or create new default Common\n            return ((_a = common === null || common === void 0 ? void 0 : common.copy()) !== null && _a !== void 0 ? _a : new common_1.default({ chain: this.DEFAULT_CHAIN, hardfork: this.DEFAULT_HARDFORK }));\n        }\n    };\n    /**\n     * Validates that an object with BN values cannot exceed the specified bit limit.\n     * @param values Object containing string keys and BN values\n     * @param bits Number of bits to check (64 or 256)\n     * @param cannotEqual Pass true if the number also cannot equal one less the maximum value\n     */\n    BaseTransaction.prototype._validateCannotExceedMaxInteger = function (values, bits, cannotEqual) {\n        var e_1, _a;\n        if (bits === void 0) { bits = 256; }\n        if (cannotEqual === void 0) { cannotEqual = false; }\n        try {\n            for (var _b = __values(Object.entries(values)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), key = _d[0], value = _d[1];\n                switch (bits) {\n                    case 64:\n                        if (cannotEqual) {\n                            if (value === null || value === void 0 ? void 0 : value.gte(ethereumjs_util_1.MAX_UINT64)) {\n                                var msg = this._errorMsg(\"\".concat(key, \" cannot equal or exceed MAX_UINT64 (2^64-1), given \").concat(value));\n                                throw new Error(msg);\n                            }\n                        }\n                        else {\n                            if (value === null || value === void 0 ? void 0 : value.gt(ethereumjs_util_1.MAX_UINT64)) {\n                                var msg = this._errorMsg(\"\".concat(key, \" cannot exceed MAX_UINT64 (2^64-1), given \").concat(value));\n                                throw new Error(msg);\n                            }\n                        }\n                        break;\n                    case 256:\n                        if (cannotEqual) {\n                            if (value === null || value === void 0 ? void 0 : value.gte(ethereumjs_util_1.MAX_INTEGER)) {\n                                var msg = this._errorMsg(\"\".concat(key, \" cannot equal or exceed MAX_INTEGER (2^256-1), given \").concat(value));\n                                throw new Error(msg);\n                            }\n                        }\n                        else {\n                            if (value === null || value === void 0 ? void 0 : value.gt(ethereumjs_util_1.MAX_INTEGER)) {\n                                var msg = this._errorMsg(\"\".concat(key, \" cannot exceed MAX_INTEGER (2^256-1), given \").concat(value));\n                                throw new Error(msg);\n                            }\n                        }\n                        break;\n                    default: {\n                        var msg = this._errorMsg('unimplemented bits value');\n                        throw new Error(msg);\n                    }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    /**\n     * Returns the shared error postfix part for _error() method\n     * tx type implementations.\n     */\n    BaseTransaction.prototype._getSharedErrorPostfix = function () {\n        var hash = '';\n        try {\n            hash = this.isSigned() ? (0, ethereumjs_util_1.bufferToHex)(this.hash()) : 'not available (unsigned)';\n        }\n        catch (e) {\n            hash = 'error';\n        }\n        var isSigned = '';\n        try {\n            isSigned = this.isSigned().toString();\n        }\n        catch (e) {\n            hash = 'error';\n        }\n        var hf = '';\n        try {\n            hf = this.common.hardfork();\n        }\n        catch (e) {\n            hf = 'error';\n        }\n        var postfix = \"tx type=\".concat(this.type, \" hash=\").concat(hash, \" nonce=\").concat(this.nonce, \" value=\").concat(this.value, \" \");\n        postfix += \"signed=\".concat(isSigned, \" hf=\").concat(hf);\n        return postfix;\n    };\n    return BaseTransaction;\n}());\nexports.BaseTransaction = BaseTransaction;\n//# sourceMappingURL=baseTransaction.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\nvar baseTransaction_1 = require(\"./baseTransaction\");\nvar types_1 = require(\"./types\");\nvar util_1 = require(\"./util\");\nvar TRANSACTION_TYPE = 2;\nvar TRANSACTION_TYPE_BUFFER = Buffer.from(TRANSACTION_TYPE.toString(16).padStart(2, '0'), 'hex');\n/**\n * Typed transaction with a new gas fee market mechanism\n *\n * - TransactionType: 2\n * - EIP: [EIP-1559](https://eips.ethereum.org/EIPS/eip-1559)\n */\nvar FeeMarketEIP1559Transaction = /** @class */ (function (_super) {\n    __extends(FeeMarketEIP1559Transaction, _super);\n    /**\n     * This constructor takes the values, validates them, assigns them and freezes the object.\n     *\n     * It is not recommended to use this constructor directly. Instead use\n     * the static factory methods to assist in creating a Transaction object from\n     * varying data types.\n     */\n    function FeeMarketEIP1559Transaction(txData, opts) {\n        if (opts === void 0) { opts = {}; }\n        var _this = this;\n        var _a, _b;\n        _this = _super.call(this, __assign(__assign({}, txData), { type: TRANSACTION_TYPE }), opts) || this;\n        /**\n         * The default HF if the tx type is active on that HF\n         * or the first greater HF where the tx is active.\n         *\n         * @hidden\n         */\n        _this.DEFAULT_HARDFORK = 'london';\n        var chainId = txData.chainId, accessList = txData.accessList, maxFeePerGas = txData.maxFeePerGas, maxPriorityFeePerGas = txData.maxPriorityFeePerGas;\n        _this.common = _this._getCommon(opts.common, chainId);\n        _this.chainId = _this.common.chainIdBN();\n        if (!_this.common.isActivatedEIP(1559)) {\n            throw new Error('EIP-1559 not enabled on Common');\n        }\n        _this.activeCapabilities = _this.activeCapabilities.concat([1559, 2718, 2930]);\n        // Populate the access list fields\n        var accessListData = util_1.AccessLists.getAccessListData(accessList !== null && accessList !== void 0 ? accessList : []);\n        _this.accessList = accessListData.accessList;\n        _this.AccessListJSON = accessListData.AccessListJSON;\n        // Verify the access list format.\n        util_1.AccessLists.verifyAccessList(_this.accessList);\n        _this.maxFeePerGas = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(maxFeePerGas === '' ? '0x' : maxFeePerGas));\n        _this.maxPriorityFeePerGas = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(maxPriorityFeePerGas === '' ? '0x' : maxPriorityFeePerGas));\n        _this._validateCannotExceedMaxInteger({\n            maxFeePerGas: _this.maxFeePerGas,\n            maxPriorityFeePerGas: _this.maxPriorityFeePerGas,\n        });\n        if (_this.gasLimit.mul(_this.maxFeePerGas).gt(ethereumjs_util_1.MAX_INTEGER)) {\n            var msg = _this._errorMsg('gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)');\n            throw new Error(msg);\n        }\n        if (_this.maxFeePerGas.lt(_this.maxPriorityFeePerGas)) {\n            var msg = _this._errorMsg('maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)');\n            throw new Error(msg);\n        }\n        if (_this.v && !_this.v.eqn(0) && !_this.v.eqn(1)) {\n            var msg = _this._errorMsg('The y-parity of the transaction should either be 0 or 1');\n            throw new Error(msg);\n        }\n        if (_this.common.gteHardfork('homestead') && ((_a = _this.s) === null || _a === void 0 ? void 0 : _a.gt(types_1.N_DIV_2))) {\n            var msg = _this._errorMsg('Invalid Signature: s-values greater than secp256k1n/2 are considered invalid');\n            throw new Error(msg);\n        }\n        if (_this.common.isActivatedEIP(3860)) {\n            (0, util_1.checkMaxInitCodeSize)(_this.common, _this.data.length);\n        }\n        var freeze = (_b = opts === null || opts === void 0 ? void 0 : opts.freeze) !== null && _b !== void 0 ? _b : true;\n        if (freeze) {\n            Object.freeze(_this);\n        }\n        return _this;\n    }\n    Object.defineProperty(FeeMarketEIP1559Transaction.prototype, \"senderR\", {\n        /**\n         * EIP-2930 alias for `r`\n         *\n         * @deprecated use `r` instead\n         */\n        get: function () {\n            return this.r;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FeeMarketEIP1559Transaction.prototype, \"senderS\", {\n        /**\n         * EIP-2930 alias for `s`\n         *\n         * @deprecated use `s` instead\n         */\n        get: function () {\n            return this.s;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FeeMarketEIP1559Transaction.prototype, \"yParity\", {\n        /**\n         * EIP-2930 alias for `v`\n         *\n         * @deprecated use `v` instead\n         */\n        get: function () {\n            return this.v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Instantiate a transaction from a data dictionary.\n     *\n     * Format: { chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, v, r, s }\n     *\n     * Notes:\n     * - `chainId` will be set automatically if not provided\n     * - All parameters are optional and have some basic default values\n     */\n    FeeMarketEIP1559Transaction.fromTxData = function (txData, opts) {\n        if (opts === void 0) { opts = {}; }\n        return new FeeMarketEIP1559Transaction(txData, opts);\n    };\n    /**\n     * Instantiate a transaction from the serialized tx.\n     *\n     * Format: `0x02 || rlp([chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS])`\n     */\n    FeeMarketEIP1559Transaction.fromSerializedTx = function (serialized, opts) {\n        if (opts === void 0) { opts = {}; }\n        if (!serialized.slice(0, 1).equals(TRANSACTION_TYPE_BUFFER)) {\n            throw new Error(\"Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: \".concat(TRANSACTION_TYPE, \", received: \").concat(serialized\n                .slice(0, 1)\n                .toString('hex')));\n        }\n        var values = ethereumjs_util_1.rlp.decode(serialized.slice(1));\n        if (!Array.isArray(values)) {\n            throw new Error('Invalid serialized tx input: must be array');\n        }\n        return FeeMarketEIP1559Transaction.fromValuesArray(values, opts);\n    };\n    /**\n     * Instantiate a transaction from the serialized tx.\n     * (alias of {@link FeeMarketEIP1559Transaction.fromSerializedTx})\n     *\n     * Note: This means that the Buffer should start with 0x01.\n     *\n     * @deprecated this constructor alias is deprecated and will be removed\n     * in favor of the {@link FeeMarketEIP1559Transaction.fromSerializedTx} constructor\n     */\n    FeeMarketEIP1559Transaction.fromRlpSerializedTx = function (serialized, opts) {\n        if (opts === void 0) { opts = {}; }\n        return FeeMarketEIP1559Transaction.fromSerializedTx(serialized, opts);\n    };\n    /**\n     * Create a transaction from a values array.\n     *\n     * Format: `[chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS]`\n     */\n    FeeMarketEIP1559Transaction.fromValuesArray = function (values, opts) {\n        if (opts === void 0) { opts = {}; }\n        if (values.length !== 9 && values.length !== 12) {\n            throw new Error('Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).');\n        }\n        var _a = __read(values, 12), chainId = _a[0], nonce = _a[1], maxPriorityFeePerGas = _a[2], maxFeePerGas = _a[3], gasLimit = _a[4], to = _a[5], value = _a[6], data = _a[7], accessList = _a[8], v = _a[9], r = _a[10], s = _a[11];\n        (0, ethereumjs_util_1.validateNoLeadingZeroes)({ nonce: nonce, maxPriorityFeePerGas: maxPriorityFeePerGas, maxFeePerGas: maxFeePerGas, gasLimit: gasLimit, value: value, v: v, r: r, s: s });\n        return new FeeMarketEIP1559Transaction({\n            chainId: new ethereumjs_util_1.BN(chainId),\n            nonce: nonce,\n            maxPriorityFeePerGas: maxPriorityFeePerGas,\n            maxFeePerGas: maxFeePerGas,\n            gasLimit: gasLimit,\n            to: to,\n            value: value,\n            data: data,\n            accessList: accessList !== null && accessList !== void 0 ? accessList : [],\n            v: v !== undefined ? new ethereumjs_util_1.BN(v) : undefined,\n            r: r,\n            s: s,\n        }, opts);\n    };\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    FeeMarketEIP1559Transaction.prototype.getDataFee = function () {\n        if (this.cache.dataFee && this.cache.dataFee.hardfork === this.common.hardfork()) {\n            return this.cache.dataFee.value;\n        }\n        var cost = _super.prototype.getDataFee.call(this);\n        cost.iaddn(util_1.AccessLists.getDataFeeEIP2930(this.accessList, this.common));\n        if (Object.isFrozen(this)) {\n            this.cache.dataFee = {\n                value: cost,\n                hardfork: this.common.hardfork(),\n            };\n        }\n        return cost;\n    };\n    /**\n     * The up front amount that an account must have for this transaction to be valid\n     * @param baseFee The base fee of the block (will be set to 0 if not provided)\n     */\n    FeeMarketEIP1559Transaction.prototype.getUpfrontCost = function (baseFee) {\n        if (baseFee === void 0) { baseFee = new ethereumjs_util_1.BN(0); }\n        var inclusionFeePerGas = ethereumjs_util_1.BN.min(this.maxPriorityFeePerGas, this.maxFeePerGas.sub(baseFee));\n        var gasPrice = inclusionFeePerGas.add(baseFee);\n        return this.gasLimit.mul(gasPrice).add(this.value);\n    };\n    /**\n     * Returns a Buffer Array of the raw Buffers of the EIP-1559 transaction, in order.\n     *\n     * Format: `[chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS]`\n     *\n     * Use {@link FeeMarketEIP1559Transaction.serialize} to add a transaction to a block\n     * with {@link Block.fromValuesArray}.\n     *\n     * For an unsigned tx this method uses the empty Buffer values for the\n     * signature parameters `v`, `r` and `s` for encoding. For an EIP-155 compliant\n     * representation for external signing use {@link FeeMarketEIP1559Transaction.getMessageToSign}.\n     */\n    FeeMarketEIP1559Transaction.prototype.raw = function () {\n        return [\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.chainId),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.nonce),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.maxPriorityFeePerGas),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.maxFeePerGas),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasLimit),\n            this.to !== undefined ? this.to.buf : Buffer.from([]),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.value),\n            this.data,\n            this.accessList,\n            this.v !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.v) : Buffer.from([]),\n            this.r !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.r) : Buffer.from([]),\n            this.s !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.s) : Buffer.from([]),\n        ];\n    };\n    /**\n     * Returns the serialized encoding of the EIP-1559 transaction.\n     *\n     * Format: `0x02 || rlp([chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS])`\n     *\n     * Note that in contrast to the legacy tx serialization format this is not\n     * valid RLP any more due to the raw tx type preceding and concatenated to\n     * the RLP encoding of the values.\n     */\n    FeeMarketEIP1559Transaction.prototype.serialize = function () {\n        var base = this.raw();\n        return Buffer.concat([TRANSACTION_TYPE_BUFFER, ethereumjs_util_1.rlp.encode(base)]);\n    };\n    /**\n     * Returns the serialized unsigned tx (hashed or raw), which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: in contrast to the legacy tx the raw message format is already\n     * serialized and doesn't need to be RLP encoded any more.\n     *\n     * ```javascript\n     * const serializedMessage = tx.getMessageToSign(false) // use this for the HW wallet input\n     * ```\n     *\n     * @param hashMessage - Return hashed message if set to true (default: true)\n     */\n    FeeMarketEIP1559Transaction.prototype.getMessageToSign = function (hashMessage) {\n        if (hashMessage === void 0) { hashMessage = true; }\n        var base = this.raw().slice(0, 9);\n        var message = Buffer.concat([TRANSACTION_TYPE_BUFFER, ethereumjs_util_1.rlp.encode(base)]);\n        if (hashMessage) {\n            return (0, ethereumjs_util_1.keccak256)(message);\n        }\n        else {\n            return message;\n        }\n    };\n    /**\n     * Computes a sha3-256 hash of the serialized tx.\n     *\n     * This method can only be used for signed txs (it throws otherwise).\n     * Use {@link FeeMarketEIP1559Transaction.getMessageToSign} to get a tx hash for the purpose of signing.\n     */\n    FeeMarketEIP1559Transaction.prototype.hash = function () {\n        if (!this.isSigned()) {\n            var msg = this._errorMsg('Cannot call hash method if transaction is not signed');\n            throw new Error(msg);\n        }\n        if (Object.isFrozen(this)) {\n            if (!this.cache.hash) {\n                this.cache.hash = (0, ethereumjs_util_1.keccak256)(this.serialize());\n            }\n            return this.cache.hash;\n        }\n        return (0, ethereumjs_util_1.keccak256)(this.serialize());\n    };\n    /**\n     * Computes a sha3-256 hash which can be used to verify the signature\n     */\n    FeeMarketEIP1559Transaction.prototype.getMessageToVerifySignature = function () {\n        return this.getMessageToSign();\n    };\n    /**\n     * Returns the public key of the sender\n     */\n    FeeMarketEIP1559Transaction.prototype.getSenderPublicKey = function () {\n        var _a;\n        if (!this.isSigned()) {\n            var msg = this._errorMsg('Cannot call this method if transaction is not signed');\n            throw new Error(msg);\n        }\n        var msgHash = this.getMessageToVerifySignature();\n        // EIP-2: All transaction signatures whose s-value is greater than secp256k1n/2 are considered invalid.\n        // Reasoning: https://ethereum.stackexchange.com/a/55728\n        if (this.common.gteHardfork('homestead') && ((_a = this.s) === null || _a === void 0 ? void 0 : _a.gt(types_1.N_DIV_2))) {\n            var msg = this._errorMsg('Invalid Signature: s-values greater than secp256k1n/2 are considered invalid');\n            throw new Error(msg);\n        }\n        var _b = this, v = _b.v, r = _b.r, s = _b.s;\n        try {\n            return (0, ethereumjs_util_1.ecrecover)(msgHash, v.addn(27), // Recover the 27 which was stripped from ecsign\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(r), (0, ethereumjs_util_1.bnToUnpaddedBuffer)(s));\n        }\n        catch (e) {\n            var msg = this._errorMsg('Invalid Signature');\n            throw new Error(msg);\n        }\n    };\n    FeeMarketEIP1559Transaction.prototype._processSignature = function (v, r, s) {\n        var opts = __assign(__assign({}, this.txOptions), { common: this.common });\n        return FeeMarketEIP1559Transaction.fromTxData({\n            chainId: this.chainId,\n            nonce: this.nonce,\n            maxPriorityFeePerGas: this.maxPriorityFeePerGas,\n            maxFeePerGas: this.maxFeePerGas,\n            gasLimit: this.gasLimit,\n            to: this.to,\n            value: this.value,\n            data: this.data,\n            accessList: this.accessList,\n            v: new ethereumjs_util_1.BN(v - 27),\n            r: new ethereumjs_util_1.BN(r),\n            s: new ethereumjs_util_1.BN(s),\n        }, opts);\n    };\n    /**\n     * Returns an object with the JSON representation of the transaction\n     */\n    FeeMarketEIP1559Transaction.prototype.toJSON = function () {\n        var accessListJSON = util_1.AccessLists.getAccessListJSON(this.accessList);\n        return {\n            chainId: (0, ethereumjs_util_1.bnToHex)(this.chainId),\n            nonce: (0, ethereumjs_util_1.bnToHex)(this.nonce),\n            maxPriorityFeePerGas: (0, ethereumjs_util_1.bnToHex)(this.maxPriorityFeePerGas),\n            maxFeePerGas: (0, ethereumjs_util_1.bnToHex)(this.maxFeePerGas),\n            gasLimit: (0, ethereumjs_util_1.bnToHex)(this.gasLimit),\n            to: this.to !== undefined ? this.to.toString() : undefined,\n            value: (0, ethereumjs_util_1.bnToHex)(this.value),\n            data: '0x' + this.data.toString('hex'),\n            accessList: accessListJSON,\n            v: this.v !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.v) : undefined,\n            r: this.r !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.r) : undefined,\n            s: this.s !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.s) : undefined,\n        };\n    };\n    /**\n     * Return a compact error string representation of the object\n     */\n    FeeMarketEIP1559Transaction.prototype.errorStr = function () {\n        var errorStr = this._getSharedErrorPostfix();\n        errorStr += \" maxFeePerGas=\".concat(this.maxFeePerGas, \" maxPriorityFeePerGas=\").concat(this.maxPriorityFeePerGas);\n        return errorStr;\n    };\n    /**\n     * Internal helper function to create an annotated error message\n     *\n     * @param msg Base error message\n     * @hidden\n     */\n    FeeMarketEIP1559Transaction.prototype._errorMsg = function (msg) {\n        return \"\".concat(msg, \" (\").concat(this.errorStr(), \")\");\n    };\n    return FeeMarketEIP1559Transaction;\n}(baseTransaction_1.BaseTransaction));\nexports.default = FeeMarketEIP1559Transaction;\n//# sourceMappingURL=eip1559Transaction.js.map","\"use strict\";\nimport { arrayify, concat, hexConcat, hexlify } from \"@ethersproject/bytes\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { defineReadOnly } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"../_version\";\nconst logger = new Logger(version);\nexport function checkResultErrors(result) {\n    // Find the first error (if any)\n    const errors = [];\n    const checkErrors = function (path, object) {\n        if (!Array.isArray(object)) {\n            return;\n        }\n        for (let key in object) {\n            const childPath = path.slice();\n            childPath.push(key);\n            try {\n                checkErrors(childPath, object[key]);\n            }\n            catch (error) {\n                errors.push({ path: childPath, error: error });\n            }\n        }\n    };\n    checkErrors([], result);\n    return errors;\n}\nexport class Coder {\n    constructor(name, type, localName, dynamic) {\n        // @TODO: defineReadOnly these\n        this.name = name;\n        this.type = type;\n        this.localName = localName;\n        this.dynamic = dynamic;\n    }\n    _throwError(message, value) {\n        logger.throwArgumentError(message, this.localName, value);\n    }\n}\nexport class Writer {\n    constructor(wordSize) {\n        defineReadOnly(this, \"wordSize\", wordSize || 32);\n        this._data = [];\n        this._dataLength = 0;\n        this._padding = new Uint8Array(wordSize);\n    }\n    get data() {\n        return hexConcat(this._data);\n    }\n    get length() { return this._dataLength; }\n    _writeData(data) {\n        this._data.push(data);\n        this._dataLength += data.length;\n        return data.length;\n    }\n    appendWriter(writer) {\n        return this._writeData(concat(writer._data));\n    }\n    // Arrayish items; padded on the right to wordSize\n    writeBytes(value) {\n        let bytes = arrayify(value);\n        const paddingOffset = bytes.length % this.wordSize;\n        if (paddingOffset) {\n            bytes = concat([bytes, this._padding.slice(paddingOffset)]);\n        }\n        return this._writeData(bytes);\n    }\n    _getValue(value) {\n        let bytes = arrayify(BigNumber.from(value));\n        if (bytes.length > this.wordSize) {\n            logger.throwError(\"value out-of-bounds\", Logger.errors.BUFFER_OVERRUN, {\n                length: this.wordSize,\n                offset: bytes.length\n            });\n        }\n        if (bytes.length % this.wordSize) {\n            bytes = concat([this._padding.slice(bytes.length % this.wordSize), bytes]);\n        }\n        return bytes;\n    }\n    // BigNumberish items; padded on the left to wordSize\n    writeValue(value) {\n        return this._writeData(this._getValue(value));\n    }\n    writeUpdatableValue() {\n        const offset = this._data.length;\n        this._data.push(this._padding);\n        this._dataLength += this.wordSize;\n        return (value) => {\n            this._data[offset] = this._getValue(value);\n        };\n    }\n}\nexport class Reader {\n    constructor(data, wordSize, coerceFunc, allowLoose) {\n        defineReadOnly(this, \"_data\", arrayify(data));\n        defineReadOnly(this, \"wordSize\", wordSize || 32);\n        defineReadOnly(this, \"_coerceFunc\", coerceFunc);\n        defineReadOnly(this, \"allowLoose\", allowLoose);\n        this._offset = 0;\n    }\n    get data() { return hexlify(this._data); }\n    get consumed() { return this._offset; }\n    // The default Coerce function\n    static coerce(name, value) {\n        let match = name.match(\"^u?int([0-9]+)$\");\n        if (match && parseInt(match[1]) <= 48) {\n            value = value.toNumber();\n        }\n        return value;\n    }\n    coerce(name, value) {\n        if (this._coerceFunc) {\n            return this._coerceFunc(name, value);\n        }\n        return Reader.coerce(name, value);\n    }\n    _peekBytes(offset, length, loose) {\n        let alignedLength = Math.ceil(length / this.wordSize) * this.wordSize;\n        if (this._offset + alignedLength > this._data.length) {\n            if (this.allowLoose && loose && this._offset + length <= this._data.length) {\n                alignedLength = length;\n            }\n            else {\n                logger.throwError(\"data out-of-bounds\", Logger.errors.BUFFER_OVERRUN, {\n                    length: this._data.length,\n                    offset: this._offset + alignedLength\n                });\n            }\n        }\n        return this._data.slice(this._offset, this._offset + alignedLength);\n    }\n    subReader(offset) {\n        return new Reader(this._data.slice(this._offset + offset), this.wordSize, this._coerceFunc, this.allowLoose);\n    }\n    readBytes(length, loose) {\n        let bytes = this._peekBytes(0, length, !!loose);\n        this._offset += bytes.length;\n        // @TODO: Make sure the length..end bytes are all 0?\n        return bytes.slice(0, length);\n    }\n    readValue() {\n        return BigNumber.from(this.readBytes(this.wordSize));\n    }\n}\n//# sourceMappingURL=abstract-coder.js.map","export const version = \"strings/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { arrayify } from \"@ethersproject/bytes\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n///////////////////////////////\nexport var UnicodeNormalizationForm;\n(function (UnicodeNormalizationForm) {\n    UnicodeNormalizationForm[\"current\"] = \"\";\n    UnicodeNormalizationForm[\"NFC\"] = \"NFC\";\n    UnicodeNormalizationForm[\"NFD\"] = \"NFD\";\n    UnicodeNormalizationForm[\"NFKC\"] = \"NFKC\";\n    UnicodeNormalizationForm[\"NFKD\"] = \"NFKD\";\n})(UnicodeNormalizationForm || (UnicodeNormalizationForm = {}));\n;\nexport var Utf8ErrorReason;\n(function (Utf8ErrorReason) {\n    // A continuation byte was present where there was nothing to continue\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"UNEXPECTED_CONTINUE\"] = \"unexpected continuation byte\";\n    // An invalid (non-continuation) byte to start a UTF-8 codepoint was found\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"BAD_PREFIX\"] = \"bad codepoint prefix\";\n    // The string is too short to process the expected codepoint\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"OVERRUN\"] = \"string overrun\";\n    // A missing continuation byte was expected but not found\n    // - offset = the index the continuation byte was expected at\n    Utf8ErrorReason[\"MISSING_CONTINUE\"] = \"missing continuation byte\";\n    // The computed code point is outside the range for UTF-8\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; outside the UTF-8 range\n    Utf8ErrorReason[\"OUT_OF_RANGE\"] = \"out of UTF-8 range\";\n    // UTF-8 strings may not contain UTF-16 surrogate pairs\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; inside the UTF-16 surrogate range\n    Utf8ErrorReason[\"UTF16_SURROGATE\"] = \"UTF-16 surrogate\";\n    // The string is an overlong representation\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; already bounds checked\n    Utf8ErrorReason[\"OVERLONG\"] = \"overlong representation\";\n})(Utf8ErrorReason || (Utf8ErrorReason = {}));\n;\nfunction errorFunc(reason, offset, bytes, output, badCodepoint) {\n    return logger.throwArgumentError(`invalid codepoint at offset ${offset}; ${reason}`, \"bytes\", bytes);\n}\nfunction ignoreFunc(reason, offset, bytes, output, badCodepoint) {\n    // If there is an invalid prefix (including stray continuation), skip any additional continuation bytes\n    if (reason === Utf8ErrorReason.BAD_PREFIX || reason === Utf8ErrorReason.UNEXPECTED_CONTINUE) {\n        let i = 0;\n        for (let o = offset + 1; o < bytes.length; o++) {\n            if (bytes[o] >> 6 !== 0x02) {\n                break;\n            }\n            i++;\n        }\n        return i;\n    }\n    // This byte runs us past the end of the string, so just jump to the end\n    // (but the first byte was read already read and therefore skipped)\n    if (reason === Utf8ErrorReason.OVERRUN) {\n        return bytes.length - offset - 1;\n    }\n    // Nothing to skip\n    return 0;\n}\nfunction replaceFunc(reason, offset, bytes, output, badCodepoint) {\n    // Overlong representations are otherwise \"valid\" code points; just non-deistingtished\n    if (reason === Utf8ErrorReason.OVERLONG) {\n        output.push(badCodepoint);\n        return 0;\n    }\n    // Put the replacement character into the output\n    output.push(0xfffd);\n    // Otherwise, process as if ignoring errors\n    return ignoreFunc(reason, offset, bytes, output, badCodepoint);\n}\n// Common error handing strategies\nexport const Utf8ErrorFuncs = Object.freeze({\n    error: errorFunc,\n    ignore: ignoreFunc,\n    replace: replaceFunc\n});\n// http://stackoverflow.com/questions/13356493/decode-utf-8-with-javascript#13691499\nfunction getUtf8CodePoints(bytes, onError) {\n    if (onError == null) {\n        onError = Utf8ErrorFuncs.error;\n    }\n    bytes = arrayify(bytes);\n    const result = [];\n    let i = 0;\n    // Invalid bytes are ignored\n    while (i < bytes.length) {\n        const c = bytes[i++];\n        // 0xxx xxxx\n        if (c >> 7 === 0) {\n            result.push(c);\n            continue;\n        }\n        // Multibyte; how many bytes left for this character?\n        let extraLength = null;\n        let overlongMask = null;\n        // 110x xxxx 10xx xxxx\n        if ((c & 0xe0) === 0xc0) {\n            extraLength = 1;\n            overlongMask = 0x7f;\n            // 1110 xxxx 10xx xxxx 10xx xxxx\n        }\n        else if ((c & 0xf0) === 0xe0) {\n            extraLength = 2;\n            overlongMask = 0x7ff;\n            // 1111 0xxx 10xx xxxx 10xx xxxx 10xx xxxx\n        }\n        else if ((c & 0xf8) === 0xf0) {\n            extraLength = 3;\n            overlongMask = 0xffff;\n        }\n        else {\n            if ((c & 0xc0) === 0x80) {\n                i += onError(Utf8ErrorReason.UNEXPECTED_CONTINUE, i - 1, bytes, result);\n            }\n            else {\n                i += onError(Utf8ErrorReason.BAD_PREFIX, i - 1, bytes, result);\n            }\n            continue;\n        }\n        // Do we have enough bytes in our data?\n        if (i - 1 + extraLength >= bytes.length) {\n            i += onError(Utf8ErrorReason.OVERRUN, i - 1, bytes, result);\n            continue;\n        }\n        // Remove the length prefix from the char\n        let res = c & ((1 << (8 - extraLength - 1)) - 1);\n        for (let j = 0; j < extraLength; j++) {\n            let nextChar = bytes[i];\n            // Invalid continuation byte\n            if ((nextChar & 0xc0) != 0x80) {\n                i += onError(Utf8ErrorReason.MISSING_CONTINUE, i, bytes, result);\n                res = null;\n                break;\n            }\n            ;\n            res = (res << 6) | (nextChar & 0x3f);\n            i++;\n        }\n        // See above loop for invalid continuation byte\n        if (res === null) {\n            continue;\n        }\n        // Maximum code point\n        if (res > 0x10ffff) {\n            i += onError(Utf8ErrorReason.OUT_OF_RANGE, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        // Reserved for UTF-16 surrogate halves\n        if (res >= 0xd800 && res <= 0xdfff) {\n            i += onError(Utf8ErrorReason.UTF16_SURROGATE, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        // Check for overlong sequences (more bytes than needed)\n        if (res <= overlongMask) {\n            i += onError(Utf8ErrorReason.OVERLONG, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        result.push(res);\n    }\n    return result;\n}\n// http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\nexport function toUtf8Bytes(str, form = UnicodeNormalizationForm.current) {\n    if (form != UnicodeNormalizationForm.current) {\n        logger.checkNormalize();\n        str = str.normalize(form);\n    }\n    let result = [];\n    for (let i = 0; i < str.length; i++) {\n        const c = str.charCodeAt(i);\n        if (c < 0x80) {\n            result.push(c);\n        }\n        else if (c < 0x800) {\n            result.push((c >> 6) | 0xc0);\n            result.push((c & 0x3f) | 0x80);\n        }\n        else if ((c & 0xfc00) == 0xd800) {\n            i++;\n            const c2 = str.charCodeAt(i);\n            if (i >= str.length || (c2 & 0xfc00) !== 0xdc00) {\n                throw new Error(\"invalid utf-8 string\");\n            }\n            // Surrogate Pair\n            const pair = 0x10000 + ((c & 0x03ff) << 10) + (c2 & 0x03ff);\n            result.push((pair >> 18) | 0xf0);\n            result.push(((pair >> 12) & 0x3f) | 0x80);\n            result.push(((pair >> 6) & 0x3f) | 0x80);\n            result.push((pair & 0x3f) | 0x80);\n        }\n        else {\n            result.push((c >> 12) | 0xe0);\n            result.push(((c >> 6) & 0x3f) | 0x80);\n            result.push((c & 0x3f) | 0x80);\n        }\n    }\n    return arrayify(result);\n}\n;\nfunction escapeChar(value) {\n    const hex = (\"0000\" + value.toString(16));\n    return \"\\\\u\" + hex.substring(hex.length - 4);\n}\nexport function _toEscapedUtf8String(bytes, onError) {\n    return '\"' + getUtf8CodePoints(bytes, onError).map((codePoint) => {\n        if (codePoint < 256) {\n            switch (codePoint) {\n                case 8: return \"\\\\b\";\n                case 9: return \"\\\\t\";\n                case 10: return \"\\\\n\";\n                case 13: return \"\\\\r\";\n                case 34: return \"\\\\\\\"\";\n                case 92: return \"\\\\\\\\\";\n            }\n            if (codePoint >= 32 && codePoint < 127) {\n                return String.fromCharCode(codePoint);\n            }\n        }\n        if (codePoint <= 0xffff) {\n            return escapeChar(codePoint);\n        }\n        codePoint -= 0x10000;\n        return escapeChar(((codePoint >> 10) & 0x3ff) + 0xd800) + escapeChar((codePoint & 0x3ff) + 0xdc00);\n    }).join(\"\") + '\"';\n}\nexport function _toUtf8String(codePoints) {\n    return codePoints.map((codePoint) => {\n        if (codePoint <= 0xffff) {\n            return String.fromCharCode(codePoint);\n        }\n        codePoint -= 0x10000;\n        return String.fromCharCode((((codePoint >> 10) & 0x3ff) + 0xd800), ((codePoint & 0x3ff) + 0xdc00));\n    }).join(\"\");\n}\nexport function toUtf8String(bytes, onError) {\n    return _toUtf8String(getUtf8CodePoints(bytes, onError));\n}\nexport function toUtf8CodePoints(str, form = UnicodeNormalizationForm.current) {\n    return getUtf8CodePoints(toUtf8Bytes(str, form));\n}\n//# sourceMappingURL=utf8.js.map","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","export const version = \"bytes/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n///////////////////////////////\nfunction isHexable(value) {\n    return !!(value.toHexString);\n}\nfunction addSlice(array) {\n    if (array.slice) {\n        return array;\n    }\n    array.slice = function () {\n        const args = Array.prototype.slice.call(arguments);\n        return addSlice(new Uint8Array(Array.prototype.slice.apply(array, args)));\n    };\n    return array;\n}\nexport function isBytesLike(value) {\n    return ((isHexString(value) && !(value.length % 2)) || isBytes(value));\n}\nfunction isInteger(value) {\n    return (typeof (value) === \"number\" && value == value && (value % 1) === 0);\n}\nexport function isBytes(value) {\n    if (value == null) {\n        return false;\n    }\n    if (value.constructor === Uint8Array) {\n        return true;\n    }\n    if (typeof (value) === \"string\") {\n        return false;\n    }\n    if (!isInteger(value.length) || value.length < 0) {\n        return false;\n    }\n    for (let i = 0; i < value.length; i++) {\n        const v = value[i];\n        if (!isInteger(v) || v < 0 || v >= 256) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function arrayify(value, options) {\n    if (!options) {\n        options = {};\n    }\n    if (typeof (value) === \"number\") {\n        logger.checkSafeUint53(value, \"invalid arrayify value\");\n        const result = [];\n        while (value) {\n            result.unshift(value & 0xff);\n            value = parseInt(String(value / 256));\n        }\n        if (result.length === 0) {\n            result.push(0);\n        }\n        return addSlice(new Uint8Array(result));\n    }\n    if (options.allowMissingPrefix && typeof (value) === \"string\" && value.substring(0, 2) !== \"0x\") {\n        value = \"0x\" + value;\n    }\n    if (isHexable(value)) {\n        value = value.toHexString();\n    }\n    if (isHexString(value)) {\n        let hex = value.substring(2);\n        if (hex.length % 2) {\n            if (options.hexPad === \"left\") {\n                hex = \"0\" + hex;\n            }\n            else if (options.hexPad === \"right\") {\n                hex += \"0\";\n            }\n            else {\n                logger.throwArgumentError(\"hex data is odd-length\", \"value\", value);\n            }\n        }\n        const result = [];\n        for (let i = 0; i < hex.length; i += 2) {\n            result.push(parseInt(hex.substring(i, i + 2), 16));\n        }\n        return addSlice(new Uint8Array(result));\n    }\n    if (isBytes(value)) {\n        return addSlice(new Uint8Array(value));\n    }\n    return logger.throwArgumentError(\"invalid arrayify value\", \"value\", value);\n}\nexport function concat(items) {\n    const objects = items.map(item => arrayify(item));\n    const length = objects.reduce((accum, item) => (accum + item.length), 0);\n    const result = new Uint8Array(length);\n    objects.reduce((offset, object) => {\n        result.set(object, offset);\n        return offset + object.length;\n    }, 0);\n    return addSlice(result);\n}\nexport function stripZeros(value) {\n    let result = arrayify(value);\n    if (result.length === 0) {\n        return result;\n    }\n    // Find the first non-zero entry\n    let start = 0;\n    while (start < result.length && result[start] === 0) {\n        start++;\n    }\n    // If we started with zeros, strip them\n    if (start) {\n        result = result.slice(start);\n    }\n    return result;\n}\nexport function zeroPad(value, length) {\n    value = arrayify(value);\n    if (value.length > length) {\n        logger.throwArgumentError(\"value out of range\", \"value\", arguments[0]);\n    }\n    const result = new Uint8Array(length);\n    result.set(value, length - value.length);\n    return addSlice(result);\n}\nexport function isHexString(value, length) {\n    if (typeof (value) !== \"string\" || !value.match(/^0x[0-9A-Fa-f]*$/)) {\n        return false;\n    }\n    if (length && value.length !== 2 + 2 * length) {\n        return false;\n    }\n    return true;\n}\nconst HexCharacters = \"0123456789abcdef\";\nexport function hexlify(value, options) {\n    if (!options) {\n        options = {};\n    }\n    if (typeof (value) === \"number\") {\n        logger.checkSafeUint53(value, \"invalid hexlify value\");\n        let hex = \"\";\n        while (value) {\n            hex = HexCharacters[value & 0xf] + hex;\n            value = Math.floor(value / 16);\n        }\n        if (hex.length) {\n            if (hex.length % 2) {\n                hex = \"0\" + hex;\n            }\n            return \"0x\" + hex;\n        }\n        return \"0x00\";\n    }\n    if (typeof (value) === \"bigint\") {\n        value = value.toString(16);\n        if (value.length % 2) {\n            return (\"0x0\" + value);\n        }\n        return \"0x\" + value;\n    }\n    if (options.allowMissingPrefix && typeof (value) === \"string\" && value.substring(0, 2) !== \"0x\") {\n        value = \"0x\" + value;\n    }\n    if (isHexable(value)) {\n        return value.toHexString();\n    }\n    if (isHexString(value)) {\n        if (value.length % 2) {\n            if (options.hexPad === \"left\") {\n                value = \"0x0\" + value.substring(2);\n            }\n            else if (options.hexPad === \"right\") {\n                value += \"0\";\n            }\n            else {\n                logger.throwArgumentError(\"hex data is odd-length\", \"value\", value);\n            }\n        }\n        return value.toLowerCase();\n    }\n    if (isBytes(value)) {\n        let result = \"0x\";\n        for (let i = 0; i < value.length; i++) {\n            let v = value[i];\n            result += HexCharacters[(v & 0xf0) >> 4] + HexCharacters[v & 0x0f];\n        }\n        return result;\n    }\n    return logger.throwArgumentError(\"invalid hexlify value\", \"value\", value);\n}\n/*\nfunction unoddify(value: BytesLike | Hexable | number): BytesLike | Hexable | number {\n    if (typeof(value) === \"string\" && value.length % 2 && value.substring(0, 2) === \"0x\") {\n        return \"0x0\" + value.substring(2);\n    }\n    return value;\n}\n*/\nexport function hexDataLength(data) {\n    if (typeof (data) !== \"string\") {\n        data = hexlify(data);\n    }\n    else if (!isHexString(data) || (data.length % 2)) {\n        return null;\n    }\n    return (data.length - 2) / 2;\n}\nexport function hexDataSlice(data, offset, endOffset) {\n    if (typeof (data) !== \"string\") {\n        data = hexlify(data);\n    }\n    else if (!isHexString(data) || (data.length % 2)) {\n        logger.throwArgumentError(\"invalid hexData\", \"value\", data);\n    }\n    offset = 2 + 2 * offset;\n    if (endOffset != null) {\n        return \"0x\" + data.substring(offset, 2 + 2 * endOffset);\n    }\n    return \"0x\" + data.substring(offset);\n}\nexport function hexConcat(items) {\n    let result = \"0x\";\n    items.forEach((item) => {\n        result += hexlify(item).substring(2);\n    });\n    return result;\n}\nexport function hexValue(value) {\n    const trimmed = hexStripZeros(hexlify(value, { hexPad: \"left\" }));\n    if (trimmed === \"0x\") {\n        return \"0x0\";\n    }\n    return trimmed;\n}\nexport function hexStripZeros(value) {\n    if (typeof (value) !== \"string\") {\n        value = hexlify(value);\n    }\n    if (!isHexString(value)) {\n        logger.throwArgumentError(\"invalid hex string\", \"value\", value);\n    }\n    value = value.substring(2);\n    let offset = 0;\n    while (offset < value.length && value[offset] === \"0\") {\n        offset++;\n    }\n    return \"0x\" + value.substring(offset);\n}\nexport function hexZeroPad(value, length) {\n    if (typeof (value) !== \"string\") {\n        value = hexlify(value);\n    }\n    else if (!isHexString(value)) {\n        logger.throwArgumentError(\"invalid hex string\", \"value\", value);\n    }\n    if (value.length > 2 * length + 2) {\n        logger.throwArgumentError(\"value out of range\", \"value\", arguments[1]);\n    }\n    while (value.length < 2 * length + 2) {\n        value = \"0x0\" + value.substring(2);\n    }\n    return value;\n}\nexport function splitSignature(signature) {\n    const result = {\n        r: \"0x\",\n        s: \"0x\",\n        _vs: \"0x\",\n        recoveryParam: 0,\n        v: 0,\n        yParityAndS: \"0x\",\n        compact: \"0x\"\n    };\n    if (isBytesLike(signature)) {\n        let bytes = arrayify(signature);\n        // Get the r, s and v\n        if (bytes.length === 64) {\n            // EIP-2098; pull the v from the top bit of s and clear it\n            result.v = 27 + (bytes[32] >> 7);\n            bytes[32] &= 0x7f;\n            result.r = hexlify(bytes.slice(0, 32));\n            result.s = hexlify(bytes.slice(32, 64));\n        }\n        else if (bytes.length === 65) {\n            result.r = hexlify(bytes.slice(0, 32));\n            result.s = hexlify(bytes.slice(32, 64));\n            result.v = bytes[64];\n        }\n        else {\n            logger.throwArgumentError(\"invalid signature string\", \"signature\", signature);\n        }\n        // Allow a recid to be used as the v\n        if (result.v < 27) {\n            if (result.v === 0 || result.v === 1) {\n                result.v += 27;\n            }\n            else {\n                logger.throwArgumentError(\"signature invalid v byte\", \"signature\", signature);\n            }\n        }\n        // Compute recoveryParam from v\n        result.recoveryParam = 1 - (result.v % 2);\n        // Compute _vs from recoveryParam and s\n        if (result.recoveryParam) {\n            bytes[32] |= 0x80;\n        }\n        result._vs = hexlify(bytes.slice(32, 64));\n    }\n    else {\n        result.r = signature.r;\n        result.s = signature.s;\n        result.v = signature.v;\n        result.recoveryParam = signature.recoveryParam;\n        result._vs = signature._vs;\n        // If the _vs is available, use it to populate missing s, v and recoveryParam\n        // and verify non-missing s, v and recoveryParam\n        if (result._vs != null) {\n            const vs = zeroPad(arrayify(result._vs), 32);\n            result._vs = hexlify(vs);\n            // Set or check the recid\n            const recoveryParam = ((vs[0] >= 128) ? 1 : 0);\n            if (result.recoveryParam == null) {\n                result.recoveryParam = recoveryParam;\n            }\n            else if (result.recoveryParam !== recoveryParam) {\n                logger.throwArgumentError(\"signature recoveryParam mismatch _vs\", \"signature\", signature);\n            }\n            // Set or check the s\n            vs[0] &= 0x7f;\n            const s = hexlify(vs);\n            if (result.s == null) {\n                result.s = s;\n            }\n            else if (result.s !== s) {\n                logger.throwArgumentError(\"signature v mismatch _vs\", \"signature\", signature);\n            }\n        }\n        // Use recid and v to populate each other\n        if (result.recoveryParam == null) {\n            if (result.v == null) {\n                logger.throwArgumentError(\"signature missing v and recoveryParam\", \"signature\", signature);\n            }\n            else if (result.v === 0 || result.v === 1) {\n                result.recoveryParam = result.v;\n            }\n            else {\n                result.recoveryParam = 1 - (result.v % 2);\n            }\n        }\n        else {\n            if (result.v == null) {\n                result.v = 27 + result.recoveryParam;\n            }\n            else {\n                const recId = (result.v === 0 || result.v === 1) ? result.v : (1 - (result.v % 2));\n                if (result.recoveryParam !== recId) {\n                    logger.throwArgumentError(\"signature recoveryParam mismatch v\", \"signature\", signature);\n                }\n            }\n        }\n        if (result.r == null || !isHexString(result.r)) {\n            logger.throwArgumentError(\"signature missing or invalid r\", \"signature\", signature);\n        }\n        else {\n            result.r = hexZeroPad(result.r, 32);\n        }\n        if (result.s == null || !isHexString(result.s)) {\n            logger.throwArgumentError(\"signature missing or invalid s\", \"signature\", signature);\n        }\n        else {\n            result.s = hexZeroPad(result.s, 32);\n        }\n        const vs = arrayify(result.s);\n        if (vs[0] >= 128) {\n            logger.throwArgumentError(\"signature s out of range\", \"signature\", signature);\n        }\n        if (result.recoveryParam) {\n            vs[0] |= 0x80;\n        }\n        const _vs = hexlify(vs);\n        if (result._vs) {\n            if (!isHexString(result._vs)) {\n                logger.throwArgumentError(\"signature invalid _vs\", \"signature\", signature);\n            }\n            result._vs = hexZeroPad(result._vs, 32);\n        }\n        // Set or check the _vs\n        if (result._vs == null) {\n            result._vs = _vs;\n        }\n        else if (result._vs !== _vs) {\n            logger.throwArgumentError(\"signature _vs mismatch v and s\", \"signature\", signature);\n        }\n    }\n    result.yParityAndS = result._vs;\n    result.compact = result.r + result.yParityAndS.substring(2);\n    return result;\n}\nexport function joinSignature(signature) {\n    signature = splitSignature(signature);\n    return hexlify(concat([\n        signature.r,\n        signature.s,\n        (signature.recoveryParam ? \"0x1c\" : \"0x1b\")\n    ]));\n}\n//# sourceMappingURL=index.js.map","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","\"use strict\";\nimport { getAddress } from \"@ethersproject/address\";\nimport { hexZeroPad } from \"@ethersproject/bytes\";\nimport { Coder } from \"./abstract-coder\";\nexport class AddressCoder extends Coder {\n    constructor(localName) {\n        super(\"address\", \"address\", localName, false);\n    }\n    defaultValue() {\n        return \"0x0000000000000000000000000000000000000000\";\n    }\n    encode(writer, value) {\n        try {\n            value = getAddress(value);\n        }\n        catch (error) {\n            this._throwError(error.message, value);\n        }\n        return writer.writeValue(value);\n    }\n    decode(reader) {\n        return getAddress(hexZeroPad(reader.readValue().toHexString(), 20));\n    }\n}\n//# sourceMappingURL=address.js.map","\"use strict\";\nimport { Coder } from \"./abstract-coder\";\n// Clones the functionality of an existing Coder, but without a localName\nexport class AnonymousCoder extends Coder {\n    constructor(coder) {\n        super(coder.name, coder.type, undefined, coder.dynamic);\n        this.coder = coder;\n    }\n    defaultValue() {\n        return this.coder.defaultValue();\n    }\n    encode(writer, value) {\n        return this.coder.encode(writer, value);\n    }\n    decode(reader) {\n        return this.coder.decode(reader);\n    }\n}\n//# sourceMappingURL=anonymous.js.map","\"use strict\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"../_version\";\nconst logger = new Logger(version);\nimport { Coder, Writer } from \"./abstract-coder\";\nimport { AnonymousCoder } from \"./anonymous\";\nexport function pack(writer, coders, values) {\n    let arrayValues = null;\n    if (Array.isArray(values)) {\n        arrayValues = values;\n    }\n    else if (values && typeof (values) === \"object\") {\n        let unique = {};\n        arrayValues = coders.map((coder) => {\n            const name = coder.localName;\n            if (!name) {\n                logger.throwError(\"cannot encode object for signature with missing names\", Logger.errors.INVALID_ARGUMENT, {\n                    argument: \"values\",\n                    coder: coder,\n                    value: values\n                });\n            }\n            if (unique[name]) {\n                logger.throwError(\"cannot encode object for signature with duplicate names\", Logger.errors.INVALID_ARGUMENT, {\n                    argument: \"values\",\n                    coder: coder,\n                    value: values\n                });\n            }\n            unique[name] = true;\n            return values[name];\n        });\n    }\n    else {\n        logger.throwArgumentError(\"invalid tuple value\", \"tuple\", values);\n    }\n    if (coders.length !== arrayValues.length) {\n        logger.throwArgumentError(\"types/value length mismatch\", \"tuple\", values);\n    }\n    let staticWriter = new Writer(writer.wordSize);\n    let dynamicWriter = new Writer(writer.wordSize);\n    let updateFuncs = [];\n    coders.forEach((coder, index) => {\n        let value = arrayValues[index];\n        if (coder.dynamic) {\n            // Get current dynamic offset (for the future pointer)\n            let dynamicOffset = dynamicWriter.length;\n            // Encode the dynamic value into the dynamicWriter\n            coder.encode(dynamicWriter, value);\n            // Prepare to populate the correct offset once we are done\n            let updateFunc = staticWriter.writeUpdatableValue();\n            updateFuncs.push((baseOffset) => {\n                updateFunc(baseOffset + dynamicOffset);\n            });\n        }\n        else {\n            coder.encode(staticWriter, value);\n        }\n    });\n    // Backfill all the dynamic offsets, now that we know the static length\n    updateFuncs.forEach((func) => { func(staticWriter.length); });\n    let length = writer.appendWriter(staticWriter);\n    length += writer.appendWriter(dynamicWriter);\n    return length;\n}\nexport function unpack(reader, coders) {\n    let values = [];\n    // A reader anchored to this base\n    let baseReader = reader.subReader(0);\n    coders.forEach((coder) => {\n        let value = null;\n        if (coder.dynamic) {\n            let offset = reader.readValue();\n            let offsetReader = baseReader.subReader(offset.toNumber());\n            try {\n                value = coder.decode(offsetReader);\n            }\n            catch (error) {\n                // Cannot recover from this\n                if (error.code === Logger.errors.BUFFER_OVERRUN) {\n                    throw error;\n                }\n                value = error;\n                value.baseType = coder.name;\n                value.name = coder.localName;\n                value.type = coder.type;\n            }\n        }\n        else {\n            try {\n                value = coder.decode(reader);\n            }\n            catch (error) {\n                // Cannot recover from this\n                if (error.code === Logger.errors.BUFFER_OVERRUN) {\n                    throw error;\n                }\n                value = error;\n                value.baseType = coder.name;\n                value.name = coder.localName;\n                value.type = coder.type;\n            }\n        }\n        if (value != undefined) {\n            values.push(value);\n        }\n    });\n    // We only output named properties for uniquely named coders\n    const uniqueNames = coders.reduce((accum, coder) => {\n        const name = coder.localName;\n        if (name) {\n            if (!accum[name]) {\n                accum[name] = 0;\n            }\n            accum[name]++;\n        }\n        return accum;\n    }, {});\n    // Add any named parameters (i.e. tuples)\n    coders.forEach((coder, index) => {\n        let name = coder.localName;\n        if (!name || uniqueNames[name] !== 1) {\n            return;\n        }\n        if (name === \"length\") {\n            name = \"_length\";\n        }\n        if (values[name] != null) {\n            return;\n        }\n        const value = values[index];\n        if (value instanceof Error) {\n            Object.defineProperty(values, name, {\n                enumerable: true,\n                get: () => { throw value; }\n            });\n        }\n        else {\n            values[name] = value;\n        }\n    });\n    for (let i = 0; i < values.length; i++) {\n        const value = values[i];\n        if (value instanceof Error) {\n            Object.defineProperty(values, i, {\n                enumerable: true,\n                get: () => { throw value; }\n            });\n        }\n    }\n    return Object.freeze(values);\n}\nexport class ArrayCoder extends Coder {\n    constructor(coder, length, localName) {\n        const type = (coder.type + \"[\" + (length >= 0 ? length : \"\") + \"]\");\n        const dynamic = (length === -1 || coder.dynamic);\n        super(\"array\", type, localName, dynamic);\n        this.coder = coder;\n        this.length = length;\n    }\n    defaultValue() {\n        // Verifies the child coder is valid (even if the array is dynamic or 0-length)\n        const defaultChild = this.coder.defaultValue();\n        const result = [];\n        for (let i = 0; i < this.length; i++) {\n            result.push(defaultChild);\n        }\n        return result;\n    }\n    encode(writer, value) {\n        if (!Array.isArray(value)) {\n            this._throwError(\"expected array value\", value);\n        }\n        let count = this.length;\n        if (count === -1) {\n            count = value.length;\n            writer.writeValue(value.length);\n        }\n        logger.checkArgumentCount(value.length, count, \"coder array\" + (this.localName ? (\" \" + this.localName) : \"\"));\n        let coders = [];\n        for (let i = 0; i < value.length; i++) {\n            coders.push(this.coder);\n        }\n        return pack(writer, coders, value);\n    }\n    decode(reader) {\n        let count = this.length;\n        if (count === -1) {\n            count = reader.readValue().toNumber();\n            // Check that there is *roughly* enough data to ensure\n            // stray random data is not being read as a length. Each\n            // slot requires at least 32 bytes for their value (or 32\n            // bytes as a link to the data). This could use a much\n            // tighter bound, but we are erroring on the side of safety.\n            if (count * 32 > reader._data.length) {\n                logger.throwError(\"insufficient data length\", Logger.errors.BUFFER_OVERRUN, {\n                    length: reader._data.length,\n                    count: count\n                });\n            }\n        }\n        let coders = [];\n        for (let i = 0; i < count; i++) {\n            coders.push(new AnonymousCoder(this.coder));\n        }\n        return reader.coerce(this.name, unpack(reader, coders));\n    }\n}\n//# sourceMappingURL=array.js.map","\"use strict\";\nimport { Coder } from \"./abstract-coder\";\nexport class BooleanCoder extends Coder {\n    constructor(localName) {\n        super(\"bool\", \"bool\", localName, false);\n    }\n    defaultValue() {\n        return false;\n    }\n    encode(writer, value) {\n        return writer.writeValue(value ? 1 : 0);\n    }\n    decode(reader) {\n        return reader.coerce(this.type, !reader.readValue().isZero());\n    }\n}\n//# sourceMappingURL=boolean.js.map","\"use strict\";\nimport { arrayify, hexlify } from \"@ethersproject/bytes\";\nimport { Coder } from \"./abstract-coder\";\nexport class DynamicBytesCoder extends Coder {\n    constructor(type, localName) {\n        super(type, type, localName, true);\n    }\n    defaultValue() {\n        return \"0x\";\n    }\n    encode(writer, value) {\n        value = arrayify(value);\n        let length = writer.writeValue(value.length);\n        length += writer.writeBytes(value);\n        return length;\n    }\n    decode(reader) {\n        return reader.readBytes(reader.readValue().toNumber(), true);\n    }\n}\nexport class BytesCoder extends DynamicBytesCoder {\n    constructor(localName) {\n        super(\"bytes\", localName);\n    }\n    decode(reader) {\n        return reader.coerce(this.name, hexlify(super.decode(reader)));\n    }\n}\n//# sourceMappingURL=bytes.js.map","\"use strict\";\nimport { arrayify, hexlify } from \"@ethersproject/bytes\";\nimport { Coder } from \"./abstract-coder\";\n// @TODO: Merge this with bytes\nexport class FixedBytesCoder extends Coder {\n    constructor(size, localName) {\n        let name = \"bytes\" + String(size);\n        super(name, name, localName, false);\n        this.size = size;\n    }\n    defaultValue() {\n        return (\"0x0000000000000000000000000000000000000000000000000000000000000000\").substring(0, 2 + this.size * 2);\n    }\n    encode(writer, value) {\n        let data = arrayify(value);\n        if (data.length !== this.size) {\n            this._throwError(\"incorrect data length\", value);\n        }\n        return writer.writeBytes(data);\n    }\n    decode(reader) {\n        return reader.coerce(this.name, hexlify(reader.readBytes(this.size)));\n    }\n}\n//# sourceMappingURL=fixed-bytes.js.map","\"use strict\";\nimport { Coder } from \"./abstract-coder\";\nexport class NullCoder extends Coder {\n    constructor(localName) {\n        super(\"null\", \"\", localName, false);\n    }\n    defaultValue() {\n        return null;\n    }\n    encode(writer, value) {\n        if (value != null) {\n            this._throwError(\"not null\", value);\n        }\n        return writer.writeBytes([]);\n    }\n    decode(reader) {\n        reader.readBytes(0);\n        return reader.coerce(this.name, null);\n    }\n}\n//# sourceMappingURL=null.js.map","\"use strict\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { MaxUint256, NegativeOne, One, Zero } from \"@ethersproject/constants\";\nimport { Coder } from \"./abstract-coder\";\nexport class NumberCoder extends Coder {\n    constructor(size, signed, localName) {\n        const name = ((signed ? \"int\" : \"uint\") + (size * 8));\n        super(name, name, localName, false);\n        this.size = size;\n        this.signed = signed;\n    }\n    defaultValue() {\n        return 0;\n    }\n    encode(writer, value) {\n        let v = BigNumber.from(value);\n        // Check bounds are safe for encoding\n        let maxUintValue = MaxUint256.mask(writer.wordSize * 8);\n        if (this.signed) {\n            let bounds = maxUintValue.mask(this.size * 8 - 1);\n            if (v.gt(bounds) || v.lt(bounds.add(One).mul(NegativeOne))) {\n                this._throwError(\"value out-of-bounds\", value);\n            }\n        }\n        else if (v.lt(Zero) || v.gt(maxUintValue.mask(this.size * 8))) {\n            this._throwError(\"value out-of-bounds\", value);\n        }\n        v = v.toTwos(this.size * 8).mask(this.size * 8);\n        if (this.signed) {\n            v = v.fromTwos(this.size * 8).toTwos(8 * writer.wordSize);\n        }\n        return writer.writeValue(v);\n    }\n    decode(reader) {\n        let value = reader.readValue().mask(this.size * 8);\n        if (this.signed) {\n            value = value.fromTwos(this.size * 8);\n        }\n        return reader.coerce(this.name, value);\n    }\n}\n//# sourceMappingURL=number.js.map","\"use strict\";\nimport { toUtf8Bytes, toUtf8String } from \"@ethersproject/strings\";\nimport { DynamicBytesCoder } from \"./bytes\";\nexport class StringCoder extends DynamicBytesCoder {\n    constructor(localName) {\n        super(\"string\", localName);\n    }\n    defaultValue() {\n        return \"\";\n    }\n    encode(writer, value) {\n        return super.encode(writer, toUtf8Bytes(value));\n    }\n    decode(reader) {\n        return toUtf8String(super.decode(reader));\n    }\n}\n//# sourceMappingURL=string.js.map","\"use strict\";\nimport { Coder } from \"./abstract-coder\";\nimport { pack, unpack } from \"./array\";\nexport class TupleCoder extends Coder {\n    constructor(coders, localName) {\n        let dynamic = false;\n        const types = [];\n        coders.forEach((coder) => {\n            if (coder.dynamic) {\n                dynamic = true;\n            }\n            types.push(coder.type);\n        });\n        const type = (\"tuple(\" + types.join(\",\") + \")\");\n        super(\"tuple\", type, localName, dynamic);\n        this.coders = coders;\n    }\n    defaultValue() {\n        const values = [];\n        this.coders.forEach((coder) => {\n            values.push(coder.defaultValue());\n        });\n        // We only output named properties for uniquely named coders\n        const uniqueNames = this.coders.reduce((accum, coder) => {\n            const name = coder.localName;\n            if (name) {\n                if (!accum[name]) {\n                    accum[name] = 0;\n                }\n                accum[name]++;\n            }\n            return accum;\n        }, {});\n        // Add named values\n        this.coders.forEach((coder, index) => {\n            let name = coder.localName;\n            if (!name || uniqueNames[name] !== 1) {\n                return;\n            }\n            if (name === \"length\") {\n                name = \"_length\";\n            }\n            if (values[name] != null) {\n                return;\n            }\n            values[name] = values[index];\n        });\n        return Object.freeze(values);\n    }\n    encode(writer, value) {\n        return pack(writer, this.coders, value);\n    }\n    decode(reader) {\n        return reader.coerce(this.name, unpack(reader, this.coders));\n    }\n}\n//# sourceMappingURL=tuple.js.map","\"use strict\";\n// See: https://github.com/ethereum/wiki/wiki/Ethereum-Contract-ABI\nimport { arrayify } from \"@ethersproject/bytes\";\nimport { defineReadOnly } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { Reader, Writer } from \"./coders/abstract-coder\";\nimport { AddressCoder } from \"./coders/address\";\nimport { ArrayCoder } from \"./coders/array\";\nimport { BooleanCoder } from \"./coders/boolean\";\nimport { BytesCoder } from \"./coders/bytes\";\nimport { FixedBytesCoder } from \"./coders/fixed-bytes\";\nimport { NullCoder } from \"./coders/null\";\nimport { NumberCoder } from \"./coders/number\";\nimport { StringCoder } from \"./coders/string\";\nimport { TupleCoder } from \"./coders/tuple\";\nimport { ParamType } from \"./fragments\";\nconst paramTypeBytes = new RegExp(/^bytes([0-9]*)$/);\nconst paramTypeNumber = new RegExp(/^(u?int)([0-9]*)$/);\nexport class AbiCoder {\n    constructor(coerceFunc) {\n        defineReadOnly(this, \"coerceFunc\", coerceFunc || null);\n    }\n    _getCoder(param) {\n        switch (param.baseType) {\n            case \"address\":\n                return new AddressCoder(param.name);\n            case \"bool\":\n                return new BooleanCoder(param.name);\n            case \"string\":\n                return new StringCoder(param.name);\n            case \"bytes\":\n                return new BytesCoder(param.name);\n            case \"array\":\n                return new ArrayCoder(this._getCoder(param.arrayChildren), param.arrayLength, param.name);\n            case \"tuple\":\n                return new TupleCoder((param.components || []).map((component) => {\n                    return this._getCoder(component);\n                }), param.name);\n            case \"\":\n                return new NullCoder(param.name);\n        }\n        // u?int[0-9]*\n        let match = param.type.match(paramTypeNumber);\n        if (match) {\n            let size = parseInt(match[2] || \"256\");\n            if (size === 0 || size > 256 || (size % 8) !== 0) {\n                logger.throwArgumentError(\"invalid \" + match[1] + \" bit length\", \"param\", param);\n            }\n            return new NumberCoder(size / 8, (match[1] === \"int\"), param.name);\n        }\n        // bytes[0-9]+\n        match = param.type.match(paramTypeBytes);\n        if (match) {\n            let size = parseInt(match[1]);\n            if (size === 0 || size > 32) {\n                logger.throwArgumentError(\"invalid bytes length\", \"param\", param);\n            }\n            return new FixedBytesCoder(size, param.name);\n        }\n        return logger.throwArgumentError(\"invalid type\", \"type\", param.type);\n    }\n    _getWordSize() { return 32; }\n    _getReader(data, allowLoose) {\n        return new Reader(data, this._getWordSize(), this.coerceFunc, allowLoose);\n    }\n    _getWriter() {\n        return new Writer(this._getWordSize());\n    }\n    getDefaultValue(types) {\n        const coders = types.map((type) => this._getCoder(ParamType.from(type)));\n        const coder = new TupleCoder(coders, \"_\");\n        return coder.defaultValue();\n    }\n    encode(types, values) {\n        if (types.length !== values.length) {\n            logger.throwError(\"types/values length mismatch\", Logger.errors.INVALID_ARGUMENT, {\n                count: { types: types.length, values: values.length },\n                value: { types: types, values: values }\n            });\n        }\n        const coders = types.map((type) => this._getCoder(ParamType.from(type)));\n        const coder = (new TupleCoder(coders, \"_\"));\n        const writer = this._getWriter();\n        coder.encode(writer, values);\n        return writer.data;\n    }\n    decode(types, data, loose) {\n        const coders = types.map((type) => this._getCoder(ParamType.from(type)));\n        const coder = new TupleCoder(coders, \"_\");\n        return coder.decode(this._getReader(arrayify(data), loose));\n    }\n}\nexport const defaultAbiCoder = new AbiCoder();\n//# sourceMappingURL=abi-coder.js.map","export const version = \"transactions/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { getAddress } from \"@ethersproject/address\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { arrayify, hexConcat, hexDataLength, hexDataSlice, hexlify, hexZeroPad, isBytesLike, splitSignature, stripZeros, } from \"@ethersproject/bytes\";\nimport { Zero } from \"@ethersproject/constants\";\nimport { keccak256 } from \"@ethersproject/keccak256\";\nimport { checkProperties } from \"@ethersproject/properties\";\nimport * as RLP from \"@ethersproject/rlp\";\nimport { computePublicKey, recoverPublicKey } from \"@ethersproject/signing-key\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nexport var TransactionTypes;\n(function (TransactionTypes) {\n    TransactionTypes[TransactionTypes[\"legacy\"] = 0] = \"legacy\";\n    TransactionTypes[TransactionTypes[\"eip2930\"] = 1] = \"eip2930\";\n    TransactionTypes[TransactionTypes[\"eip1559\"] = 2] = \"eip1559\";\n})(TransactionTypes || (TransactionTypes = {}));\n;\n///////////////////////////////\nfunction handleAddress(value) {\n    if (value === \"0x\") {\n        return null;\n    }\n    return getAddress(value);\n}\nfunction handleNumber(value) {\n    if (value === \"0x\") {\n        return Zero;\n    }\n    return BigNumber.from(value);\n}\n// Legacy Transaction Fields\nconst transactionFields = [\n    { name: \"nonce\", maxLength: 32, numeric: true },\n    { name: \"gasPrice\", maxLength: 32, numeric: true },\n    { name: \"gasLimit\", maxLength: 32, numeric: true },\n    { name: \"to\", length: 20 },\n    { name: \"value\", maxLength: 32, numeric: true },\n    { name: \"data\" },\n];\nconst allowedTransactionKeys = {\n    chainId: true, data: true, gasLimit: true, gasPrice: true, nonce: true, to: true, type: true, value: true\n};\nexport function computeAddress(key) {\n    const publicKey = computePublicKey(key);\n    return getAddress(hexDataSlice(keccak256(hexDataSlice(publicKey, 1)), 12));\n}\nexport function recoverAddress(digest, signature) {\n    return computeAddress(recoverPublicKey(arrayify(digest), signature));\n}\nfunction formatNumber(value, name) {\n    const result = stripZeros(BigNumber.from(value).toHexString());\n    if (result.length > 32) {\n        logger.throwArgumentError(\"invalid length for \" + name, (\"transaction:\" + name), value);\n    }\n    return result;\n}\nfunction accessSetify(addr, storageKeys) {\n    return {\n        address: getAddress(addr),\n        storageKeys: (storageKeys || []).map((storageKey, index) => {\n            if (hexDataLength(storageKey) !== 32) {\n                logger.throwArgumentError(\"invalid access list storageKey\", `accessList[${addr}:${index}]`, storageKey);\n            }\n            return storageKey.toLowerCase();\n        })\n    };\n}\nexport function accessListify(value) {\n    if (Array.isArray(value)) {\n        return value.map((set, index) => {\n            if (Array.isArray(set)) {\n                if (set.length > 2) {\n                    logger.throwArgumentError(\"access list expected to be [ address, storageKeys[] ]\", `value[${index}]`, set);\n                }\n                return accessSetify(set[0], set[1]);\n            }\n            return accessSetify(set.address, set.storageKeys);\n        });\n    }\n    const result = Object.keys(value).map((addr) => {\n        const storageKeys = value[addr].reduce((accum, storageKey) => {\n            accum[storageKey] = true;\n            return accum;\n        }, {});\n        return accessSetify(addr, Object.keys(storageKeys).sort());\n    });\n    result.sort((a, b) => (a.address.localeCompare(b.address)));\n    return result;\n}\nfunction formatAccessList(value) {\n    return accessListify(value).map((set) => [set.address, set.storageKeys]);\n}\nfunction _serializeEip1559(transaction, signature) {\n    // If there is an explicit gasPrice, make sure it matches the\n    // EIP-1559 fees; otherwise they may not understand what they\n    // think they are setting in terms of fee.\n    if (transaction.gasPrice != null) {\n        const gasPrice = BigNumber.from(transaction.gasPrice);\n        const maxFeePerGas = BigNumber.from(transaction.maxFeePerGas || 0);\n        if (!gasPrice.eq(maxFeePerGas)) {\n            logger.throwArgumentError(\"mismatch EIP-1559 gasPrice != maxFeePerGas\", \"tx\", {\n                gasPrice, maxFeePerGas\n            });\n        }\n    }\n    const fields = [\n        formatNumber(transaction.chainId || 0, \"chainId\"),\n        formatNumber(transaction.nonce || 0, \"nonce\"),\n        formatNumber(transaction.maxPriorityFeePerGas || 0, \"maxPriorityFeePerGas\"),\n        formatNumber(transaction.maxFeePerGas || 0, \"maxFeePerGas\"),\n        formatNumber(transaction.gasLimit || 0, \"gasLimit\"),\n        ((transaction.to != null) ? getAddress(transaction.to) : \"0x\"),\n        formatNumber(transaction.value || 0, \"value\"),\n        (transaction.data || \"0x\"),\n        (formatAccessList(transaction.accessList || []))\n    ];\n    if (signature) {\n        const sig = splitSignature(signature);\n        fields.push(formatNumber(sig.recoveryParam, \"recoveryParam\"));\n        fields.push(stripZeros(sig.r));\n        fields.push(stripZeros(sig.s));\n    }\n    return hexConcat([\"0x02\", RLP.encode(fields)]);\n}\nfunction _serializeEip2930(transaction, signature) {\n    const fields = [\n        formatNumber(transaction.chainId || 0, \"chainId\"),\n        formatNumber(transaction.nonce || 0, \"nonce\"),\n        formatNumber(transaction.gasPrice || 0, \"gasPrice\"),\n        formatNumber(transaction.gasLimit || 0, \"gasLimit\"),\n        ((transaction.to != null) ? getAddress(transaction.to) : \"0x\"),\n        formatNumber(transaction.value || 0, \"value\"),\n        (transaction.data || \"0x\"),\n        (formatAccessList(transaction.accessList || []))\n    ];\n    if (signature) {\n        const sig = splitSignature(signature);\n        fields.push(formatNumber(sig.recoveryParam, \"recoveryParam\"));\n        fields.push(stripZeros(sig.r));\n        fields.push(stripZeros(sig.s));\n    }\n    return hexConcat([\"0x01\", RLP.encode(fields)]);\n}\n// Legacy Transactions and EIP-155\nfunction _serialize(transaction, signature) {\n    checkProperties(transaction, allowedTransactionKeys);\n    const raw = [];\n    transactionFields.forEach(function (fieldInfo) {\n        let value = transaction[fieldInfo.name] || ([]);\n        const options = {};\n        if (fieldInfo.numeric) {\n            options.hexPad = \"left\";\n        }\n        value = arrayify(hexlify(value, options));\n        // Fixed-width field\n        if (fieldInfo.length && value.length !== fieldInfo.length && value.length > 0) {\n            logger.throwArgumentError(\"invalid length for \" + fieldInfo.name, (\"transaction:\" + fieldInfo.name), value);\n        }\n        // Variable-width (with a maximum)\n        if (fieldInfo.maxLength) {\n            value = stripZeros(value);\n            if (value.length > fieldInfo.maxLength) {\n                logger.throwArgumentError(\"invalid length for \" + fieldInfo.name, (\"transaction:\" + fieldInfo.name), value);\n            }\n        }\n        raw.push(hexlify(value));\n    });\n    let chainId = 0;\n    if (transaction.chainId != null) {\n        // A chainId was provided; if non-zero we'll use EIP-155\n        chainId = transaction.chainId;\n        if (typeof (chainId) !== \"number\") {\n            logger.throwArgumentError(\"invalid transaction.chainId\", \"transaction\", transaction);\n        }\n    }\n    else if (signature && !isBytesLike(signature) && signature.v > 28) {\n        // No chainId provided, but the signature is signing with EIP-155; derive chainId\n        chainId = Math.floor((signature.v - 35) / 2);\n    }\n    // We have an EIP-155 transaction (chainId was specified and non-zero)\n    if (chainId !== 0) {\n        raw.push(hexlify(chainId)); // @TODO: hexValue?\n        raw.push(\"0x\");\n        raw.push(\"0x\");\n    }\n    // Requesting an unsigned transaction\n    if (!signature) {\n        return RLP.encode(raw);\n    }\n    // The splitSignature will ensure the transaction has a recoveryParam in the\n    // case that the signTransaction function only adds a v.\n    const sig = splitSignature(signature);\n    // We pushed a chainId and null r, s on for hashing only; remove those\n    let v = 27 + sig.recoveryParam;\n    if (chainId !== 0) {\n        raw.pop();\n        raw.pop();\n        raw.pop();\n        v += chainId * 2 + 8;\n        // If an EIP-155 v (directly or indirectly; maybe _vs) was provided, check it!\n        if (sig.v > 28 && sig.v !== v) {\n            logger.throwArgumentError(\"transaction.chainId/signature.v mismatch\", \"signature\", signature);\n        }\n    }\n    else if (sig.v !== v) {\n        logger.throwArgumentError(\"transaction.chainId/signature.v mismatch\", \"signature\", signature);\n    }\n    raw.push(hexlify(v));\n    raw.push(stripZeros(arrayify(sig.r)));\n    raw.push(stripZeros(arrayify(sig.s)));\n    return RLP.encode(raw);\n}\nexport function serialize(transaction, signature) {\n    // Legacy and EIP-155 Transactions\n    if (transaction.type == null || transaction.type === 0) {\n        if (transaction.accessList != null) {\n            logger.throwArgumentError(\"untyped transactions do not support accessList; include type: 1\", \"transaction\", transaction);\n        }\n        return _serialize(transaction, signature);\n    }\n    // Typed Transactions (EIP-2718)\n    switch (transaction.type) {\n        case 1:\n            return _serializeEip2930(transaction, signature);\n        case 2:\n            return _serializeEip1559(transaction, signature);\n        default:\n            break;\n    }\n    return logger.throwError(`unsupported transaction type: ${transaction.type}`, Logger.errors.UNSUPPORTED_OPERATION, {\n        operation: \"serializeTransaction\",\n        transactionType: transaction.type\n    });\n}\nfunction _parseEipSignature(tx, fields, serialize) {\n    try {\n        const recid = handleNumber(fields[0]).toNumber();\n        if (recid !== 0 && recid !== 1) {\n            throw new Error(\"bad recid\");\n        }\n        tx.v = recid;\n    }\n    catch (error) {\n        logger.throwArgumentError(\"invalid v for transaction type: 1\", \"v\", fields[0]);\n    }\n    tx.r = hexZeroPad(fields[1], 32);\n    tx.s = hexZeroPad(fields[2], 32);\n    try {\n        const digest = keccak256(serialize(tx));\n        tx.from = recoverAddress(digest, { r: tx.r, s: tx.s, recoveryParam: tx.v });\n    }\n    catch (error) { }\n}\nfunction _parseEip1559(payload) {\n    const transaction = RLP.decode(payload.slice(1));\n    if (transaction.length !== 9 && transaction.length !== 12) {\n        logger.throwArgumentError(\"invalid component count for transaction type: 2\", \"payload\", hexlify(payload));\n    }\n    const maxPriorityFeePerGas = handleNumber(transaction[2]);\n    const maxFeePerGas = handleNumber(transaction[3]);\n    const tx = {\n        type: 2,\n        chainId: handleNumber(transaction[0]).toNumber(),\n        nonce: handleNumber(transaction[1]).toNumber(),\n        maxPriorityFeePerGas: maxPriorityFeePerGas,\n        maxFeePerGas: maxFeePerGas,\n        gasPrice: null,\n        gasLimit: handleNumber(transaction[4]),\n        to: handleAddress(transaction[5]),\n        value: handleNumber(transaction[6]),\n        data: transaction[7],\n        accessList: accessListify(transaction[8]),\n    };\n    // Unsigned EIP-1559 Transaction\n    if (transaction.length === 9) {\n        return tx;\n    }\n    tx.hash = keccak256(payload);\n    _parseEipSignature(tx, transaction.slice(9), _serializeEip1559);\n    return tx;\n}\nfunction _parseEip2930(payload) {\n    const transaction = RLP.decode(payload.slice(1));\n    if (transaction.length !== 8 && transaction.length !== 11) {\n        logger.throwArgumentError(\"invalid component count for transaction type: 1\", \"payload\", hexlify(payload));\n    }\n    const tx = {\n        type: 1,\n        chainId: handleNumber(transaction[0]).toNumber(),\n        nonce: handleNumber(transaction[1]).toNumber(),\n        gasPrice: handleNumber(transaction[2]),\n        gasLimit: handleNumber(transaction[3]),\n        to: handleAddress(transaction[4]),\n        value: handleNumber(transaction[5]),\n        data: transaction[6],\n        accessList: accessListify(transaction[7])\n    };\n    // Unsigned EIP-2930 Transaction\n    if (transaction.length === 8) {\n        return tx;\n    }\n    tx.hash = keccak256(payload);\n    _parseEipSignature(tx, transaction.slice(8), _serializeEip2930);\n    return tx;\n}\n// Legacy Transactions and EIP-155\nfunction _parse(rawTransaction) {\n    const transaction = RLP.decode(rawTransaction);\n    if (transaction.length !== 9 && transaction.length !== 6) {\n        logger.throwArgumentError(\"invalid raw transaction\", \"rawTransaction\", rawTransaction);\n    }\n    const tx = {\n        nonce: handleNumber(transaction[0]).toNumber(),\n        gasPrice: handleNumber(transaction[1]),\n        gasLimit: handleNumber(transaction[2]),\n        to: handleAddress(transaction[3]),\n        value: handleNumber(transaction[4]),\n        data: transaction[5],\n        chainId: 0\n    };\n    // Legacy unsigned transaction\n    if (transaction.length === 6) {\n        return tx;\n    }\n    try {\n        tx.v = BigNumber.from(transaction[6]).toNumber();\n    }\n    catch (error) {\n        // @TODO: What makes snese to do? The v is too big\n        return tx;\n    }\n    tx.r = hexZeroPad(transaction[7], 32);\n    tx.s = hexZeroPad(transaction[8], 32);\n    if (BigNumber.from(tx.r).isZero() && BigNumber.from(tx.s).isZero()) {\n        // EIP-155 unsigned transaction\n        tx.chainId = tx.v;\n        tx.v = 0;\n    }\n    else {\n        // Signed Transaction\n        tx.chainId = Math.floor((tx.v - 35) / 2);\n        if (tx.chainId < 0) {\n            tx.chainId = 0;\n        }\n        let recoveryParam = tx.v - 27;\n        const raw = transaction.slice(0, 6);\n        if (tx.chainId !== 0) {\n            raw.push(hexlify(tx.chainId));\n            raw.push(\"0x\");\n            raw.push(\"0x\");\n            recoveryParam -= tx.chainId * 2 + 8;\n        }\n        const digest = keccak256(RLP.encode(raw));\n        try {\n            tx.from = recoverAddress(digest, { r: hexlify(tx.r), s: hexlify(tx.s), recoveryParam: recoveryParam });\n        }\n        catch (error) { }\n        tx.hash = keccak256(rawTransaction);\n    }\n    tx.type = null;\n    return tx;\n}\nexport function parse(rawTransaction) {\n    const payload = arrayify(rawTransaction);\n    // Legacy and EIP-155 Transactions\n    if (payload[0] > 0x7f) {\n        return _parse(payload);\n    }\n    // Typed Transaction (EIP-2718)\n    switch (payload[0]) {\n        case 1:\n            return _parseEip2930(payload);\n        case 2:\n            return _parseEip1559(payload);\n        default:\n            break;\n    }\n    return logger.throwError(`unsupported transaction type: ${payload[0]}`, Logger.errors.UNSUPPORTED_OPERATION, {\n        operation: \"parseTransaction\",\n        transactionType: payload[0]\n    });\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConsensusAlgorithm = exports.ConsensusType = exports.Hardfork = exports.Chain = exports.CustomChain = void 0;\nvar events_1 = require(\"events\");\nvar crc_32_1 = require(\"crc-32\");\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\nvar chains_1 = require(\"./chains\");\nvar hardforks_1 = require(\"./hardforks\");\nvar eips_1 = require(\"./eips\");\nvar CustomChain;\n(function (CustomChain) {\n    /**\n     * Polygon (Matic) Mainnet\n     *\n     * - [Documentation](https://docs.matic.network/docs/develop/network-details/network)\n     */\n    CustomChain[\"PolygonMainnet\"] = \"polygon-mainnet\";\n    /**\n     * Polygon (Matic) Mumbai Testnet\n     *\n     * - [Documentation](https://docs.matic.network/docs/develop/network-details/network)\n     */\n    CustomChain[\"PolygonMumbai\"] = \"polygon-mumbai\";\n    /**\n     * Arbitrum Rinkeby Testnet\n     *\n     * - [Documentation](https://developer.offchainlabs.com/docs/public_testnet)\n     */\n    CustomChain[\"ArbitrumRinkebyTestnet\"] = \"arbitrum-rinkeby-testnet\";\n    /**\n     * xDai EVM sidechain with a native stable token\n     *\n     * - [Documentation](https://www.xdaichain.com/)\n     */\n    CustomChain[\"xDaiChain\"] = \"x-dai-chain\";\n    /**\n     * Optimistic Kovan - testnet for Optimism roll-up\n     *\n     * - [Documentation](https://community.optimism.io/docs/developers/tutorials.html)\n     */\n    CustomChain[\"OptimisticKovan\"] = \"optimistic-kovan\";\n    /**\n     * Optimistic Ethereum - mainnet for Optimism roll-up\n     *\n     * - [Documentation](https://community.optimism.io/docs/developers/tutorials.html)\n     */\n    CustomChain[\"OptimisticEthereum\"] = \"optimistic-ethereum\";\n})(CustomChain = exports.CustomChain || (exports.CustomChain = {}));\nvar Chain;\n(function (Chain) {\n    Chain[Chain[\"Mainnet\"] = 1] = \"Mainnet\";\n    Chain[Chain[\"Ropsten\"] = 3] = \"Ropsten\";\n    Chain[Chain[\"Rinkeby\"] = 4] = \"Rinkeby\";\n    Chain[Chain[\"Kovan\"] = 42] = \"Kovan\";\n    Chain[Chain[\"Goerli\"] = 5] = \"Goerli\";\n    Chain[Chain[\"Sepolia\"] = 11155111] = \"Sepolia\";\n})(Chain = exports.Chain || (exports.Chain = {}));\nvar Hardfork;\n(function (Hardfork) {\n    Hardfork[\"Chainstart\"] = \"chainstart\";\n    Hardfork[\"Homestead\"] = \"homestead\";\n    Hardfork[\"Dao\"] = \"dao\";\n    Hardfork[\"TangerineWhistle\"] = \"tangerineWhistle\";\n    Hardfork[\"SpuriousDragon\"] = \"spuriousDragon\";\n    Hardfork[\"Byzantium\"] = \"byzantium\";\n    Hardfork[\"Constantinople\"] = \"constantinople\";\n    Hardfork[\"Petersburg\"] = \"petersburg\";\n    Hardfork[\"Istanbul\"] = \"istanbul\";\n    Hardfork[\"MuirGlacier\"] = \"muirGlacier\";\n    Hardfork[\"Berlin\"] = \"berlin\";\n    Hardfork[\"London\"] = \"london\";\n    Hardfork[\"ArrowGlacier\"] = \"arrowGlacier\";\n    Hardfork[\"GrayGlacier\"] = \"grayGlacier\";\n    Hardfork[\"MergeForkIdTransition\"] = \"mergeForkIdTransition\";\n    Hardfork[\"Merge\"] = \"merge\";\n    Hardfork[\"Shanghai\"] = \"shanghai\";\n})(Hardfork = exports.Hardfork || (exports.Hardfork = {}));\nvar ConsensusType;\n(function (ConsensusType) {\n    ConsensusType[\"ProofOfStake\"] = \"pos\";\n    ConsensusType[\"ProofOfWork\"] = \"pow\";\n    ConsensusType[\"ProofOfAuthority\"] = \"poa\";\n})(ConsensusType = exports.ConsensusType || (exports.ConsensusType = {}));\nvar ConsensusAlgorithm;\n(function (ConsensusAlgorithm) {\n    ConsensusAlgorithm[\"Ethash\"] = \"ethash\";\n    ConsensusAlgorithm[\"Clique\"] = \"clique\";\n    ConsensusAlgorithm[\"Casper\"] = \"casper\";\n})(ConsensusAlgorithm = exports.ConsensusAlgorithm || (exports.ConsensusAlgorithm = {}));\n/**\n * Common class to access chain and hardfork parameters and to provide\n * a unified and shared view on the network and hardfork state.\n *\n * Use the {@link Common.custom} static constructor for creating simple\n * custom chain {@link Common} objects (more complete custom chain setups\n * can be created via the main constructor and the {@link CommonOpts.customChains} parameter).\n */\nvar Common = /** @class */ (function (_super) {\n    __extends(Common, _super);\n    /**\n     *\n     * @constructor\n     */\n    function Common(opts) {\n        var e_1, _a;\n        var _this = this;\n        var _b, _c;\n        _this = _super.call(this) || this;\n        _this._supportedHardforks = [];\n        _this._eips = [];\n        _this._customChains = (_b = opts.customChains) !== null && _b !== void 0 ? _b : [];\n        _this._chainParams = _this.setChain(opts.chain);\n        _this.DEFAULT_HARDFORK = (_c = _this._chainParams.defaultHardfork) !== null && _c !== void 0 ? _c : Hardfork.Istanbul;\n        try {\n            for (var _d = __values(_this._chainParams.hardforks), _e = _d.next(); !_e.done; _e = _d.next()) {\n                var hf = _e.value;\n                if (!hf.forkHash) {\n                    hf.forkHash = _this._calcForkHash(hf.name);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        _this._hardfork = _this.DEFAULT_HARDFORK;\n        if (opts.supportedHardforks) {\n            _this._supportedHardforks = opts.supportedHardforks;\n        }\n        if (opts.hardfork) {\n            _this.setHardfork(opts.hardfork);\n        }\n        if (opts.eips) {\n            _this.setEIPs(opts.eips);\n        }\n        return _this;\n    }\n    /**\n     * Creates a {@link Common} object for a custom chain, based on a standard one.\n     *\n     * It uses all the {@link Chain} parameters from the {@link baseChain} option except the ones overridden\n     * in a provided {@link chainParamsOrName} dictionary. Some usage example:\n     *\n     * ```javascript\n     * Common.custom({chainId: 123})\n     * ```\n     *\n     * There are also selected supported custom chains which can be initialized by using one of the\n     * {@link CustomChains} for {@link chainParamsOrName}, e.g.:\n     *\n     * ```javascript\n     * Common.custom(CustomChains.MaticMumbai)\n     * ```\n     *\n     * Note that these supported custom chains only provide some base parameters (usually the chain and\n     * network ID and a name) and can only be used for selected use cases (e.g. sending a tx with\n     * the `@ethereumjs/tx` library to a Layer-2 chain).\n     *\n     * @param chainParamsOrName Custom parameter dict (`name` will default to `custom-chain`) or string with name of a supported custom chain\n     * @param opts Custom chain options to set the {@link CustomCommonOpts.baseChain}, selected {@link CustomCommonOpts.hardfork} and others\n     */\n    Common.custom = function (chainParamsOrName, opts) {\n        var _a;\n        if (opts === void 0) { opts = {}; }\n        var baseChain = (_a = opts.baseChain) !== null && _a !== void 0 ? _a : 'mainnet';\n        var standardChainParams = __assign({}, Common._getChainParams(baseChain));\n        standardChainParams['name'] = 'custom-chain';\n        if (typeof chainParamsOrName !== 'string') {\n            return new Common(__assign({ chain: __assign(__assign({}, standardChainParams), chainParamsOrName) }, opts));\n        }\n        else {\n            if (chainParamsOrName === CustomChain.PolygonMainnet) {\n                return Common.custom({\n                    name: CustomChain.PolygonMainnet,\n                    chainId: 137,\n                    networkId: 137,\n                }, opts);\n            }\n            if (chainParamsOrName === CustomChain.PolygonMumbai) {\n                return Common.custom({\n                    name: CustomChain.PolygonMumbai,\n                    chainId: 80001,\n                    networkId: 80001,\n                }, opts);\n            }\n            if (chainParamsOrName === CustomChain.ArbitrumRinkebyTestnet) {\n                return Common.custom({\n                    name: CustomChain.ArbitrumRinkebyTestnet,\n                    chainId: 421611,\n                    networkId: 421611,\n                }, opts);\n            }\n            if (chainParamsOrName === CustomChain.xDaiChain) {\n                return Common.custom({\n                    name: CustomChain.xDaiChain,\n                    chainId: 100,\n                    networkId: 100,\n                }, opts);\n            }\n            if (chainParamsOrName === CustomChain.OptimisticKovan) {\n                return Common.custom({\n                    name: CustomChain.OptimisticKovan,\n                    chainId: 69,\n                    networkId: 69,\n                }, __assign({ hardfork: Hardfork.Berlin }, opts));\n            }\n            if (chainParamsOrName === CustomChain.OptimisticEthereum) {\n                return Common.custom({\n                    name: CustomChain.OptimisticEthereum,\n                    chainId: 10,\n                    networkId: 10,\n                }, __assign({ hardfork: Hardfork.Berlin }, opts));\n            }\n            throw new Error(\"Custom chain \".concat(chainParamsOrName, \" not supported\"));\n        }\n    };\n    /**\n     * Creates a {@link Common} object for a custom chain, based on a standard one. It uses all the `Chain`\n     * params from {@link baseChain} except the ones overridden in {@link customChainParams}.\n     *\n     * @deprecated Use {@link Common.custom} instead\n     *\n     * @param baseChain The name (`mainnet`) or id (`1`) of a standard chain used to base the custom\n     * chain params on.\n     * @param customChainParams The custom parameters of the chain.\n     * @param hardfork String identifier ('byzantium') for hardfork (optional)\n     * @param supportedHardforks Limit parameter returns to the given hardforks (optional)\n     */\n    Common.forCustomChain = function (baseChain, customChainParams, hardfork, supportedHardforks) {\n        var standardChainParams = Common._getChainParams(baseChain);\n        return new Common({\n            chain: __assign(__assign({}, standardChainParams), customChainParams),\n            hardfork: hardfork,\n            supportedHardforks: supportedHardforks,\n        });\n    };\n    /**\n     * Static method to determine if a {@link chainId} is supported as a standard chain\n     * @param chainId BN id (`1`) of a standard chain\n     * @returns boolean\n     */\n    Common.isSupportedChainId = function (chainId) {\n        var initializedChains = (0, chains_1._getInitializedChains)();\n        return Boolean(initializedChains['names'][chainId.toString()]);\n    };\n    Common._getChainParams = function (chain, customChains) {\n        var initializedChains = (0, chains_1._getInitializedChains)(customChains);\n        if (typeof chain === 'number' || ethereumjs_util_1.BN.isBN(chain)) {\n            chain = chain.toString();\n            if (initializedChains['names'][chain]) {\n                var name_1 = initializedChains['names'][chain];\n                return initializedChains[name_1];\n            }\n            throw new Error(\"Chain with ID \".concat(chain, \" not supported\"));\n        }\n        if (initializedChains[chain]) {\n            return initializedChains[chain];\n        }\n        throw new Error(\"Chain with name \".concat(chain, \" not supported\"));\n    };\n    /**\n     * Sets the chain\n     * @param chain String ('mainnet') or Number (1) chain\n     *     representation. Or, a Dictionary of chain parameters for a private network.\n     * @returns The dictionary with parameters set as chain\n     */\n    Common.prototype.setChain = function (chain) {\n        var e_2, _a;\n        if (typeof chain === 'number' || typeof chain === 'string' || ethereumjs_util_1.BN.isBN(chain)) {\n            // Filter out genesis states if passed in to customChains\n            var plainCustomChains = void 0;\n            if (this._customChains &&\n                this._customChains.length > 0 &&\n                Array.isArray(this._customChains[0])) {\n                plainCustomChains = this._customChains.map(function (e) { return e[0]; });\n            }\n            else {\n                plainCustomChains = this._customChains;\n            }\n            this._chainParams = Common._getChainParams(chain, plainCustomChains);\n        }\n        else if (typeof chain === 'object') {\n            if (this._customChains.length > 0) {\n                throw new Error('Chain must be a string, number, or BN when initialized with customChains passed in');\n            }\n            var required = ['networkId', 'genesis', 'hardforks', 'bootstrapNodes'];\n            try {\n                for (var required_1 = __values(required), required_1_1 = required_1.next(); !required_1_1.done; required_1_1 = required_1.next()) {\n                    var param = required_1_1.value;\n                    if (chain[param] === undefined) {\n                        throw new Error(\"Missing required chain parameter: \".concat(param));\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (required_1_1 && !required_1_1.done && (_a = required_1.return)) _a.call(required_1);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            this._chainParams = chain;\n        }\n        else {\n            throw new Error('Wrong input format');\n        }\n        return this._chainParams;\n    };\n    /**\n     * Sets the hardfork to get params for\n     * @param hardfork String identifier (e.g. 'byzantium') or {@link Hardfork} enum\n     */\n    Common.prototype.setHardfork = function (hardfork) {\n        var e_3, _a;\n        if (!this._isSupportedHardfork(hardfork)) {\n            throw new Error(\"Hardfork \".concat(hardfork, \" not set as supported in supportedHardforks\"));\n        }\n        var existing = false;\n        try {\n            for (var HARDFORK_CHANGES_1 = __values(hardforks_1.hardforks), HARDFORK_CHANGES_1_1 = HARDFORK_CHANGES_1.next(); !HARDFORK_CHANGES_1_1.done; HARDFORK_CHANGES_1_1 = HARDFORK_CHANGES_1.next()) {\n                var hfChanges = HARDFORK_CHANGES_1_1.value;\n                if (hfChanges[0] === hardfork) {\n                    if (this._hardfork !== hardfork) {\n                        this._hardfork = hardfork;\n                        this.emit('hardforkChanged', hardfork);\n                    }\n                    existing = true;\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (HARDFORK_CHANGES_1_1 && !HARDFORK_CHANGES_1_1.done && (_a = HARDFORK_CHANGES_1.return)) _a.call(HARDFORK_CHANGES_1);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        if (!existing) {\n            throw new Error(\"Hardfork with name \".concat(hardfork, \" not supported\"));\n        }\n    };\n    /**\n     * Returns the hardfork based on the block number or an optional\n     * total difficulty (Merge HF) provided.\n     *\n     * An optional TD takes precedence in case the corresponding HF block\n     * is set to `null` or otherwise needs to match (if not an error\n     * will be thrown).\n     *\n     * @param blockNumber\n     * @param td\n     * @returns The name of the HF\n     */\n    Common.prototype.getHardforkByBlockNumber = function (blockNumber, td) {\n        var e_4, _a;\n        blockNumber = (0, ethereumjs_util_1.toType)(blockNumber, ethereumjs_util_1.TypeOutput.BN);\n        td = (0, ethereumjs_util_1.toType)(td, ethereumjs_util_1.TypeOutput.BN);\n        var hardfork = Hardfork.Chainstart;\n        var minTdHF;\n        var maxTdHF;\n        var previousHF;\n        try {\n            for (var _b = __values(this.hardforks()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var hf = _c.value;\n                // Skip comparison for not applied HFs\n                if (hf.block === null) {\n                    if (td !== undefined && td !== null && hf.td !== undefined && hf.td !== null) {\n                        if (td.gte(new ethereumjs_util_1.BN(hf.td))) {\n                            return hf.name;\n                        }\n                    }\n                    continue;\n                }\n                if (blockNumber.gte(new ethereumjs_util_1.BN(hf.block))) {\n                    hardfork = hf.name;\n                }\n                if (td && hf.td) {\n                    if (td.gte(new ethereumjs_util_1.BN(hf.td))) {\n                        minTdHF = hf.name;\n                    }\n                    else {\n                        maxTdHF = previousHF;\n                    }\n                }\n                previousHF = hf.name;\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        if (td) {\n            var msgAdd = \"block number: \".concat(blockNumber, \" (-> \").concat(hardfork, \"), \");\n            if (minTdHF) {\n                if (!this.hardforkGteHardfork(hardfork, minTdHF)) {\n                    var msg = 'HF determined by block number is lower than the minimum total difficulty HF';\n                    msgAdd += \"total difficulty: \".concat(td, \" (-> \").concat(minTdHF, \")\");\n                    throw new Error(\"\".concat(msg, \": \").concat(msgAdd));\n                }\n            }\n            if (maxTdHF) {\n                if (!this.hardforkGteHardfork(maxTdHF, hardfork)) {\n                    var msg = 'Maximum HF determined by total difficulty is lower than the block number HF';\n                    msgAdd += \"total difficulty: \".concat(td, \" (-> \").concat(maxTdHF, \")\");\n                    throw new Error(\"\".concat(msg, \": \").concat(msgAdd));\n                }\n            }\n        }\n        return hardfork;\n    };\n    /**\n     * Sets a new hardfork based on the block number or an optional\n     * total difficulty (Merge HF) provided.\n     *\n     * An optional TD takes precedence in case the corresponding HF block\n     * is set to `null` or otherwise needs to match (if not an error\n     * will be thrown).\n     *\n     * @param blockNumber\n     * @param td\n     * @returns The name of the HF set\n     */\n    Common.prototype.setHardforkByBlockNumber = function (blockNumber, td) {\n        var hardfork = this.getHardforkByBlockNumber(blockNumber, td);\n        this.setHardfork(hardfork);\n        return hardfork;\n    };\n    /**\n     * Internal helper function to choose between hardfork set and hardfork provided as param\n     * @param hardfork Hardfork given to function as a parameter\n     * @returns Hardfork chosen to be used\n     */\n    Common.prototype._chooseHardfork = function (hardfork, onlySupported) {\n        if (onlySupported === void 0) { onlySupported = true; }\n        if (!hardfork) {\n            hardfork = this._hardfork;\n        }\n        else if (onlySupported && !this._isSupportedHardfork(hardfork)) {\n            throw new Error(\"Hardfork \".concat(hardfork, \" not set as supported in supportedHardforks\"));\n        }\n        return hardfork;\n    };\n    /**\n     * Internal helper function, returns the params for the given hardfork for the chain set\n     * @param hardfork Hardfork name\n     * @returns Dictionary with hardfork params\n     */\n    Common.prototype._getHardfork = function (hardfork) {\n        var e_5, _a;\n        var hfs = this.hardforks();\n        try {\n            for (var hfs_1 = __values(hfs), hfs_1_1 = hfs_1.next(); !hfs_1_1.done; hfs_1_1 = hfs_1.next()) {\n                var hf = hfs_1_1.value;\n                if (hf['name'] === hardfork)\n                    return hf;\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (hfs_1_1 && !hfs_1_1.done && (_a = hfs_1.return)) _a.call(hfs_1);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        throw new Error(\"Hardfork \".concat(hardfork, \" not defined for chain \").concat(this.chainName()));\n    };\n    /**\n     * Internal helper function to check if a hardfork is set to be supported by the library\n     * @param hardfork Hardfork name\n     * @returns True if hardfork is supported\n     */\n    Common.prototype._isSupportedHardfork = function (hardfork) {\n        var e_6, _a;\n        if (this._supportedHardforks.length > 0) {\n            try {\n                for (var _b = __values(this._supportedHardforks), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var supportedHf = _c.value;\n                    if (hardfork === supportedHf)\n                        return true;\n                }\n            }\n            catch (e_6_1) { e_6 = { error: e_6_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_6) throw e_6.error; }\n            }\n        }\n        else {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Sets the active EIPs\n     * @param eips\n     */\n    Common.prototype.setEIPs = function (eips) {\n        var e_7, _a;\n        var _this = this;\n        if (eips === void 0) { eips = []; }\n        var _loop_1 = function (eip) {\n            if (!(eip in eips_1.EIPs)) {\n                throw new Error(\"\".concat(eip, \" not supported\"));\n            }\n            var minHF = this_1.gteHardfork(eips_1.EIPs[eip]['minimumHardfork']);\n            if (!minHF) {\n                throw new Error(\"\".concat(eip, \" cannot be activated on hardfork \").concat(this_1.hardfork(), \", minimumHardfork: \").concat(minHF));\n            }\n            if (eips_1.EIPs[eip].requiredEIPs) {\n                ;\n                eips_1.EIPs[eip].requiredEIPs.forEach(function (elem) {\n                    if (!(eips.includes(elem) || _this.isActivatedEIP(elem))) {\n                        throw new Error(\"\".concat(eip, \" requires EIP \").concat(elem, \", but is not included in the EIP list\"));\n                    }\n                });\n            }\n        };\n        var this_1 = this;\n        try {\n            for (var eips_2 = __values(eips), eips_2_1 = eips_2.next(); !eips_2_1.done; eips_2_1 = eips_2.next()) {\n                var eip = eips_2_1.value;\n                _loop_1(eip);\n            }\n        }\n        catch (e_7_1) { e_7 = { error: e_7_1 }; }\n        finally {\n            try {\n                if (eips_2_1 && !eips_2_1.done && (_a = eips_2.return)) _a.call(eips_2);\n            }\n            finally { if (e_7) throw e_7.error; }\n        }\n        this._eips = eips;\n    };\n    /**\n     * Returns a parameter for the current chain setup\n     *\n     * If the parameter is present in an EIP, the EIP always takes precendence.\n     * Otherwise the parameter if taken from the latest applied HF with\n     * a change on the respective parameter.\n     *\n     * @param topic Parameter topic ('gasConfig', 'gasPrices', 'vm', 'pow')\n     * @param name Parameter name (e.g. 'minGasLimit' for 'gasConfig' topic)\n     * @returns The value requested or `null` if not found\n     */\n    Common.prototype.param = function (topic, name) {\n        var e_8, _a;\n        // TODO: consider the case that different active EIPs\n        // can change the same parameter\n        var value = null;\n        try {\n            for (var _b = __values(this._eips), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var eip = _c.value;\n                value = this.paramByEIP(topic, name, eip);\n                if (value !== null) {\n                    return value;\n                }\n            }\n        }\n        catch (e_8_1) { e_8 = { error: e_8_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_8) throw e_8.error; }\n        }\n        return this.paramByHardfork(topic, name, this._hardfork);\n    };\n    /**\n     * Returns the parameter corresponding to a hardfork\n     * @param topic Parameter topic ('gasConfig', 'gasPrices', 'vm', 'pow')\n     * @param name Parameter name (e.g. 'minGasLimit' for 'gasConfig' topic)\n     * @param hardfork Hardfork name\n     * @returns The value requested or `null` if not found\n     */\n    Common.prototype.paramByHardfork = function (topic, name, hardfork) {\n        var e_9, _a, e_10, _b;\n        hardfork = this._chooseHardfork(hardfork);\n        var value = null;\n        try {\n            for (var HARDFORK_CHANGES_2 = __values(hardforks_1.hardforks), HARDFORK_CHANGES_2_1 = HARDFORK_CHANGES_2.next(); !HARDFORK_CHANGES_2_1.done; HARDFORK_CHANGES_2_1 = HARDFORK_CHANGES_2.next()) {\n                var hfChanges = HARDFORK_CHANGES_2_1.value;\n                // EIP-referencing HF file (e.g. berlin.json)\n                if ('eips' in hfChanges[1]) {\n                    var hfEIPs = hfChanges[1]['eips'];\n                    try {\n                        for (var hfEIPs_1 = (e_10 = void 0, __values(hfEIPs)), hfEIPs_1_1 = hfEIPs_1.next(); !hfEIPs_1_1.done; hfEIPs_1_1 = hfEIPs_1.next()) {\n                            var eip = hfEIPs_1_1.value;\n                            var valueEIP = this.paramByEIP(topic, name, eip);\n                            value = valueEIP !== null ? valueEIP : value;\n                        }\n                    }\n                    catch (e_10_1) { e_10 = { error: e_10_1 }; }\n                    finally {\n                        try {\n                            if (hfEIPs_1_1 && !hfEIPs_1_1.done && (_b = hfEIPs_1.return)) _b.call(hfEIPs_1);\n                        }\n                        finally { if (e_10) throw e_10.error; }\n                    }\n                    // Paramater-inlining HF file (e.g. istanbul.json)\n                }\n                else {\n                    if (!hfChanges[1][topic]) {\n                        throw new Error(\"Topic \".concat(topic, \" not defined\"));\n                    }\n                    if (hfChanges[1][topic][name] !== undefined) {\n                        value = hfChanges[1][topic][name].v;\n                    }\n                }\n                if (hfChanges[0] === hardfork)\n                    break;\n            }\n        }\n        catch (e_9_1) { e_9 = { error: e_9_1 }; }\n        finally {\n            try {\n                if (HARDFORK_CHANGES_2_1 && !HARDFORK_CHANGES_2_1.done && (_a = HARDFORK_CHANGES_2.return)) _a.call(HARDFORK_CHANGES_2);\n            }\n            finally { if (e_9) throw e_9.error; }\n        }\n        return value;\n    };\n    /**\n     * Returns a parameter corresponding to an EIP\n     * @param topic Parameter topic ('gasConfig', 'gasPrices', 'vm', 'pow')\n     * @param name Parameter name (e.g. 'minGasLimit' for 'gasConfig' topic)\n     * @param eip Number of the EIP\n     * @returns The value requested or `null` if not found\n     */\n    Common.prototype.paramByEIP = function (topic, name, eip) {\n        if (!(eip in eips_1.EIPs)) {\n            throw new Error(\"\".concat(eip, \" not supported\"));\n        }\n        var eipParams = eips_1.EIPs[eip];\n        if (!(topic in eipParams)) {\n            throw new Error(\"Topic \".concat(topic, \" not defined\"));\n        }\n        if (eipParams[topic][name] === undefined) {\n            return null;\n        }\n        var value = eipParams[topic][name].v;\n        return value;\n    };\n    /**\n     * Returns a parameter for the hardfork active on block number\n     * @param topic Parameter topic\n     * @param name Parameter name\n     * @param blockNumber Block number\n     */\n    Common.prototype.paramByBlock = function (topic, name, blockNumber) {\n        var activeHfs = this.activeHardforks(blockNumber);\n        var hardfork = activeHfs[activeHfs.length - 1]['name'];\n        return this.paramByHardfork(topic, name, hardfork);\n    };\n    /**\n     * Checks if an EIP is activated by either being included in the EIPs\n     * manually passed in with the {@link CommonOpts.eips} or in a\n     * hardfork currently being active\n     *\n     * Note: this method only works for EIPs being supported\n     * by the {@link CommonOpts.eips} constructor option\n     * @param eip\n     */\n    Common.prototype.isActivatedEIP = function (eip) {\n        var e_11, _a;\n        if (this.eips().includes(eip)) {\n            return true;\n        }\n        try {\n            for (var HARDFORK_CHANGES_3 = __values(hardforks_1.hardforks), HARDFORK_CHANGES_3_1 = HARDFORK_CHANGES_3.next(); !HARDFORK_CHANGES_3_1.done; HARDFORK_CHANGES_3_1 = HARDFORK_CHANGES_3.next()) {\n                var hfChanges = HARDFORK_CHANGES_3_1.value;\n                var hf = hfChanges[1];\n                if (this.gteHardfork(hf['name']) && 'eips' in hf) {\n                    if (hf['eips'].includes(eip)) {\n                        return true;\n                    }\n                }\n            }\n        }\n        catch (e_11_1) { e_11 = { error: e_11_1 }; }\n        finally {\n            try {\n                if (HARDFORK_CHANGES_3_1 && !HARDFORK_CHANGES_3_1.done && (_a = HARDFORK_CHANGES_3.return)) _a.call(HARDFORK_CHANGES_3);\n            }\n            finally { if (e_11) throw e_11.error; }\n        }\n        return false;\n    };\n    /**\n     * Checks if set or provided hardfork is active on block number\n     * @param hardfork Hardfork name or null (for HF set)\n     * @param blockNumber\n     * @param opts Hardfork options (onlyActive unused)\n     * @returns True if HF is active on block number\n     */\n    Common.prototype.hardforkIsActiveOnBlock = function (hardfork, blockNumber, opts) {\n        var _a;\n        if (opts === void 0) { opts = {}; }\n        blockNumber = (0, ethereumjs_util_1.toType)(blockNumber, ethereumjs_util_1.TypeOutput.BN);\n        var onlySupported = (_a = opts.onlySupported) !== null && _a !== void 0 ? _a : false;\n        hardfork = this._chooseHardfork(hardfork, onlySupported);\n        var hfBlock = this.hardforkBlockBN(hardfork);\n        if (hfBlock && blockNumber.gte(hfBlock)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Alias to hardforkIsActiveOnBlock when hardfork is set\n     * @param blockNumber\n     * @param opts Hardfork options (onlyActive unused)\n     * @returns True if HF is active on block number\n     */\n    Common.prototype.activeOnBlock = function (blockNumber, opts) {\n        return this.hardforkIsActiveOnBlock(null, blockNumber, opts);\n    };\n    /**\n     * Sequence based check if given or set HF1 is greater than or equal HF2\n     * @param hardfork1 Hardfork name or null (if set)\n     * @param hardfork2 Hardfork name\n     * @param opts Hardfork options\n     * @returns True if HF1 gte HF2\n     */\n    Common.prototype.hardforkGteHardfork = function (hardfork1, hardfork2, opts) {\n        var e_12, _a;\n        if (opts === void 0) { opts = {}; }\n        var onlyActive = opts.onlyActive === undefined ? false : opts.onlyActive;\n        hardfork1 = this._chooseHardfork(hardfork1, opts.onlySupported);\n        var hardforks;\n        if (onlyActive) {\n            hardforks = this.activeHardforks(null, opts);\n        }\n        else {\n            hardforks = this.hardforks();\n        }\n        var posHf1 = -1, posHf2 = -1;\n        var index = 0;\n        try {\n            for (var hardforks_2 = __values(hardforks), hardforks_2_1 = hardforks_2.next(); !hardforks_2_1.done; hardforks_2_1 = hardforks_2.next()) {\n                var hf = hardforks_2_1.value;\n                if (hf['name'] === hardfork1)\n                    posHf1 = index;\n                if (hf['name'] === hardfork2)\n                    posHf2 = index;\n                index += 1;\n            }\n        }\n        catch (e_12_1) { e_12 = { error: e_12_1 }; }\n        finally {\n            try {\n                if (hardforks_2_1 && !hardforks_2_1.done && (_a = hardforks_2.return)) _a.call(hardforks_2);\n            }\n            finally { if (e_12) throw e_12.error; }\n        }\n        return posHf1 >= posHf2 && posHf2 !== -1;\n    };\n    /**\n     * Alias to hardforkGteHardfork when hardfork is set\n     * @param hardfork Hardfork name\n     * @param opts Hardfork options\n     * @returns True if hardfork set is greater than hardfork provided\n     */\n    Common.prototype.gteHardfork = function (hardfork, opts) {\n        return this.hardforkGteHardfork(null, hardfork, opts);\n    };\n    /**\n     * Checks if given or set hardfork is active on the chain\n     * @param hardfork Hardfork name, optional if HF set\n     * @param opts Hardfork options (onlyActive unused)\n     * @returns True if hardfork is active on the chain\n     */\n    Common.prototype.hardforkIsActiveOnChain = function (hardfork, opts) {\n        var e_13, _a;\n        var _b;\n        if (opts === void 0) { opts = {}; }\n        var onlySupported = (_b = opts.onlySupported) !== null && _b !== void 0 ? _b : false;\n        hardfork = this._chooseHardfork(hardfork, onlySupported);\n        try {\n            for (var _c = __values(this.hardforks()), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var hf = _d.value;\n                if (hf['name'] === hardfork && hf['block'] !== null)\n                    return true;\n            }\n        }\n        catch (e_13_1) { e_13 = { error: e_13_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_13) throw e_13.error; }\n        }\n        return false;\n    };\n    /**\n     * Returns the active hardfork switches for the current chain\n     * @param blockNumber up to block if provided, otherwise for the whole chain\n     * @param opts Hardfork options (onlyActive unused)\n     * @return Array with hardfork arrays\n     */\n    Common.prototype.activeHardforks = function (blockNumber, opts) {\n        var e_14, _a;\n        if (opts === void 0) { opts = {}; }\n        var activeHardforks = [];\n        var hfs = this.hardforks();\n        try {\n            for (var hfs_2 = __values(hfs), hfs_2_1 = hfs_2.next(); !hfs_2_1.done; hfs_2_1 = hfs_2.next()) {\n                var hf = hfs_2_1.value;\n                if (hf['block'] === null)\n                    continue;\n                if (blockNumber !== undefined && blockNumber !== null && blockNumber < hf['block'])\n                    break;\n                if (opts.onlySupported && !this._isSupportedHardfork(hf['name']))\n                    continue;\n                activeHardforks.push(hf);\n            }\n        }\n        catch (e_14_1) { e_14 = { error: e_14_1 }; }\n        finally {\n            try {\n                if (hfs_2_1 && !hfs_2_1.done && (_a = hfs_2.return)) _a.call(hfs_2);\n            }\n            finally { if (e_14) throw e_14.error; }\n        }\n        return activeHardforks;\n    };\n    /**\n     * Returns the latest active hardfork name for chain or block or throws if unavailable\n     * @param blockNumber up to block if provided, otherwise for the whole chain\n     * @param opts Hardfork options (onlyActive unused)\n     * @return Hardfork name\n     */\n    Common.prototype.activeHardfork = function (blockNumber, opts) {\n        if (opts === void 0) { opts = {}; }\n        var activeHardforks = this.activeHardforks(blockNumber, opts);\n        if (activeHardforks.length > 0) {\n            return activeHardforks[activeHardforks.length - 1]['name'];\n        }\n        else {\n            throw new Error(\"No (supported) active hardfork found\");\n        }\n    };\n    /**\n     * Returns the hardfork change block for hardfork provided or set\n     * @param hardfork Hardfork name, optional if HF set\n     * @returns Block number or null if unscheduled\n     * @deprecated Please use {@link Common.hardforkBlockBN} for large number support\n     */\n    Common.prototype.hardforkBlock = function (hardfork) {\n        var block = this.hardforkBlockBN(hardfork);\n        return (0, ethereumjs_util_1.toType)(block, ethereumjs_util_1.TypeOutput.Number);\n    };\n    /**\n     * Returns the hardfork change block for hardfork provided or set\n     * @param hardfork Hardfork name, optional if HF set\n     * @returns Block number or null if unscheduled\n     */\n    Common.prototype.hardforkBlockBN = function (hardfork) {\n        hardfork = this._chooseHardfork(hardfork, false);\n        var block = this._getHardfork(hardfork)['block'];\n        if (block === undefined || block === null) {\n            return null;\n        }\n        return new ethereumjs_util_1.BN(block);\n    };\n    /**\n     * Returns the hardfork change total difficulty (Merge HF) for hardfork provided or set\n     * @param hardfork Hardfork name, optional if HF set\n     * @returns Total difficulty or null if no set\n     */\n    Common.prototype.hardforkTD = function (hardfork) {\n        hardfork = this._chooseHardfork(hardfork, false);\n        var td = this._getHardfork(hardfork)['td'];\n        if (td === undefined || td === null) {\n            return null;\n        }\n        return new ethereumjs_util_1.BN(td);\n    };\n    /**\n     * True if block number provided is the hardfork (given or set) change block\n     * @param blockNumber Number of the block to check\n     * @param hardfork Hardfork name, optional if HF set\n     * @returns True if blockNumber is HF block\n     */\n    Common.prototype.isHardforkBlock = function (blockNumber, hardfork) {\n        blockNumber = (0, ethereumjs_util_1.toType)(blockNumber, ethereumjs_util_1.TypeOutput.BN);\n        hardfork = this._chooseHardfork(hardfork, false);\n        var block = this.hardforkBlockBN(hardfork);\n        return block ? block.eq(blockNumber) : false;\n    };\n    /**\n     * Returns the change block for the next hardfork after the hardfork provided or set\n     * @param hardfork Hardfork name, optional if HF set\n     * @returns Block number or null if not available\n     * @deprecated Please use {@link Common.nextHardforkBlockBN} for large number support\n     */\n    Common.prototype.nextHardforkBlock = function (hardfork) {\n        var block = this.nextHardforkBlockBN(hardfork);\n        return (0, ethereumjs_util_1.toType)(block, ethereumjs_util_1.TypeOutput.Number);\n    };\n    /**\n     * Returns the change block for the next hardfork after the hardfork provided or set\n     * @param hardfork Hardfork name, optional if HF set\n     * @returns Block number or null if not available\n     */\n    Common.prototype.nextHardforkBlockBN = function (hardfork) {\n        hardfork = this._chooseHardfork(hardfork, false);\n        var hfBlock = this.hardforkBlockBN(hardfork);\n        if (hfBlock === null) {\n            return null;\n        }\n        // Next fork block number or null if none available\n        // Logic: if accumulator is still null and on the first occurrence of\n        // a block greater than the current hfBlock set the accumulator,\n        // pass on the accumulator as the final result from this time on\n        var nextHfBlock = this.hardforks().reduce(function (acc, hf) {\n            var block = new ethereumjs_util_1.BN(hf.block);\n            return block.gt(hfBlock) && acc === null ? block : acc;\n        }, null);\n        return nextHfBlock;\n    };\n    /**\n     * True if block number provided is the hardfork change block following the hardfork given or set\n     * @param blockNumber Number of the block to check\n     * @param hardfork Hardfork name, optional if HF set\n     * @returns True if blockNumber is HF block\n     */\n    Common.prototype.isNextHardforkBlock = function (blockNumber, hardfork) {\n        blockNumber = (0, ethereumjs_util_1.toType)(blockNumber, ethereumjs_util_1.TypeOutput.BN);\n        hardfork = this._chooseHardfork(hardfork, false);\n        var nextHardforkBlock = this.nextHardforkBlockBN(hardfork);\n        return nextHardforkBlock === null ? false : nextHardforkBlock.eq(blockNumber);\n    };\n    /**\n     * Internal helper function to calculate a fork hash\n     * @param hardfork Hardfork name\n     * @returns Fork hash as hex string\n     */\n    Common.prototype._calcForkHash = function (hardfork) {\n        var e_15, _a;\n        var genesis = Buffer.from(this.genesis().hash.substr(2), 'hex');\n        var hfBuffer = Buffer.alloc(0);\n        var prevBlock = 0;\n        try {\n            for (var _b = __values(this.hardforks()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var hf = _c.value;\n                var block = hf.block;\n                // Skip for chainstart (0), not applied HFs (null) and\n                // when already applied on same block number HFs\n                if (block !== 0 && block !== null && block !== prevBlock) {\n                    var hfBlockBuffer = Buffer.from(block.toString(16).padStart(16, '0'), 'hex');\n                    hfBuffer = Buffer.concat([hfBuffer, hfBlockBuffer]);\n                }\n                if (hf.name === hardfork)\n                    break;\n                if (block !== null) {\n                    prevBlock = block;\n                }\n            }\n        }\n        catch (e_15_1) { e_15 = { error: e_15_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_15) throw e_15.error; }\n        }\n        var inputBuffer = Buffer.concat([genesis, hfBuffer]);\n        // CRC32 delivers result as signed (negative) 32-bit integer,\n        // convert to hex string\n        var forkhash = (0, ethereumjs_util_1.intToBuffer)((0, crc_32_1.buf)(inputBuffer) >>> 0).toString('hex');\n        return \"0x\".concat(forkhash);\n    };\n    /**\n     * Returns an eth/64 compliant fork hash (EIP-2124)\n     * @param hardfork Hardfork name, optional if HF set\n     */\n    Common.prototype.forkHash = function (hardfork) {\n        hardfork = this._chooseHardfork(hardfork, false);\n        var data = this._getHardfork(hardfork);\n        if (data['block'] === null && data['td'] === undefined) {\n            var msg = 'No fork hash calculation possible for future hardfork';\n            throw new Error(msg);\n        }\n        if (data['forkHash'] !== undefined) {\n            return data['forkHash'];\n        }\n        return this._calcForkHash(hardfork);\n    };\n    /**\n     *\n     * @param forkHash Fork hash as a hex string\n     * @returns Array with hardfork data (name, block, forkHash)\n     */\n    Common.prototype.hardforkForForkHash = function (forkHash) {\n        var resArray = this.hardforks().filter(function (hf) {\n            return hf.forkHash === forkHash;\n        });\n        return resArray.length >= 1 ? resArray[resArray.length - 1] : null;\n    };\n    /**\n     * Returns the Genesis parameters of the current chain\n     * @returns Genesis dictionary\n     */\n    Common.prototype.genesis = function () {\n        return this._chainParams['genesis'];\n    };\n    /**\n     * Returns the Genesis state of the current chain,\n     * all values are provided as hex-prefixed strings.\n     */\n    Common.prototype.genesisState = function () {\n        var e_16, _a;\n        // Use require statements here in favor of import statements\n        // to load json files on demand\n        // (high memory usage by large mainnet.json genesis state file)\n        switch (this.chainName()) {\n            case 'mainnet':\n                return require('./genesisStates/mainnet.json');\n            case 'ropsten':\n                return require('./genesisStates/ropsten.json');\n            case 'rinkeby':\n                return require('./genesisStates/rinkeby.json');\n            case 'kovan':\n                return require('./genesisStates/kovan.json');\n            case 'goerli':\n                return require('./genesisStates/goerli.json');\n            case 'sepolia':\n                return require('./genesisStates/sepolia.json');\n        }\n        // Custom chains with genesis state provided\n        if (this._customChains &&\n            this._customChains.length > 0 &&\n            Array.isArray(this._customChains[0])) {\n            try {\n                for (var _b = __values(this._customChains), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var chainArrayWithGenesis = _c.value;\n                    if (chainArrayWithGenesis[0].name === this.chainName()) {\n                        return chainArrayWithGenesis[1];\n                    }\n                }\n            }\n            catch (e_16_1) { e_16 = { error: e_16_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_16) throw e_16.error; }\n            }\n        }\n        return {};\n    };\n    /**\n     * Returns the hardforks for current chain\n     * @returns {Array} Array with arrays of hardforks\n     */\n    Common.prototype.hardforks = function () {\n        return this._chainParams['hardforks'];\n    };\n    /**\n     * Returns bootstrap nodes for the current chain\n     * @returns {Dictionary} Dict with bootstrap nodes\n     */\n    Common.prototype.bootstrapNodes = function () {\n        return this._chainParams['bootstrapNodes'];\n    };\n    /**\n     * Returns DNS networks for the current chain\n     * @returns {String[]} Array of DNS ENR urls\n     */\n    Common.prototype.dnsNetworks = function () {\n        return this._chainParams['dnsNetworks'];\n    };\n    /**\n     * Returns the hardfork set\n     * @returns Hardfork name\n     */\n    Common.prototype.hardfork = function () {\n        return this._hardfork;\n    };\n    /**\n     * Returns the Id of current chain\n     * @returns chain Id\n     * @deprecated Please use {@link Common.chainIdBN} for large number support\n     */\n    Common.prototype.chainId = function () {\n        return (0, ethereumjs_util_1.toType)(this.chainIdBN(), ethereumjs_util_1.TypeOutput.Number);\n    };\n    /**\n     * Returns the Id of current chain\n     * @returns chain Id\n     */\n    Common.prototype.chainIdBN = function () {\n        return new ethereumjs_util_1.BN(this._chainParams['chainId']);\n    };\n    /**\n     * Returns the name of current chain\n     * @returns chain name (lower case)\n     */\n    Common.prototype.chainName = function () {\n        return this._chainParams['name'];\n    };\n    /**\n     * Returns the Id of current network\n     * @returns network Id\n     * @deprecated Please use {@link Common.networkIdBN} for large number support\n     */\n    Common.prototype.networkId = function () {\n        return (0, ethereumjs_util_1.toType)(this.networkIdBN(), ethereumjs_util_1.TypeOutput.Number);\n    };\n    /**\n     * Returns the Id of current network\n     * @returns network Id\n     */\n    Common.prototype.networkIdBN = function () {\n        return new ethereumjs_util_1.BN(this._chainParams['networkId']);\n    };\n    /**\n     * Returns the active EIPs\n     * @returns List of EIPs\n     */\n    Common.prototype.eips = function () {\n        return this._eips;\n    };\n    /**\n     * Returns the consensus type of the network\n     * Possible values: \"pow\"|\"poa\"|\"pos\"\n     *\n     * Note: This value can update along a hardfork.\n     */\n    Common.prototype.consensusType = function () {\n        var e_17, _a;\n        var hardfork = this.hardfork();\n        var value;\n        try {\n            for (var HARDFORK_CHANGES_4 = __values(hardforks_1.hardforks), HARDFORK_CHANGES_4_1 = HARDFORK_CHANGES_4.next(); !HARDFORK_CHANGES_4_1.done; HARDFORK_CHANGES_4_1 = HARDFORK_CHANGES_4.next()) {\n                var hfChanges = HARDFORK_CHANGES_4_1.value;\n                if ('consensus' in hfChanges[1]) {\n                    value = hfChanges[1]['consensus']['type'];\n                }\n                if (hfChanges[0] === hardfork)\n                    break;\n            }\n        }\n        catch (e_17_1) { e_17 = { error: e_17_1 }; }\n        finally {\n            try {\n                if (HARDFORK_CHANGES_4_1 && !HARDFORK_CHANGES_4_1.done && (_a = HARDFORK_CHANGES_4.return)) _a.call(HARDFORK_CHANGES_4);\n            }\n            finally { if (e_17) throw e_17.error; }\n        }\n        if (value) {\n            return value;\n        }\n        return this._chainParams['consensus']['type'];\n    };\n    /**\n     * Returns the concrete consensus implementation\n     * algorithm or protocol for the network\n     * e.g. \"ethash\" for \"pow\" consensus type,\n     * \"clique\" for \"poa\" consensus type or\n     * \"casper\" for \"pos\" consensus type.\n     *\n     * Note: This value can update along a hardfork.\n     */\n    Common.prototype.consensusAlgorithm = function () {\n        var e_18, _a;\n        var hardfork = this.hardfork();\n        var value;\n        try {\n            for (var HARDFORK_CHANGES_5 = __values(hardforks_1.hardforks), HARDFORK_CHANGES_5_1 = HARDFORK_CHANGES_5.next(); !HARDFORK_CHANGES_5_1.done; HARDFORK_CHANGES_5_1 = HARDFORK_CHANGES_5.next()) {\n                var hfChanges = HARDFORK_CHANGES_5_1.value;\n                if ('consensus' in hfChanges[1]) {\n                    value = hfChanges[1]['consensus']['algorithm'];\n                }\n                if (hfChanges[0] === hardfork)\n                    break;\n            }\n        }\n        catch (e_18_1) { e_18 = { error: e_18_1 }; }\n        finally {\n            try {\n                if (HARDFORK_CHANGES_5_1 && !HARDFORK_CHANGES_5_1.done && (_a = HARDFORK_CHANGES_5.return)) _a.call(HARDFORK_CHANGES_5);\n            }\n            finally { if (e_18) throw e_18.error; }\n        }\n        if (value) {\n            return value;\n        }\n        return this._chainParams['consensus']['algorithm'];\n    };\n    /**\n     * Returns a dictionary with consensus configuration\n     * parameters based on the consensus algorithm\n     *\n     * Expected returns (parameters must be present in\n     * the respective chain json files):\n     *\n     * ethash: -\n     * clique: period, epoch\n     * aura: -\n     * casper: -\n     *\n     * Note: This value can update along a hardfork.\n     */\n    Common.prototype.consensusConfig = function () {\n        var e_19, _a;\n        var hardfork = this.hardfork();\n        var value;\n        try {\n            for (var HARDFORK_CHANGES_6 = __values(hardforks_1.hardforks), HARDFORK_CHANGES_6_1 = HARDFORK_CHANGES_6.next(); !HARDFORK_CHANGES_6_1.done; HARDFORK_CHANGES_6_1 = HARDFORK_CHANGES_6.next()) {\n                var hfChanges = HARDFORK_CHANGES_6_1.value;\n                if ('consensus' in hfChanges[1]) {\n                    // The config parameter is named after the respective consensus algorithm\n                    value = hfChanges[1]['consensus'][hfChanges[1]['consensus']['algorithm']];\n                }\n                if (hfChanges[0] === hardfork)\n                    break;\n            }\n        }\n        catch (e_19_1) { e_19 = { error: e_19_1 }; }\n        finally {\n            try {\n                if (HARDFORK_CHANGES_6_1 && !HARDFORK_CHANGES_6_1.done && (_a = HARDFORK_CHANGES_6.return)) _a.call(HARDFORK_CHANGES_6);\n            }\n            finally { if (e_19) throw e_19.error; }\n        }\n        if (value) {\n            return value;\n        }\n        var consensusAlgorithm = this.consensusAlgorithm();\n        return this._chainParams['consensus'][consensusAlgorithm];\n    };\n    /**\n     * Returns a deep copy of this {@link Common} instance.\n     */\n    Common.prototype.copy = function () {\n        var copy = Object.assign(Object.create(Object.getPrototypeOf(this)), this);\n        copy.removeAllListeners();\n        return copy;\n    };\n    return Common;\n}(events_1.EventEmitter));\nexports.default = Common;\n//# sourceMappingURL=index.js.map","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hardforks = void 0;\nexports.hardforks = [\n    ['chainstart', require('./chainstart.json')],\n    ['homestead', require('./homestead.json')],\n    ['dao', require('./dao.json')],\n    ['tangerineWhistle', require('./tangerineWhistle.json')],\n    ['spuriousDragon', require('./spuriousDragon.json')],\n    ['byzantium', require('./byzantium.json')],\n    ['constantinople', require('./constantinople.json')],\n    ['petersburg', require('./petersburg.json')],\n    ['istanbul', require('./istanbul.json')],\n    ['muirGlacier', require('./muirGlacier.json')],\n    ['berlin', require('./berlin.json')],\n    ['london', require('./london.json')],\n    ['shanghai', require('./shanghai.json')],\n    ['arrowGlacier', require('./arrowGlacier.json')],\n    ['grayGlacier', require('./grayGlacier.json')],\n    ['mergeForkIdTransition', require('./mergeForkIdTransition.json')],\n    ['merge', require('./merge.json')],\n];\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.N_DIV_2 = exports.isAccessList = exports.isAccessListBuffer = exports.Capability = void 0;\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\n/**\n * Can be used in conjunction with {@link Transaction.supports}\n * to query on tx capabilities\n */\nvar Capability;\n(function (Capability) {\n    /**\n     * Tx supports EIP-155 replay protection\n     * See: [155](https://eips.ethereum.org/EIPS/eip-155) Replay Attack Protection EIP\n     */\n    Capability[Capability[\"EIP155ReplayProtection\"] = 155] = \"EIP155ReplayProtection\";\n    /**\n     * Tx supports EIP-1559 gas fee market mechansim\n     * See: [1559](https://eips.ethereum.org/EIPS/eip-1559) Fee Market EIP\n     */\n    Capability[Capability[\"EIP1559FeeMarket\"] = 1559] = \"EIP1559FeeMarket\";\n    /**\n     * Tx is a typed transaction as defined in EIP-2718\n     * See: [2718](https://eips.ethereum.org/EIPS/eip-2718) Transaction Type EIP\n     */\n    Capability[Capability[\"EIP2718TypedTransaction\"] = 2718] = \"EIP2718TypedTransaction\";\n    /**\n     * Tx supports access list generation as defined in EIP-2930\n     * See: [2930](https://eips.ethereum.org/EIPS/eip-2930) Access Lists EIP\n     */\n    Capability[Capability[\"EIP2930AccessLists\"] = 2930] = \"EIP2930AccessLists\";\n})(Capability = exports.Capability || (exports.Capability = {}));\nfunction isAccessListBuffer(input) {\n    if (input.length === 0) {\n        return true;\n    }\n    var firstItem = input[0];\n    if (Array.isArray(firstItem)) {\n        return true;\n    }\n    return false;\n}\nexports.isAccessListBuffer = isAccessListBuffer;\nfunction isAccessList(input) {\n    return !isAccessListBuffer(input); // This is exactly the same method, except the output is negated.\n}\nexports.isAccessList = isAccessList;\n/**\n * A const defining secp256k1n/2\n */\nexports.N_DIV_2 = new ethereumjs_util_1.BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n//# sourceMappingURL=types.js.map","\"use strict\";\nimport sha3 from \"js-sha3\";\nimport { arrayify } from \"@ethersproject/bytes\";\nexport function keccak256(data) {\n    return '0x' + sha3.keccak_256(arrayify(data));\n}\n//# sourceMappingURL=index.js.map","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export const version = \"properties/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nexport function defineReadOnly(object, name, value) {\n    Object.defineProperty(object, name, {\n        enumerable: true,\n        value: value,\n        writable: false,\n    });\n}\n// Crawl up the constructor chain to find a static method\nexport function getStatic(ctor, key) {\n    for (let i = 0; i < 32; i++) {\n        if (ctor[key]) {\n            return ctor[key];\n        }\n        if (!ctor.prototype || typeof (ctor.prototype) !== \"object\") {\n            break;\n        }\n        ctor = Object.getPrototypeOf(ctor.prototype).constructor;\n    }\n    return null;\n}\nexport function resolveProperties(object) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const promises = Object.keys(object).map((key) => {\n            const value = object[key];\n            return Promise.resolve(value).then((v) => ({ key: key, value: v }));\n        });\n        const results = yield Promise.all(promises);\n        return results.reduce((accum, result) => {\n            accum[(result.key)] = result.value;\n            return accum;\n        }, {});\n    });\n}\nexport function checkProperties(object, properties) {\n    if (!object || typeof (object) !== \"object\") {\n        logger.throwArgumentError(\"invalid object\", \"object\", object);\n    }\n    Object.keys(object).forEach((key) => {\n        if (!properties[key]) {\n            logger.throwArgumentError(\"invalid object key - \" + key, \"transaction:\" + key, object);\n        }\n    });\n}\nexport function shallowCopy(object) {\n    const result = {};\n    for (const key in object) {\n        result[key] = object[key];\n    }\n    return result;\n}\nconst opaque = { bigint: true, boolean: true, \"function\": true, number: true, string: true };\nfunction _isFrozen(object) {\n    // Opaque objects are not mutable, so safe to copy by assignment\n    if (object === undefined || object === null || opaque[typeof (object)]) {\n        return true;\n    }\n    if (Array.isArray(object) || typeof (object) === \"object\") {\n        if (!Object.isFrozen(object)) {\n            return false;\n        }\n        const keys = Object.keys(object);\n        for (let i = 0; i < keys.length; i++) {\n            let value = null;\n            try {\n                value = object[keys[i]];\n            }\n            catch (error) {\n                // If accessing a value triggers an error, it is a getter\n                // designed to do so (e.g. Result) and is therefore \"frozen\"\n                continue;\n            }\n            if (!_isFrozen(value)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return logger.throwArgumentError(`Cannot deepCopy ${typeof (object)}`, \"object\", object);\n}\n// Returns a new copy of object, such that no properties may be replaced.\n// New properties may be added only to objects.\nfunction _deepCopy(object) {\n    if (_isFrozen(object)) {\n        return object;\n    }\n    // Arrays are mutable, so we need to create a copy\n    if (Array.isArray(object)) {\n        return Object.freeze(object.map((item) => deepCopy(item)));\n    }\n    if (typeof (object) === \"object\") {\n        const result = {};\n        for (const key in object) {\n            const value = object[key];\n            if (value === undefined) {\n                continue;\n            }\n            defineReadOnly(result, key, deepCopy(value));\n        }\n        return result;\n    }\n    return logger.throwArgumentError(`Cannot deepCopy ${typeof (object)}`, \"object\", object);\n}\nexport function deepCopy(object) {\n    return _deepCopy(object);\n}\nexport class Description {\n    constructor(info) {\n        for (const key in info) {\n            this[key] = deepCopy(info[key]);\n        }\n    }\n}\n//# sourceMappingURL=index.js.map","import { BigNumber } from \"@ethersproject/bignumber\";\nconst NegativeOne = ( /*#__PURE__*/BigNumber.from(-1));\nconst Zero = ( /*#__PURE__*/BigNumber.from(0));\nconst One = ( /*#__PURE__*/BigNumber.from(1));\nconst Two = ( /*#__PURE__*/BigNumber.from(2));\nconst WeiPerEther = ( /*#__PURE__*/BigNumber.from(\"1000000000000000000\"));\nconst MaxUint256 = ( /*#__PURE__*/BigNumber.from(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"));\nconst MinInt256 = ( /*#__PURE__*/BigNumber.from(\"-0x8000000000000000000000000000000000000000000000000000000000000000\"));\nconst MaxInt256 = ( /*#__PURE__*/BigNumber.from(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"));\nexport { NegativeOne, Zero, One, Two, WeiPerEther, MaxUint256, MinInt256, MaxInt256, };\n//# sourceMappingURL=bignumbers.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.chains = exports._getInitializedChains = void 0;\nvar mainnet_json_1 = __importDefault(require(\"./mainnet.json\"));\nvar ropsten_json_1 = __importDefault(require(\"./ropsten.json\"));\nvar rinkeby_json_1 = __importDefault(require(\"./rinkeby.json\"));\nvar kovan_json_1 = __importDefault(require(\"./kovan.json\"));\nvar goerli_json_1 = __importDefault(require(\"./goerli.json\"));\nvar sepolia_json_1 = __importDefault(require(\"./sepolia.json\"));\n/**\n * @hidden\n */\nfunction _getInitializedChains(customChains) {\n    var e_1, _a;\n    var names = {\n        '1': 'mainnet',\n        '3': 'ropsten',\n        '4': 'rinkeby',\n        '42': 'kovan',\n        '5': 'goerli',\n        '11155111': 'sepolia',\n    };\n    var chains = {\n        mainnet: mainnet_json_1.default,\n        ropsten: ropsten_json_1.default,\n        rinkeby: rinkeby_json_1.default,\n        kovan: kovan_json_1.default,\n        goerli: goerli_json_1.default,\n        sepolia: sepolia_json_1.default,\n    };\n    if (customChains) {\n        try {\n            for (var customChains_1 = __values(customChains), customChains_1_1 = customChains_1.next(); !customChains_1_1.done; customChains_1_1 = customChains_1.next()) {\n                var chain = customChains_1_1.value;\n                var name_1 = chain.name;\n                names[chain.chainId.toString()] = name_1;\n                chains[name_1] = chain;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (customChains_1_1 && !customChains_1_1.done && (_a = customChains_1.return)) _a.call(customChains_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    chains['names'] = names;\n    return chains;\n}\nexports._getInitializedChains = _getInitializedChains;\n/**\n * @deprecated this constant will be internalized (removed)\n * on next major version update\n */\nexports.chains = _getInitializedChains();\n//# sourceMappingURL=index.js.map","\"use strict\";\nimport { getAddress } from \"@ethersproject/address\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { arrayify, concat, hexDataSlice, hexlify, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\nimport { id } from \"@ethersproject/hash\";\nimport { keccak256 } from \"@ethersproject/keccak256\";\nimport { defineReadOnly, Description, getStatic } from \"@ethersproject/properties\";\nimport { defaultAbiCoder } from \"./abi-coder\";\nimport { checkResultErrors } from \"./coders/abstract-coder\";\nimport { ConstructorFragment, EventFragment, FormatTypes, Fragment, FunctionFragment, ParamType } from \"./fragments\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nexport { checkResultErrors };\nexport class LogDescription extends Description {\n}\nexport class TransactionDescription extends Description {\n}\nexport class ErrorDescription extends Description {\n}\nexport class Indexed extends Description {\n    static isIndexed(value) {\n        return !!(value && value._isIndexed);\n    }\n}\nconst BuiltinErrors = {\n    \"0x08c379a0\": { signature: \"Error(string)\", name: \"Error\", inputs: [\"string\"], reason: true },\n    \"0x4e487b71\": { signature: \"Panic(uint256)\", name: \"Panic\", inputs: [\"uint256\"] }\n};\nfunction wrapAccessError(property, error) {\n    const wrap = new Error(`deferred error during ABI decoding triggered accessing ${property}`);\n    wrap.error = error;\n    return wrap;\n}\n/*\nfunction checkNames(fragment: Fragment, type: \"input\" | \"output\", params: Array<ParamType>): void {\n    params.reduce((accum, param) => {\n        if (param.name) {\n            if (accum[param.name]) {\n                logger.throwArgumentError(`duplicate ${ type } parameter ${ JSON.stringify(param.name) } in ${ fragment.format(\"full\") }`, \"fragment\", fragment);\n            }\n            accum[param.name] = true;\n        }\n        return accum;\n    }, <{ [ name: string ]: boolean }>{ });\n}\n*/\nexport class Interface {\n    constructor(fragments) {\n        let abi = [];\n        if (typeof (fragments) === \"string\") {\n            abi = JSON.parse(fragments);\n        }\n        else {\n            abi = fragments;\n        }\n        defineReadOnly(this, \"fragments\", abi.map((fragment) => {\n            return Fragment.from(fragment);\n        }).filter((fragment) => (fragment != null)));\n        defineReadOnly(this, \"_abiCoder\", getStatic(new.target, \"getAbiCoder\")());\n        defineReadOnly(this, \"functions\", {});\n        defineReadOnly(this, \"errors\", {});\n        defineReadOnly(this, \"events\", {});\n        defineReadOnly(this, \"structs\", {});\n        // Add all fragments by their signature\n        this.fragments.forEach((fragment) => {\n            let bucket = null;\n            switch (fragment.type) {\n                case \"constructor\":\n                    if (this.deploy) {\n                        logger.warn(\"duplicate definition - constructor\");\n                        return;\n                    }\n                    //checkNames(fragment, \"input\", fragment.inputs);\n                    defineReadOnly(this, \"deploy\", fragment);\n                    return;\n                case \"function\":\n                    //checkNames(fragment, \"input\", fragment.inputs);\n                    //checkNames(fragment, \"output\", (<FunctionFragment>fragment).outputs);\n                    bucket = this.functions;\n                    break;\n                case \"event\":\n                    //checkNames(fragment, \"input\", fragment.inputs);\n                    bucket = this.events;\n                    break;\n                case \"error\":\n                    bucket = this.errors;\n                    break;\n                default:\n                    return;\n            }\n            let signature = fragment.format();\n            if (bucket[signature]) {\n                logger.warn(\"duplicate definition - \" + signature);\n                return;\n            }\n            bucket[signature] = fragment;\n        });\n        // If we do not have a constructor add a default\n        if (!this.deploy) {\n            defineReadOnly(this, \"deploy\", ConstructorFragment.from({\n                payable: false,\n                type: \"constructor\"\n            }));\n        }\n        defineReadOnly(this, \"_isInterface\", true);\n    }\n    format(format) {\n        if (!format) {\n            format = FormatTypes.full;\n        }\n        if (format === FormatTypes.sighash) {\n            logger.throwArgumentError(\"interface does not support formatting sighash\", \"format\", format);\n        }\n        const abi = this.fragments.map((fragment) => fragment.format(format));\n        // We need to re-bundle the JSON fragments a bit\n        if (format === FormatTypes.json) {\n            return JSON.stringify(abi.map((j) => JSON.parse(j)));\n        }\n        return abi;\n    }\n    // Sub-classes can override these to handle other blockchains\n    static getAbiCoder() {\n        return defaultAbiCoder;\n    }\n    static getAddress(address) {\n        return getAddress(address);\n    }\n    static getSighash(fragment) {\n        return hexDataSlice(id(fragment.format()), 0, 4);\n    }\n    static getEventTopic(eventFragment) {\n        return id(eventFragment.format());\n    }\n    // Find a function definition by any means necessary (unless it is ambiguous)\n    getFunction(nameOrSignatureOrSighash) {\n        if (isHexString(nameOrSignatureOrSighash)) {\n            for (const name in this.functions) {\n                if (nameOrSignatureOrSighash === this.getSighash(name)) {\n                    return this.functions[name];\n                }\n            }\n            logger.throwArgumentError(\"no matching function\", \"sighash\", nameOrSignatureOrSighash);\n        }\n        // It is a bare name, look up the function (will return null if ambiguous)\n        if (nameOrSignatureOrSighash.indexOf(\"(\") === -1) {\n            const name = nameOrSignatureOrSighash.trim();\n            const matching = Object.keys(this.functions).filter((f) => (f.split(\"(\" /* fix:) */)[0] === name));\n            if (matching.length === 0) {\n                logger.throwArgumentError(\"no matching function\", \"name\", name);\n            }\n            else if (matching.length > 1) {\n                logger.throwArgumentError(\"multiple matching functions\", \"name\", name);\n            }\n            return this.functions[matching[0]];\n        }\n        // Normalize the signature and lookup the function\n        const result = this.functions[FunctionFragment.fromString(nameOrSignatureOrSighash).format()];\n        if (!result) {\n            logger.throwArgumentError(\"no matching function\", \"signature\", nameOrSignatureOrSighash);\n        }\n        return result;\n    }\n    // Find an event definition by any means necessary (unless it is ambiguous)\n    getEvent(nameOrSignatureOrTopic) {\n        if (isHexString(nameOrSignatureOrTopic)) {\n            const topichash = nameOrSignatureOrTopic.toLowerCase();\n            for (const name in this.events) {\n                if (topichash === this.getEventTopic(name)) {\n                    return this.events[name];\n                }\n            }\n            logger.throwArgumentError(\"no matching event\", \"topichash\", topichash);\n        }\n        // It is a bare name, look up the function (will return null if ambiguous)\n        if (nameOrSignatureOrTopic.indexOf(\"(\") === -1) {\n            const name = nameOrSignatureOrTopic.trim();\n            const matching = Object.keys(this.events).filter((f) => (f.split(\"(\" /* fix:) */)[0] === name));\n            if (matching.length === 0) {\n                logger.throwArgumentError(\"no matching event\", \"name\", name);\n            }\n            else if (matching.length > 1) {\n                logger.throwArgumentError(\"multiple matching events\", \"name\", name);\n            }\n            return this.events[matching[0]];\n        }\n        // Normalize the signature and lookup the function\n        const result = this.events[EventFragment.fromString(nameOrSignatureOrTopic).format()];\n        if (!result) {\n            logger.throwArgumentError(\"no matching event\", \"signature\", nameOrSignatureOrTopic);\n        }\n        return result;\n    }\n    // Find a function definition by any means necessary (unless it is ambiguous)\n    getError(nameOrSignatureOrSighash) {\n        if (isHexString(nameOrSignatureOrSighash)) {\n            const getSighash = getStatic(this.constructor, \"getSighash\");\n            for (const name in this.errors) {\n                const error = this.errors[name];\n                if (nameOrSignatureOrSighash === getSighash(error)) {\n                    return this.errors[name];\n                }\n            }\n            logger.throwArgumentError(\"no matching error\", \"sighash\", nameOrSignatureOrSighash);\n        }\n        // It is a bare name, look up the function (will return null if ambiguous)\n        if (nameOrSignatureOrSighash.indexOf(\"(\") === -1) {\n            const name = nameOrSignatureOrSighash.trim();\n            const matching = Object.keys(this.errors).filter((f) => (f.split(\"(\" /* fix:) */)[0] === name));\n            if (matching.length === 0) {\n                logger.throwArgumentError(\"no matching error\", \"name\", name);\n            }\n            else if (matching.length > 1) {\n                logger.throwArgumentError(\"multiple matching errors\", \"name\", name);\n            }\n            return this.errors[matching[0]];\n        }\n        // Normalize the signature and lookup the function\n        const result = this.errors[FunctionFragment.fromString(nameOrSignatureOrSighash).format()];\n        if (!result) {\n            logger.throwArgumentError(\"no matching error\", \"signature\", nameOrSignatureOrSighash);\n        }\n        return result;\n    }\n    // Get the sighash (the bytes4 selector) used by Solidity to identify a function\n    getSighash(fragment) {\n        if (typeof (fragment) === \"string\") {\n            try {\n                fragment = this.getFunction(fragment);\n            }\n            catch (error) {\n                try {\n                    fragment = this.getError(fragment);\n                }\n                catch (_) {\n                    throw error;\n                }\n            }\n        }\n        return getStatic(this.constructor, \"getSighash\")(fragment);\n    }\n    // Get the topic (the bytes32 hash) used by Solidity to identify an event\n    getEventTopic(eventFragment) {\n        if (typeof (eventFragment) === \"string\") {\n            eventFragment = this.getEvent(eventFragment);\n        }\n        return getStatic(this.constructor, \"getEventTopic\")(eventFragment);\n    }\n    _decodeParams(params, data) {\n        return this._abiCoder.decode(params, data);\n    }\n    _encodeParams(params, values) {\n        return this._abiCoder.encode(params, values);\n    }\n    encodeDeploy(values) {\n        return this._encodeParams(this.deploy.inputs, values || []);\n    }\n    decodeErrorResult(fragment, data) {\n        if (typeof (fragment) === \"string\") {\n            fragment = this.getError(fragment);\n        }\n        const bytes = arrayify(data);\n        if (hexlify(bytes.slice(0, 4)) !== this.getSighash(fragment)) {\n            logger.throwArgumentError(`data signature does not match error ${fragment.name}.`, \"data\", hexlify(bytes));\n        }\n        return this._decodeParams(fragment.inputs, bytes.slice(4));\n    }\n    encodeErrorResult(fragment, values) {\n        if (typeof (fragment) === \"string\") {\n            fragment = this.getError(fragment);\n        }\n        return hexlify(concat([\n            this.getSighash(fragment),\n            this._encodeParams(fragment.inputs, values || [])\n        ]));\n    }\n    // Decode the data for a function call (e.g. tx.data)\n    decodeFunctionData(functionFragment, data) {\n        if (typeof (functionFragment) === \"string\") {\n            functionFragment = this.getFunction(functionFragment);\n        }\n        const bytes = arrayify(data);\n        if (hexlify(bytes.slice(0, 4)) !== this.getSighash(functionFragment)) {\n            logger.throwArgumentError(`data signature does not match function ${functionFragment.name}.`, \"data\", hexlify(bytes));\n        }\n        return this._decodeParams(functionFragment.inputs, bytes.slice(4));\n    }\n    // Encode the data for a function call (e.g. tx.data)\n    encodeFunctionData(functionFragment, values) {\n        if (typeof (functionFragment) === \"string\") {\n            functionFragment = this.getFunction(functionFragment);\n        }\n        return hexlify(concat([\n            this.getSighash(functionFragment),\n            this._encodeParams(functionFragment.inputs, values || [])\n        ]));\n    }\n    // Decode the result from a function call (e.g. from eth_call)\n    decodeFunctionResult(functionFragment, data) {\n        if (typeof (functionFragment) === \"string\") {\n            functionFragment = this.getFunction(functionFragment);\n        }\n        let bytes = arrayify(data);\n        let reason = null;\n        let message = \"\";\n        let errorArgs = null;\n        let errorName = null;\n        let errorSignature = null;\n        switch (bytes.length % this._abiCoder._getWordSize()) {\n            case 0:\n                try {\n                    return this._abiCoder.decode(functionFragment.outputs, bytes);\n                }\n                catch (error) { }\n                break;\n            case 4: {\n                const selector = hexlify(bytes.slice(0, 4));\n                const builtin = BuiltinErrors[selector];\n                if (builtin) {\n                    errorArgs = this._abiCoder.decode(builtin.inputs, bytes.slice(4));\n                    errorName = builtin.name;\n                    errorSignature = builtin.signature;\n                    if (builtin.reason) {\n                        reason = errorArgs[0];\n                    }\n                    if (errorName === \"Error\") {\n                        message = `; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(errorArgs[0])}`;\n                    }\n                    else if (errorName === \"Panic\") {\n                        message = `; VM Exception while processing transaction: reverted with panic code ${errorArgs[0]}`;\n                    }\n                }\n                else {\n                    try {\n                        const error = this.getError(selector);\n                        errorArgs = this._abiCoder.decode(error.inputs, bytes.slice(4));\n                        errorName = error.name;\n                        errorSignature = error.format();\n                    }\n                    catch (error) { }\n                }\n                break;\n            }\n        }\n        return logger.throwError(\"call revert exception\" + message, Logger.errors.CALL_EXCEPTION, {\n            method: functionFragment.format(),\n            data: hexlify(data), errorArgs, errorName, errorSignature, reason\n        });\n    }\n    // Encode the result for a function call (e.g. for eth_call)\n    encodeFunctionResult(functionFragment, values) {\n        if (typeof (functionFragment) === \"string\") {\n            functionFragment = this.getFunction(functionFragment);\n        }\n        return hexlify(this._abiCoder.encode(functionFragment.outputs, values || []));\n    }\n    // Create the filter for the event with search criteria (e.g. for eth_filterLog)\n    encodeFilterTopics(eventFragment, values) {\n        if (typeof (eventFragment) === \"string\") {\n            eventFragment = this.getEvent(eventFragment);\n        }\n        if (values.length > eventFragment.inputs.length) {\n            logger.throwError(\"too many arguments for \" + eventFragment.format(), Logger.errors.UNEXPECTED_ARGUMENT, {\n                argument: \"values\",\n                value: values\n            });\n        }\n        let topics = [];\n        if (!eventFragment.anonymous) {\n            topics.push(this.getEventTopic(eventFragment));\n        }\n        const encodeTopic = (param, value) => {\n            if (param.type === \"string\") {\n                return id(value);\n            }\n            else if (param.type === \"bytes\") {\n                return keccak256(hexlify(value));\n            }\n            if (param.type === \"bool\" && typeof (value) === \"boolean\") {\n                value = (value ? \"0x01\" : \"0x00\");\n            }\n            if (param.type.match(/^u?int/)) {\n                value = BigNumber.from(value).toHexString();\n            }\n            // Check addresses are valid\n            if (param.type === \"address\") {\n                this._abiCoder.encode([\"address\"], [value]);\n            }\n            return hexZeroPad(hexlify(value), 32);\n        };\n        values.forEach((value, index) => {\n            let param = eventFragment.inputs[index];\n            if (!param.indexed) {\n                if (value != null) {\n                    logger.throwArgumentError(\"cannot filter non-indexed parameters; must be null\", (\"contract.\" + param.name), value);\n                }\n                return;\n            }\n            if (value == null) {\n                topics.push(null);\n            }\n            else if (param.baseType === \"array\" || param.baseType === \"tuple\") {\n                logger.throwArgumentError(\"filtering with tuples or arrays not supported\", (\"contract.\" + param.name), value);\n            }\n            else if (Array.isArray(value)) {\n                topics.push(value.map((value) => encodeTopic(param, value)));\n            }\n            else {\n                topics.push(encodeTopic(param, value));\n            }\n        });\n        // Trim off trailing nulls\n        while (topics.length && topics[topics.length - 1] === null) {\n            topics.pop();\n        }\n        return topics;\n    }\n    encodeEventLog(eventFragment, values) {\n        if (typeof (eventFragment) === \"string\") {\n            eventFragment = this.getEvent(eventFragment);\n        }\n        const topics = [];\n        const dataTypes = [];\n        const dataValues = [];\n        if (!eventFragment.anonymous) {\n            topics.push(this.getEventTopic(eventFragment));\n        }\n        if (values.length !== eventFragment.inputs.length) {\n            logger.throwArgumentError(\"event arguments/values mismatch\", \"values\", values);\n        }\n        eventFragment.inputs.forEach((param, index) => {\n            const value = values[index];\n            if (param.indexed) {\n                if (param.type === \"string\") {\n                    topics.push(id(value));\n                }\n                else if (param.type === \"bytes\") {\n                    topics.push(keccak256(value));\n                }\n                else if (param.baseType === \"tuple\" || param.baseType === \"array\") {\n                    // @TODO\n                    throw new Error(\"not implemented\");\n                }\n                else {\n                    topics.push(this._abiCoder.encode([param.type], [value]));\n                }\n            }\n            else {\n                dataTypes.push(param);\n                dataValues.push(value);\n            }\n        });\n        return {\n            data: this._abiCoder.encode(dataTypes, dataValues),\n            topics: topics\n        };\n    }\n    // Decode a filter for the event and the search criteria\n    decodeEventLog(eventFragment, data, topics) {\n        if (typeof (eventFragment) === \"string\") {\n            eventFragment = this.getEvent(eventFragment);\n        }\n        if (topics != null && !eventFragment.anonymous) {\n            let topicHash = this.getEventTopic(eventFragment);\n            if (!isHexString(topics[0], 32) || topics[0].toLowerCase() !== topicHash) {\n                logger.throwError(\"fragment/topic mismatch\", Logger.errors.INVALID_ARGUMENT, { argument: \"topics[0]\", expected: topicHash, value: topics[0] });\n            }\n            topics = topics.slice(1);\n        }\n        let indexed = [];\n        let nonIndexed = [];\n        let dynamic = [];\n        eventFragment.inputs.forEach((param, index) => {\n            if (param.indexed) {\n                if (param.type === \"string\" || param.type === \"bytes\" || param.baseType === \"tuple\" || param.baseType === \"array\") {\n                    indexed.push(ParamType.fromObject({ type: \"bytes32\", name: param.name }));\n                    dynamic.push(true);\n                }\n                else {\n                    indexed.push(param);\n                    dynamic.push(false);\n                }\n            }\n            else {\n                nonIndexed.push(param);\n                dynamic.push(false);\n            }\n        });\n        let resultIndexed = (topics != null) ? this._abiCoder.decode(indexed, concat(topics)) : null;\n        let resultNonIndexed = this._abiCoder.decode(nonIndexed, data, true);\n        let result = [];\n        let nonIndexedIndex = 0, indexedIndex = 0;\n        eventFragment.inputs.forEach((param, index) => {\n            if (param.indexed) {\n                if (resultIndexed == null) {\n                    result[index] = new Indexed({ _isIndexed: true, hash: null });\n                }\n                else if (dynamic[index]) {\n                    result[index] = new Indexed({ _isIndexed: true, hash: resultIndexed[indexedIndex++] });\n                }\n                else {\n                    try {\n                        result[index] = resultIndexed[indexedIndex++];\n                    }\n                    catch (error) {\n                        result[index] = error;\n                    }\n                }\n            }\n            else {\n                try {\n                    result[index] = resultNonIndexed[nonIndexedIndex++];\n                }\n                catch (error) {\n                    result[index] = error;\n                }\n            }\n            // Add the keyword argument if named and safe\n            if (param.name && result[param.name] == null) {\n                const value = result[index];\n                // Make error named values throw on access\n                if (value instanceof Error) {\n                    Object.defineProperty(result, param.name, {\n                        enumerable: true,\n                        get: () => { throw wrapAccessError(`property ${JSON.stringify(param.name)}`, value); }\n                    });\n                }\n                else {\n                    result[param.name] = value;\n                }\n            }\n        });\n        // Make all error indexed values throw on access\n        for (let i = 0; i < result.length; i++) {\n            const value = result[i];\n            if (value instanceof Error) {\n                Object.defineProperty(result, i, {\n                    enumerable: true,\n                    get: () => { throw wrapAccessError(`index ${i}`, value); }\n                });\n            }\n        }\n        return Object.freeze(result);\n    }\n    // Given a transaction, find the matching function fragment (if any) and\n    // determine all its properties and call parameters\n    parseTransaction(tx) {\n        let fragment = this.getFunction(tx.data.substring(0, 10).toLowerCase());\n        if (!fragment) {\n            return null;\n        }\n        return new TransactionDescription({\n            args: this._abiCoder.decode(fragment.inputs, \"0x\" + tx.data.substring(10)),\n            functionFragment: fragment,\n            name: fragment.name,\n            signature: fragment.format(),\n            sighash: this.getSighash(fragment),\n            value: BigNumber.from(tx.value || \"0\"),\n        });\n    }\n    // @TODO\n    //parseCallResult(data: BytesLike): ??\n    // Given an event log, find the matching event fragment (if any) and\n    // determine all its properties and values\n    parseLog(log) {\n        let fragment = this.getEvent(log.topics[0]);\n        if (!fragment || fragment.anonymous) {\n            return null;\n        }\n        // @TODO: If anonymous, and the only method, and the input count matches, should we parse?\n        //        Probably not, because just because it is the only event in the ABI does\n        //        not mean we have the full ABI; maybe just a fragment?\n        return new LogDescription({\n            eventFragment: fragment,\n            name: fragment.name,\n            signature: fragment.format(),\n            topic: this.getEventTopic(fragment),\n            args: this.decodeEventLog(fragment, log.data, log.topics)\n        });\n    }\n    parseError(data) {\n        const hexData = hexlify(data);\n        let fragment = this.getError(hexData.substring(0, 10).toLowerCase());\n        if (!fragment) {\n            return null;\n        }\n        return new ErrorDescription({\n            args: this._abiCoder.decode(fragment.inputs, \"0x\" + hexData.substring(10)),\n            errorFragment: fragment,\n            name: fragment.name,\n            signature: fragment.format(),\n            sighash: this.getSighash(fragment),\n        });\n    }\n    /*\n    static from(value: Array<Fragment | string | JsonAbi> | string | Interface) {\n        if (Interface.isInterface(value)) {\n            return value;\n        }\n        if (typeof(value) === \"string\") {\n            return new Interface(JSON.parse(value));\n        }\n        return new Interface(value);\n    }\n    */\n    static isInterface(value) {\n        return !!(value && value._isInterface);\n    }\n}\n//# sourceMappingURL=interface.js.map","export const version = \"bignumber/5.7.0\";\n//# sourceMappingURL=_version.js.map","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export const version = \"signing-key/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { EC } from \"./elliptic\";\nimport { arrayify, hexDataLength, hexlify, hexZeroPad, splitSignature } from \"@ethersproject/bytes\";\nimport { defineReadOnly } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nlet _curve = null;\nfunction getCurve() {\n    if (!_curve) {\n        _curve = new EC(\"secp256k1\");\n    }\n    return _curve;\n}\nexport class SigningKey {\n    constructor(privateKey) {\n        defineReadOnly(this, \"curve\", \"secp256k1\");\n        defineReadOnly(this, \"privateKey\", hexlify(privateKey));\n        if (hexDataLength(this.privateKey) !== 32) {\n            logger.throwArgumentError(\"invalid private key\", \"privateKey\", \"[[ REDACTED ]]\");\n        }\n        const keyPair = getCurve().keyFromPrivate(arrayify(this.privateKey));\n        defineReadOnly(this, \"publicKey\", \"0x\" + keyPair.getPublic(false, \"hex\"));\n        defineReadOnly(this, \"compressedPublicKey\", \"0x\" + keyPair.getPublic(true, \"hex\"));\n        defineReadOnly(this, \"_isSigningKey\", true);\n    }\n    _addPoint(other) {\n        const p0 = getCurve().keyFromPublic(arrayify(this.publicKey));\n        const p1 = getCurve().keyFromPublic(arrayify(other));\n        return \"0x\" + p0.pub.add(p1.pub).encodeCompressed(\"hex\");\n    }\n    signDigest(digest) {\n        const keyPair = getCurve().keyFromPrivate(arrayify(this.privateKey));\n        const digestBytes = arrayify(digest);\n        if (digestBytes.length !== 32) {\n            logger.throwArgumentError(\"bad digest length\", \"digest\", digest);\n        }\n        const signature = keyPair.sign(digestBytes, { canonical: true });\n        return splitSignature({\n            recoveryParam: signature.recoveryParam,\n            r: hexZeroPad(\"0x\" + signature.r.toString(16), 32),\n            s: hexZeroPad(\"0x\" + signature.s.toString(16), 32),\n        });\n    }\n    computeSharedSecret(otherKey) {\n        const keyPair = getCurve().keyFromPrivate(arrayify(this.privateKey));\n        const otherKeyPair = getCurve().keyFromPublic(arrayify(computePublicKey(otherKey)));\n        return hexZeroPad(\"0x\" + keyPair.derive(otherKeyPair.getPublic()).toString(16), 32);\n    }\n    static isSigningKey(value) {\n        return !!(value && value._isSigningKey);\n    }\n}\nexport function recoverPublicKey(digest, signature) {\n    const sig = splitSignature(signature);\n    const rs = { r: arrayify(sig.r), s: arrayify(sig.s) };\n    return \"0x\" + getCurve().recoverPubKey(arrayify(digest), rs, sig.recoveryParam).encode(\"hex\", false);\n}\nexport function computePublicKey(key, compressed) {\n    const bytes = arrayify(key);\n    if (bytes.length === 32) {\n        const signingKey = new SigningKey(bytes);\n        if (compressed) {\n            return \"0x\" + getCurve().keyFromPrivate(bytes).getPublic(true, \"hex\");\n        }\n        return signingKey.publicKey;\n    }\n    else if (bytes.length === 33) {\n        if (compressed) {\n            return hexlify(bytes);\n        }\n        return \"0x\" + getCurve().keyFromPublic(bytes).getPublic(false, \"hex\");\n    }\n    else if (bytes.length === 65) {\n        if (!compressed) {\n            return hexlify(bytes);\n        }\n        return \"0x\" + getCurve().keyFromPublic(bytes).getPublic(true, \"hex\");\n    }\n    return logger.throwArgumentError(\"invalid public or private key\", \"key\", \"[REDACTED]\");\n}\n//# sourceMappingURL=index.js.map","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AccessLists = exports.checkMaxInitCodeSize = void 0;\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\nvar types_1 = require(\"./types\");\nfunction checkMaxInitCodeSize(common, length) {\n    if (length > common.param('vm', 'maxInitCodeSize')) {\n        throw new Error(\"the initcode size of this transaction is too large: it is \".concat(length, \" while the max is \").concat(common.param('vm', 'maxInitCodeSize')));\n    }\n}\nexports.checkMaxInitCodeSize = checkMaxInitCodeSize;\nvar AccessLists = /** @class */ (function () {\n    function AccessLists() {\n    }\n    AccessLists.getAccessListData = function (accessList) {\n        var AccessListJSON;\n        var bufferAccessList;\n        if (accessList && (0, types_1.isAccessList)(accessList)) {\n            AccessListJSON = accessList;\n            var newAccessList = [];\n            for (var i = 0; i < accessList.length; i++) {\n                var item = accessList[i];\n                var addressBuffer = (0, ethereumjs_util_1.toBuffer)(item.address);\n                var storageItems = [];\n                for (var index = 0; index < item.storageKeys.length; index++) {\n                    storageItems.push((0, ethereumjs_util_1.toBuffer)(item.storageKeys[index]));\n                }\n                newAccessList.push([addressBuffer, storageItems]);\n            }\n            bufferAccessList = newAccessList;\n        }\n        else {\n            bufferAccessList = accessList !== null && accessList !== void 0 ? accessList : [];\n            // build the JSON\n            var json = [];\n            for (var i = 0; i < bufferAccessList.length; i++) {\n                var data = bufferAccessList[i];\n                var address = (0, ethereumjs_util_1.bufferToHex)(data[0]);\n                var storageKeys = [];\n                for (var item = 0; item < data[1].length; item++) {\n                    storageKeys.push((0, ethereumjs_util_1.bufferToHex)(data[1][item]));\n                }\n                var jsonItem = {\n                    address: address,\n                    storageKeys: storageKeys,\n                };\n                json.push(jsonItem);\n            }\n            AccessListJSON = json;\n        }\n        return {\n            AccessListJSON: AccessListJSON,\n            accessList: bufferAccessList,\n        };\n    };\n    AccessLists.verifyAccessList = function (accessList) {\n        for (var key = 0; key < accessList.length; key++) {\n            var accessListItem = accessList[key];\n            var address = accessListItem[0];\n            var storageSlots = accessListItem[1];\n            if (accessListItem[2] !== undefined) {\n                throw new Error('Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.');\n            }\n            if (address.length != 20) {\n                throw new Error('Invalid EIP-2930 transaction: address length should be 20 bytes');\n            }\n            for (var storageSlot = 0; storageSlot < storageSlots.length; storageSlot++) {\n                if (storageSlots[storageSlot].length != 32) {\n                    throw new Error('Invalid EIP-2930 transaction: storage slot length should be 32 bytes');\n                }\n            }\n        }\n    };\n    AccessLists.getAccessListJSON = function (accessList) {\n        var accessListJSON = [];\n        for (var index = 0; index < accessList.length; index++) {\n            var item = accessList[index];\n            var JSONItem = {\n                address: '0x' + (0, ethereumjs_util_1.setLengthLeft)(item[0], 20).toString('hex'),\n                storageKeys: [],\n            };\n            var storageSlots = item[1];\n            for (var slot = 0; slot < storageSlots.length; slot++) {\n                var storageSlot = storageSlots[slot];\n                JSONItem.storageKeys.push('0x' + (0, ethereumjs_util_1.setLengthLeft)(storageSlot, 32).toString('hex'));\n            }\n            accessListJSON.push(JSONItem);\n        }\n        return accessListJSON;\n    };\n    AccessLists.getDataFeeEIP2930 = function (accessList, common) {\n        var accessListStorageKeyCost = common.param('gasPrices', 'accessListStorageKeyCost');\n        var accessListAddressCost = common.param('gasPrices', 'accessListAddressCost');\n        var slots = 0;\n        for (var index = 0; index < accessList.length; index++) {\n            var item = accessList[index];\n            var storageSlots = item[1];\n            slots += storageSlots.length;\n        }\n        var addresses = accessList.length;\n        return addresses * accessListAddressCost + slots * accessListStorageKeyCost;\n    };\n    return AccessLists;\n}());\nexports.AccessLists = AccessLists;\n//# sourceMappingURL=util.js.map","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","\"use strict\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { defineReadOnly } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n;\nconst _constructorGuard = {};\nlet ModifiersBytes = { calldata: true, memory: true, storage: true };\nlet ModifiersNest = { calldata: true, memory: true };\nfunction checkModifier(type, name) {\n    if (type === \"bytes\" || type === \"string\") {\n        if (ModifiersBytes[name]) {\n            return true;\n        }\n    }\n    else if (type === \"address\") {\n        if (name === \"payable\") {\n            return true;\n        }\n    }\n    else if (type.indexOf(\"[\") >= 0 || type === \"tuple\") {\n        if (ModifiersNest[name]) {\n            return true;\n        }\n    }\n    if (ModifiersBytes[name] || name === \"payable\") {\n        logger.throwArgumentError(\"invalid modifier\", \"name\", name);\n    }\n    return false;\n}\n// @TODO: Make sure that children of an indexed tuple are marked with a null indexed\nfunction parseParamType(param, allowIndexed) {\n    let originalParam = param;\n    function throwError(i) {\n        logger.throwArgumentError(`unexpected character at position ${i}`, \"param\", param);\n    }\n    param = param.replace(/\\s/g, \" \");\n    function newNode(parent) {\n        let node = { type: \"\", name: \"\", parent: parent, state: { allowType: true } };\n        if (allowIndexed) {\n            node.indexed = false;\n        }\n        return node;\n    }\n    let parent = { type: \"\", name: \"\", state: { allowType: true } };\n    let node = parent;\n    for (let i = 0; i < param.length; i++) {\n        let c = param[i];\n        switch (c) {\n            case \"(\":\n                if (node.state.allowType && node.type === \"\") {\n                    node.type = \"tuple\";\n                }\n                else if (!node.state.allowParams) {\n                    throwError(i);\n                }\n                node.state.allowType = false;\n                node.type = verifyType(node.type);\n                node.components = [newNode(node)];\n                node = node.components[0];\n                break;\n            case \")\":\n                delete node.state;\n                if (node.name === \"indexed\") {\n                    if (!allowIndexed) {\n                        throwError(i);\n                    }\n                    node.indexed = true;\n                    node.name = \"\";\n                }\n                if (checkModifier(node.type, node.name)) {\n                    node.name = \"\";\n                }\n                node.type = verifyType(node.type);\n                let child = node;\n                node = node.parent;\n                if (!node) {\n                    throwError(i);\n                }\n                delete child.parent;\n                node.state.allowParams = false;\n                node.state.allowName = true;\n                node.state.allowArray = true;\n                break;\n            case \",\":\n                delete node.state;\n                if (node.name === \"indexed\") {\n                    if (!allowIndexed) {\n                        throwError(i);\n                    }\n                    node.indexed = true;\n                    node.name = \"\";\n                }\n                if (checkModifier(node.type, node.name)) {\n                    node.name = \"\";\n                }\n                node.type = verifyType(node.type);\n                let sibling = newNode(node.parent);\n                //{ type: \"\", name: \"\", parent: node.parent, state: { allowType: true } };\n                node.parent.components.push(sibling);\n                delete node.parent;\n                node = sibling;\n                break;\n            // Hit a space...\n            case \" \":\n                // If reading type, the type is done and may read a param or name\n                if (node.state.allowType) {\n                    if (node.type !== \"\") {\n                        node.type = verifyType(node.type);\n                        delete node.state.allowType;\n                        node.state.allowName = true;\n                        node.state.allowParams = true;\n                    }\n                }\n                // If reading name, the name is done\n                if (node.state.allowName) {\n                    if (node.name !== \"\") {\n                        if (node.name === \"indexed\") {\n                            if (!allowIndexed) {\n                                throwError(i);\n                            }\n                            if (node.indexed) {\n                                throwError(i);\n                            }\n                            node.indexed = true;\n                            node.name = \"\";\n                        }\n                        else if (checkModifier(node.type, node.name)) {\n                            node.name = \"\";\n                        }\n                        else {\n                            node.state.allowName = false;\n                        }\n                    }\n                }\n                break;\n            case \"[\":\n                if (!node.state.allowArray) {\n                    throwError(i);\n                }\n                node.type += c;\n                node.state.allowArray = false;\n                node.state.allowName = false;\n                node.state.readArray = true;\n                break;\n            case \"]\":\n                if (!node.state.readArray) {\n                    throwError(i);\n                }\n                node.type += c;\n                node.state.readArray = false;\n                node.state.allowArray = true;\n                node.state.allowName = true;\n                break;\n            default:\n                if (node.state.allowType) {\n                    node.type += c;\n                    node.state.allowParams = true;\n                    node.state.allowArray = true;\n                }\n                else if (node.state.allowName) {\n                    node.name += c;\n                    delete node.state.allowArray;\n                }\n                else if (node.state.readArray) {\n                    node.type += c;\n                }\n                else {\n                    throwError(i);\n                }\n        }\n    }\n    if (node.parent) {\n        logger.throwArgumentError(\"unexpected eof\", \"param\", param);\n    }\n    delete parent.state;\n    if (node.name === \"indexed\") {\n        if (!allowIndexed) {\n            throwError(originalParam.length - 7);\n        }\n        if (node.indexed) {\n            throwError(originalParam.length - 7);\n        }\n        node.indexed = true;\n        node.name = \"\";\n    }\n    else if (checkModifier(node.type, node.name)) {\n        node.name = \"\";\n    }\n    parent.type = verifyType(parent.type);\n    return parent;\n}\nfunction populate(object, params) {\n    for (let key in params) {\n        defineReadOnly(object, key, params[key]);\n    }\n}\nexport const FormatTypes = Object.freeze({\n    // Bare formatting, as is needed for computing a sighash of an event or function\n    sighash: \"sighash\",\n    // Human-Readable with Minimal spacing and without names (compact human-readable)\n    minimal: \"minimal\",\n    // Human-Readable with nice spacing, including all names\n    full: \"full\",\n    // JSON-format a la Solidity\n    json: \"json\"\n});\nconst paramTypeArray = new RegExp(/^(.*)\\[([0-9]*)\\]$/);\nexport class ParamType {\n    constructor(constructorGuard, params) {\n        if (constructorGuard !== _constructorGuard) {\n            logger.throwError(\"use fromString\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"new ParamType()\"\n            });\n        }\n        populate(this, params);\n        let match = this.type.match(paramTypeArray);\n        if (match) {\n            populate(this, {\n                arrayLength: parseInt(match[2] || \"-1\"),\n                arrayChildren: ParamType.fromObject({\n                    type: match[1],\n                    components: this.components\n                }),\n                baseType: \"array\"\n            });\n        }\n        else {\n            populate(this, {\n                arrayLength: null,\n                arrayChildren: null,\n                baseType: ((this.components != null) ? \"tuple\" : this.type)\n            });\n        }\n        this._isParamType = true;\n        Object.freeze(this);\n    }\n    // Format the parameter fragment\n    //   - sighash: \"(uint256,address)\"\n    //   - minimal: \"tuple(uint256,address) indexed\"\n    //   - full:    \"tuple(uint256 foo, address bar) indexed baz\"\n    format(format) {\n        if (!format) {\n            format = FormatTypes.sighash;\n        }\n        if (!FormatTypes[format]) {\n            logger.throwArgumentError(\"invalid format type\", \"format\", format);\n        }\n        if (format === FormatTypes.json) {\n            let result = {\n                type: ((this.baseType === \"tuple\") ? \"tuple\" : this.type),\n                name: (this.name || undefined)\n            };\n            if (typeof (this.indexed) === \"boolean\") {\n                result.indexed = this.indexed;\n            }\n            if (this.components) {\n                result.components = this.components.map((comp) => JSON.parse(comp.format(format)));\n            }\n            return JSON.stringify(result);\n        }\n        let result = \"\";\n        // Array\n        if (this.baseType === \"array\") {\n            result += this.arrayChildren.format(format);\n            result += \"[\" + (this.arrayLength < 0 ? \"\" : String(this.arrayLength)) + \"]\";\n        }\n        else {\n            if (this.baseType === \"tuple\") {\n                if (format !== FormatTypes.sighash) {\n                    result += this.type;\n                }\n                result += \"(\" + this.components.map((comp) => comp.format(format)).join((format === FormatTypes.full) ? \", \" : \",\") + \")\";\n            }\n            else {\n                result += this.type;\n            }\n        }\n        if (format !== FormatTypes.sighash) {\n            if (this.indexed === true) {\n                result += \" indexed\";\n            }\n            if (format === FormatTypes.full && this.name) {\n                result += \" \" + this.name;\n            }\n        }\n        return result;\n    }\n    static from(value, allowIndexed) {\n        if (typeof (value) === \"string\") {\n            return ParamType.fromString(value, allowIndexed);\n        }\n        return ParamType.fromObject(value);\n    }\n    static fromObject(value) {\n        if (ParamType.isParamType(value)) {\n            return value;\n        }\n        return new ParamType(_constructorGuard, {\n            name: (value.name || null),\n            type: verifyType(value.type),\n            indexed: ((value.indexed == null) ? null : !!value.indexed),\n            components: (value.components ? value.components.map(ParamType.fromObject) : null)\n        });\n    }\n    static fromString(value, allowIndexed) {\n        function ParamTypify(node) {\n            return ParamType.fromObject({\n                name: node.name,\n                type: node.type,\n                indexed: node.indexed,\n                components: node.components\n            });\n        }\n        return ParamTypify(parseParamType(value, !!allowIndexed));\n    }\n    static isParamType(value) {\n        return !!(value != null && value._isParamType);\n    }\n}\n;\nfunction parseParams(value, allowIndex) {\n    return splitNesting(value).map((param) => ParamType.fromString(param, allowIndex));\n}\nexport class Fragment {\n    constructor(constructorGuard, params) {\n        if (constructorGuard !== _constructorGuard) {\n            logger.throwError(\"use a static from method\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"new Fragment()\"\n            });\n        }\n        populate(this, params);\n        this._isFragment = true;\n        Object.freeze(this);\n    }\n    static from(value) {\n        if (Fragment.isFragment(value)) {\n            return value;\n        }\n        if (typeof (value) === \"string\") {\n            return Fragment.fromString(value);\n        }\n        return Fragment.fromObject(value);\n    }\n    static fromObject(value) {\n        if (Fragment.isFragment(value)) {\n            return value;\n        }\n        switch (value.type) {\n            case \"function\":\n                return FunctionFragment.fromObject(value);\n            case \"event\":\n                return EventFragment.fromObject(value);\n            case \"constructor\":\n                return ConstructorFragment.fromObject(value);\n            case \"error\":\n                return ErrorFragment.fromObject(value);\n            case \"fallback\":\n            case \"receive\":\n                // @TODO: Something? Maybe return a FunctionFragment? A custom DefaultFunctionFragment?\n                return null;\n        }\n        return logger.throwArgumentError(\"invalid fragment object\", \"value\", value);\n    }\n    static fromString(value) {\n        // Make sure the \"returns\" is surrounded by a space and all whitespace is exactly one space\n        value = value.replace(/\\s/g, \" \");\n        value = value.replace(/\\(/g, \" (\").replace(/\\)/g, \") \").replace(/\\s+/g, \" \");\n        value = value.trim();\n        if (value.split(\" \")[0] === \"event\") {\n            return EventFragment.fromString(value.substring(5).trim());\n        }\n        else if (value.split(\" \")[0] === \"function\") {\n            return FunctionFragment.fromString(value.substring(8).trim());\n        }\n        else if (value.split(\"(\")[0].trim() === \"constructor\") {\n            return ConstructorFragment.fromString(value.trim());\n        }\n        else if (value.split(\" \")[0] === \"error\") {\n            return ErrorFragment.fromString(value.substring(5).trim());\n        }\n        return logger.throwArgumentError(\"unsupported fragment\", \"value\", value);\n    }\n    static isFragment(value) {\n        return !!(value && value._isFragment);\n    }\n}\nexport class EventFragment extends Fragment {\n    format(format) {\n        if (!format) {\n            format = FormatTypes.sighash;\n        }\n        if (!FormatTypes[format]) {\n            logger.throwArgumentError(\"invalid format type\", \"format\", format);\n        }\n        if (format === FormatTypes.json) {\n            return JSON.stringify({\n                type: \"event\",\n                anonymous: this.anonymous,\n                name: this.name,\n                inputs: this.inputs.map((input) => JSON.parse(input.format(format)))\n            });\n        }\n        let result = \"\";\n        if (format !== FormatTypes.sighash) {\n            result += \"event \";\n        }\n        result += this.name + \"(\" + this.inputs.map((input) => input.format(format)).join((format === FormatTypes.full) ? \", \" : \",\") + \") \";\n        if (format !== FormatTypes.sighash) {\n            if (this.anonymous) {\n                result += \"anonymous \";\n            }\n        }\n        return result.trim();\n    }\n    static from(value) {\n        if (typeof (value) === \"string\") {\n            return EventFragment.fromString(value);\n        }\n        return EventFragment.fromObject(value);\n    }\n    static fromObject(value) {\n        if (EventFragment.isEventFragment(value)) {\n            return value;\n        }\n        if (value.type !== \"event\") {\n            logger.throwArgumentError(\"invalid event object\", \"value\", value);\n        }\n        const params = {\n            name: verifyIdentifier(value.name),\n            anonymous: value.anonymous,\n            inputs: (value.inputs ? value.inputs.map(ParamType.fromObject) : []),\n            type: \"event\"\n        };\n        return new EventFragment(_constructorGuard, params);\n    }\n    static fromString(value) {\n        let match = value.match(regexParen);\n        if (!match) {\n            logger.throwArgumentError(\"invalid event string\", \"value\", value);\n        }\n        let anonymous = false;\n        match[3].split(\" \").forEach((modifier) => {\n            switch (modifier.trim()) {\n                case \"anonymous\":\n                    anonymous = true;\n                    break;\n                case \"\":\n                    break;\n                default:\n                    logger.warn(\"unknown modifier: \" + modifier);\n            }\n        });\n        return EventFragment.fromObject({\n            name: match[1].trim(),\n            anonymous: anonymous,\n            inputs: parseParams(match[2], true),\n            type: \"event\"\n        });\n    }\n    static isEventFragment(value) {\n        return (value && value._isFragment && value.type === \"event\");\n    }\n}\nfunction parseGas(value, params) {\n    params.gas = null;\n    let comps = value.split(\"@\");\n    if (comps.length !== 1) {\n        if (comps.length > 2) {\n            logger.throwArgumentError(\"invalid human-readable ABI signature\", \"value\", value);\n        }\n        if (!comps[1].match(/^[0-9]+$/)) {\n            logger.throwArgumentError(\"invalid human-readable ABI signature gas\", \"value\", value);\n        }\n        params.gas = BigNumber.from(comps[1]);\n        return comps[0];\n    }\n    return value;\n}\nfunction parseModifiers(value, params) {\n    params.constant = false;\n    params.payable = false;\n    params.stateMutability = \"nonpayable\";\n    value.split(\" \").forEach((modifier) => {\n        switch (modifier.trim()) {\n            case \"constant\":\n                params.constant = true;\n                break;\n            case \"payable\":\n                params.payable = true;\n                params.stateMutability = \"payable\";\n                break;\n            case \"nonpayable\":\n                params.payable = false;\n                params.stateMutability = \"nonpayable\";\n                break;\n            case \"pure\":\n                params.constant = true;\n                params.stateMutability = \"pure\";\n                break;\n            case \"view\":\n                params.constant = true;\n                params.stateMutability = \"view\";\n                break;\n            case \"external\":\n            case \"public\":\n            case \"\":\n                break;\n            default:\n                console.log(\"unknown modifier: \" + modifier);\n        }\n    });\n}\nfunction verifyState(value) {\n    let result = {\n        constant: false,\n        payable: true,\n        stateMutability: \"payable\"\n    };\n    if (value.stateMutability != null) {\n        result.stateMutability = value.stateMutability;\n        // Set (and check things are consistent) the constant property\n        result.constant = (result.stateMutability === \"view\" || result.stateMutability === \"pure\");\n        if (value.constant != null) {\n            if ((!!value.constant) !== result.constant) {\n                logger.throwArgumentError(\"cannot have constant function with mutability \" + result.stateMutability, \"value\", value);\n            }\n        }\n        // Set (and check things are consistent) the payable property\n        result.payable = (result.stateMutability === \"payable\");\n        if (value.payable != null) {\n            if ((!!value.payable) !== result.payable) {\n                logger.throwArgumentError(\"cannot have payable function with mutability \" + result.stateMutability, \"value\", value);\n            }\n        }\n    }\n    else if (value.payable != null) {\n        result.payable = !!value.payable;\n        // If payable we can assume non-constant; otherwise we can't assume\n        if (value.constant == null && !result.payable && value.type !== \"constructor\") {\n            logger.throwArgumentError(\"unable to determine stateMutability\", \"value\", value);\n        }\n        result.constant = !!value.constant;\n        if (result.constant) {\n            result.stateMutability = \"view\";\n        }\n        else {\n            result.stateMutability = (result.payable ? \"payable\" : \"nonpayable\");\n        }\n        if (result.payable && result.constant) {\n            logger.throwArgumentError(\"cannot have constant payable function\", \"value\", value);\n        }\n    }\n    else if (value.constant != null) {\n        result.constant = !!value.constant;\n        result.payable = !result.constant;\n        result.stateMutability = (result.constant ? \"view\" : \"payable\");\n    }\n    else if (value.type !== \"constructor\") {\n        logger.throwArgumentError(\"unable to determine stateMutability\", \"value\", value);\n    }\n    return result;\n}\nexport class ConstructorFragment extends Fragment {\n    format(format) {\n        if (!format) {\n            format = FormatTypes.sighash;\n        }\n        if (!FormatTypes[format]) {\n            logger.throwArgumentError(\"invalid format type\", \"format\", format);\n        }\n        if (format === FormatTypes.json) {\n            return JSON.stringify({\n                type: \"constructor\",\n                stateMutability: ((this.stateMutability !== \"nonpayable\") ? this.stateMutability : undefined),\n                payable: this.payable,\n                gas: (this.gas ? this.gas.toNumber() : undefined),\n                inputs: this.inputs.map((input) => JSON.parse(input.format(format)))\n            });\n        }\n        if (format === FormatTypes.sighash) {\n            logger.throwError(\"cannot format a constructor for sighash\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"format(sighash)\"\n            });\n        }\n        let result = \"constructor(\" + this.inputs.map((input) => input.format(format)).join((format === FormatTypes.full) ? \", \" : \",\") + \") \";\n        if (this.stateMutability && this.stateMutability !== \"nonpayable\") {\n            result += this.stateMutability + \" \";\n        }\n        return result.trim();\n    }\n    static from(value) {\n        if (typeof (value) === \"string\") {\n            return ConstructorFragment.fromString(value);\n        }\n        return ConstructorFragment.fromObject(value);\n    }\n    static fromObject(value) {\n        if (ConstructorFragment.isConstructorFragment(value)) {\n            return value;\n        }\n        if (value.type !== \"constructor\") {\n            logger.throwArgumentError(\"invalid constructor object\", \"value\", value);\n        }\n        let state = verifyState(value);\n        if (state.constant) {\n            logger.throwArgumentError(\"constructor cannot be constant\", \"value\", value);\n        }\n        const params = {\n            name: null,\n            type: value.type,\n            inputs: (value.inputs ? value.inputs.map(ParamType.fromObject) : []),\n            payable: state.payable,\n            stateMutability: state.stateMutability,\n            gas: (value.gas ? BigNumber.from(value.gas) : null)\n        };\n        return new ConstructorFragment(_constructorGuard, params);\n    }\n    static fromString(value) {\n        let params = { type: \"constructor\" };\n        value = parseGas(value, params);\n        let parens = value.match(regexParen);\n        if (!parens || parens[1].trim() !== \"constructor\") {\n            logger.throwArgumentError(\"invalid constructor string\", \"value\", value);\n        }\n        params.inputs = parseParams(parens[2].trim(), false);\n        parseModifiers(parens[3].trim(), params);\n        return ConstructorFragment.fromObject(params);\n    }\n    static isConstructorFragment(value) {\n        return (value && value._isFragment && value.type === \"constructor\");\n    }\n}\nexport class FunctionFragment extends ConstructorFragment {\n    format(format) {\n        if (!format) {\n            format = FormatTypes.sighash;\n        }\n        if (!FormatTypes[format]) {\n            logger.throwArgumentError(\"invalid format type\", \"format\", format);\n        }\n        if (format === FormatTypes.json) {\n            return JSON.stringify({\n                type: \"function\",\n                name: this.name,\n                constant: this.constant,\n                stateMutability: ((this.stateMutability !== \"nonpayable\") ? this.stateMutability : undefined),\n                payable: this.payable,\n                gas: (this.gas ? this.gas.toNumber() : undefined),\n                inputs: this.inputs.map((input) => JSON.parse(input.format(format))),\n                outputs: this.outputs.map((output) => JSON.parse(output.format(format))),\n            });\n        }\n        let result = \"\";\n        if (format !== FormatTypes.sighash) {\n            result += \"function \";\n        }\n        result += this.name + \"(\" + this.inputs.map((input) => input.format(format)).join((format === FormatTypes.full) ? \", \" : \",\") + \") \";\n        if (format !== FormatTypes.sighash) {\n            if (this.stateMutability) {\n                if (this.stateMutability !== \"nonpayable\") {\n                    result += (this.stateMutability + \" \");\n                }\n            }\n            else if (this.constant) {\n                result += \"view \";\n            }\n            if (this.outputs && this.outputs.length) {\n                result += \"returns (\" + this.outputs.map((output) => output.format(format)).join(\", \") + \") \";\n            }\n            if (this.gas != null) {\n                result += \"@\" + this.gas.toString() + \" \";\n            }\n        }\n        return result.trim();\n    }\n    static from(value) {\n        if (typeof (value) === \"string\") {\n            return FunctionFragment.fromString(value);\n        }\n        return FunctionFragment.fromObject(value);\n    }\n    static fromObject(value) {\n        if (FunctionFragment.isFunctionFragment(value)) {\n            return value;\n        }\n        if (value.type !== \"function\") {\n            logger.throwArgumentError(\"invalid function object\", \"value\", value);\n        }\n        let state = verifyState(value);\n        const params = {\n            type: value.type,\n            name: verifyIdentifier(value.name),\n            constant: state.constant,\n            inputs: (value.inputs ? value.inputs.map(ParamType.fromObject) : []),\n            outputs: (value.outputs ? value.outputs.map(ParamType.fromObject) : []),\n            payable: state.payable,\n            stateMutability: state.stateMutability,\n            gas: (value.gas ? BigNumber.from(value.gas) : null)\n        };\n        return new FunctionFragment(_constructorGuard, params);\n    }\n    static fromString(value) {\n        let params = { type: \"function\" };\n        value = parseGas(value, params);\n        let comps = value.split(\" returns \");\n        if (comps.length > 2) {\n            logger.throwArgumentError(\"invalid function string\", \"value\", value);\n        }\n        let parens = comps[0].match(regexParen);\n        if (!parens) {\n            logger.throwArgumentError(\"invalid function signature\", \"value\", value);\n        }\n        params.name = parens[1].trim();\n        if (params.name) {\n            verifyIdentifier(params.name);\n        }\n        params.inputs = parseParams(parens[2], false);\n        parseModifiers(parens[3].trim(), params);\n        // We have outputs\n        if (comps.length > 1) {\n            let returns = comps[1].match(regexParen);\n            if (returns[1].trim() != \"\" || returns[3].trim() != \"\") {\n                logger.throwArgumentError(\"unexpected tokens\", \"value\", value);\n            }\n            params.outputs = parseParams(returns[2], false);\n        }\n        else {\n            params.outputs = [];\n        }\n        return FunctionFragment.fromObject(params);\n    }\n    static isFunctionFragment(value) {\n        return (value && value._isFragment && value.type === \"function\");\n    }\n}\n//export class StructFragment extends Fragment {\n//}\nfunction checkForbidden(fragment) {\n    const sig = fragment.format();\n    if (sig === \"Error(string)\" || sig === \"Panic(uint256)\") {\n        logger.throwArgumentError(`cannot specify user defined ${sig} error`, \"fragment\", fragment);\n    }\n    return fragment;\n}\nexport class ErrorFragment extends Fragment {\n    format(format) {\n        if (!format) {\n            format = FormatTypes.sighash;\n        }\n        if (!FormatTypes[format]) {\n            logger.throwArgumentError(\"invalid format type\", \"format\", format);\n        }\n        if (format === FormatTypes.json) {\n            return JSON.stringify({\n                type: \"error\",\n                name: this.name,\n                inputs: this.inputs.map((input) => JSON.parse(input.format(format))),\n            });\n        }\n        let result = \"\";\n        if (format !== FormatTypes.sighash) {\n            result += \"error \";\n        }\n        result += this.name + \"(\" + this.inputs.map((input) => input.format(format)).join((format === FormatTypes.full) ? \", \" : \",\") + \") \";\n        return result.trim();\n    }\n    static from(value) {\n        if (typeof (value) === \"string\") {\n            return ErrorFragment.fromString(value);\n        }\n        return ErrorFragment.fromObject(value);\n    }\n    static fromObject(value) {\n        if (ErrorFragment.isErrorFragment(value)) {\n            return value;\n        }\n        if (value.type !== \"error\") {\n            logger.throwArgumentError(\"invalid error object\", \"value\", value);\n        }\n        const params = {\n            type: value.type,\n            name: verifyIdentifier(value.name),\n            inputs: (value.inputs ? value.inputs.map(ParamType.fromObject) : [])\n        };\n        return checkForbidden(new ErrorFragment(_constructorGuard, params));\n    }\n    static fromString(value) {\n        let params = { type: \"error\" };\n        let parens = value.match(regexParen);\n        if (!parens) {\n            logger.throwArgumentError(\"invalid error signature\", \"value\", value);\n        }\n        params.name = parens[1].trim();\n        if (params.name) {\n            verifyIdentifier(params.name);\n        }\n        params.inputs = parseParams(parens[2], false);\n        return checkForbidden(ErrorFragment.fromObject(params));\n    }\n    static isErrorFragment(value) {\n        return (value && value._isFragment && value.type === \"error\");\n    }\n}\nfunction verifyType(type) {\n    // These need to be transformed to their full description\n    if (type.match(/^uint($|[^1-9])/)) {\n        type = \"uint256\" + type.substring(4);\n    }\n    else if (type.match(/^int($|[^1-9])/)) {\n        type = \"int256\" + type.substring(3);\n    }\n    // @TODO: more verification\n    return type;\n}\n// See: https://github.com/ethereum/solidity/blob/1f8f1a3db93a548d0555e3e14cfc55a10e25b60e/docs/grammar/SolidityLexer.g4#L234\nconst regexIdentifier = new RegExp(\"^[a-zA-Z$_][a-zA-Z0-9$_]*$\");\nfunction verifyIdentifier(value) {\n    if (!value || !value.match(regexIdentifier)) {\n        logger.throwArgumentError(`invalid identifier \"${value}\"`, \"value\", value);\n    }\n    return value;\n}\nconst regexParen = new RegExp(\"^([^)(]*)\\\\((.*)\\\\)([^)(]*)$\");\nfunction splitNesting(value) {\n    value = value.trim();\n    let result = [];\n    let accum = \"\";\n    let depth = 0;\n    for (let offset = 0; offset < value.length; offset++) {\n        let c = value[offset];\n        if (c === \",\" && depth === 0) {\n            result.push(accum);\n            accum = \"\";\n        }\n        else {\n            accum += c;\n            if (c === \"(\") {\n                depth++;\n            }\n            else if (c === \")\") {\n                depth--;\n                if (depth === -1) {\n                    logger.throwArgumentError(\"unbalanced parenthesis\", \"value\", value);\n                }\n            }\n        }\n    }\n    if (accum) {\n        result.push(accum);\n    }\n    return result;\n}\n//# sourceMappingURL=fragments.js.map","import BN from 'bn.js';\nimport hash from 'hash.js';\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, basedir, module) {\n\treturn module = {\n\t\tpath: basedir,\n\t\texports: {},\n\t\trequire: function (path, base) {\n\t\t\treturn commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n\t\t}\n\t}, fn(module, module.exports), module.exports;\n}\n\nfunction getDefaultExportFromNamespaceIfPresent (n) {\n\treturn n && Object.prototype.hasOwnProperty.call(n, 'default') ? n['default'] : n;\n}\n\nfunction getDefaultExportFromNamespaceIfNotNamed (n) {\n\treturn n && Object.prototype.hasOwnProperty.call(n, 'default') && Object.keys(n).length === 1 ? n['default'] : n;\n}\n\nfunction getAugmentedNamespace(n) {\n\tif (n.__esModule) return n;\n\tvar a = Object.defineProperty({}, '__esModule', {value: true});\n\tObject.keys(n).forEach(function (k) {\n\t\tvar d = Object.getOwnPropertyDescriptor(n, k);\n\t\tObject.defineProperty(a, k, d.get ? d : {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn n[k];\n\t\t\t}\n\t\t});\n\t});\n\treturn a;\n}\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\n\nvar minimalisticAssert = assert;\n\nfunction assert(val, msg) {\n  if (!val)\n    throw new Error(msg || 'Assertion failed');\n}\n\nassert.equal = function assertEqual(l, r, msg) {\n  if (l != r)\n    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));\n};\n\nvar utils_1 = createCommonjsModule(function (module, exports) {\n'use strict';\n\nvar utils = exports;\n\nfunction toArray(msg, enc) {\n  if (Array.isArray(msg))\n    return msg.slice();\n  if (!msg)\n    return [];\n  var res = [];\n  if (typeof msg !== 'string') {\n    for (var i = 0; i < msg.length; i++)\n      res[i] = msg[i] | 0;\n    return res;\n  }\n  if (enc === 'hex') {\n    msg = msg.replace(/[^a-z0-9]+/ig, '');\n    if (msg.length % 2 !== 0)\n      msg = '0' + msg;\n    for (var i = 0; i < msg.length; i += 2)\n      res.push(parseInt(msg[i] + msg[i + 1], 16));\n  } else {\n    for (var i = 0; i < msg.length; i++) {\n      var c = msg.charCodeAt(i);\n      var hi = c >> 8;\n      var lo = c & 0xff;\n      if (hi)\n        res.push(hi, lo);\n      else\n        res.push(lo);\n    }\n  }\n  return res;\n}\nutils.toArray = toArray;\n\nfunction zero2(word) {\n  if (word.length === 1)\n    return '0' + word;\n  else\n    return word;\n}\nutils.zero2 = zero2;\n\nfunction toHex(msg) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++)\n    res += zero2(msg[i].toString(16));\n  return res;\n}\nutils.toHex = toHex;\n\nutils.encode = function encode(arr, enc) {\n  if (enc === 'hex')\n    return toHex(arr);\n  else\n    return arr;\n};\n});\n\nvar utils_1$1 = createCommonjsModule(function (module, exports) {\n'use strict';\n\nvar utils = exports;\n\n\n\n\nutils.assert = minimalisticAssert;\nutils.toArray = utils_1.toArray;\nutils.zero2 = utils_1.zero2;\nutils.toHex = utils_1.toHex;\nutils.encode = utils_1.encode;\n\n// Represent num in a w-NAF form\nfunction getNAF(num, w, bits) {\n  var naf = new Array(Math.max(num.bitLength(), bits) + 1);\n  naf.fill(0);\n\n  var ws = 1 << (w + 1);\n  var k = num.clone();\n\n  for (var i = 0; i < naf.length; i++) {\n    var z;\n    var mod = k.andln(ws - 1);\n    if (k.isOdd()) {\n      if (mod > (ws >> 1) - 1)\n        z = (ws >> 1) - mod;\n      else\n        z = mod;\n      k.isubn(z);\n    } else {\n      z = 0;\n    }\n\n    naf[i] = z;\n    k.iushrn(1);\n  }\n\n  return naf;\n}\nutils.getNAF = getNAF;\n\n// Represent k1, k2 in a Joint Sparse Form\nfunction getJSF(k1, k2) {\n  var jsf = [\n    [],\n    [],\n  ];\n\n  k1 = k1.clone();\n  k2 = k2.clone();\n  var d1 = 0;\n  var d2 = 0;\n  var m8;\n  while (k1.cmpn(-d1) > 0 || k2.cmpn(-d2) > 0) {\n    // First phase\n    var m14 = (k1.andln(3) + d1) & 3;\n    var m24 = (k2.andln(3) + d2) & 3;\n    if (m14 === 3)\n      m14 = -1;\n    if (m24 === 3)\n      m24 = -1;\n    var u1;\n    if ((m14 & 1) === 0) {\n      u1 = 0;\n    } else {\n      m8 = (k1.andln(7) + d1) & 7;\n      if ((m8 === 3 || m8 === 5) && m24 === 2)\n        u1 = -m14;\n      else\n        u1 = m14;\n    }\n    jsf[0].push(u1);\n\n    var u2;\n    if ((m24 & 1) === 0) {\n      u2 = 0;\n    } else {\n      m8 = (k2.andln(7) + d2) & 7;\n      if ((m8 === 3 || m8 === 5) && m14 === 2)\n        u2 = -m24;\n      else\n        u2 = m24;\n    }\n    jsf[1].push(u2);\n\n    // Second phase\n    if (2 * d1 === u1 + 1)\n      d1 = 1 - d1;\n    if (2 * d2 === u2 + 1)\n      d2 = 1 - d2;\n    k1.iushrn(1);\n    k2.iushrn(1);\n  }\n\n  return jsf;\n}\nutils.getJSF = getJSF;\n\nfunction cachedProperty(obj, name, computer) {\n  var key = '_' + name;\n  obj.prototype[name] = function cachedProperty() {\n    return this[key] !== undefined ? this[key] :\n      this[key] = computer.call(this);\n  };\n}\nutils.cachedProperty = cachedProperty;\n\nfunction parseBytes(bytes) {\n  return typeof bytes === 'string' ? utils.toArray(bytes, 'hex') :\n    bytes;\n}\nutils.parseBytes = parseBytes;\n\nfunction intFromLE(bytes) {\n  return new BN(bytes, 'hex', 'le');\n}\nutils.intFromLE = intFromLE;\n});\n\n'use strict';\n\n\n\nvar getNAF = utils_1$1.getNAF;\nvar getJSF = utils_1$1.getJSF;\nvar assert$1 = utils_1$1.assert;\n\nfunction BaseCurve(type, conf) {\n  this.type = type;\n  this.p = new BN(conf.p, 16);\n\n  // Use Montgomery, when there is no fast reduction for the prime\n  this.red = conf.prime ? BN.red(conf.prime) : BN.mont(this.p);\n\n  // Useful for many curves\n  this.zero = new BN(0).toRed(this.red);\n  this.one = new BN(1).toRed(this.red);\n  this.two = new BN(2).toRed(this.red);\n\n  // Curve configuration, optional\n  this.n = conf.n && new BN(conf.n, 16);\n  this.g = conf.g && this.pointFromJSON(conf.g, conf.gRed);\n\n  // Temporary arrays\n  this._wnafT1 = new Array(4);\n  this._wnafT2 = new Array(4);\n  this._wnafT3 = new Array(4);\n  this._wnafT4 = new Array(4);\n\n  this._bitLength = this.n ? this.n.bitLength() : 0;\n\n  // Generalized Greg Maxwell's trick\n  var adjustCount = this.n && this.p.div(this.n);\n  if (!adjustCount || adjustCount.cmpn(100) > 0) {\n    this.redN = null;\n  } else {\n    this._maxwellTrick = true;\n    this.redN = this.n.toRed(this.red);\n  }\n}\nvar base = BaseCurve;\n\nBaseCurve.prototype.point = function point() {\n  throw new Error('Not implemented');\n};\n\nBaseCurve.prototype.validate = function validate() {\n  throw new Error('Not implemented');\n};\n\nBaseCurve.prototype._fixedNafMul = function _fixedNafMul(p, k) {\n  assert$1(p.precomputed);\n  var doubles = p._getDoubles();\n\n  var naf = getNAF(k, 1, this._bitLength);\n  var I = (1 << (doubles.step + 1)) - (doubles.step % 2 === 0 ? 2 : 1);\n  I /= 3;\n\n  // Translate into more windowed form\n  var repr = [];\n  var j;\n  var nafW;\n  for (j = 0; j < naf.length; j += doubles.step) {\n    nafW = 0;\n    for (var l = j + doubles.step - 1; l >= j; l--)\n      nafW = (nafW << 1) + naf[l];\n    repr.push(nafW);\n  }\n\n  var a = this.jpoint(null, null, null);\n  var b = this.jpoint(null, null, null);\n  for (var i = I; i > 0; i--) {\n    for (j = 0; j < repr.length; j++) {\n      nafW = repr[j];\n      if (nafW === i)\n        b = b.mixedAdd(doubles.points[j]);\n      else if (nafW === -i)\n        b = b.mixedAdd(doubles.points[j].neg());\n    }\n    a = a.add(b);\n  }\n  return a.toP();\n};\n\nBaseCurve.prototype._wnafMul = function _wnafMul(p, k) {\n  var w = 4;\n\n  // Precompute window\n  var nafPoints = p._getNAFPoints(w);\n  w = nafPoints.wnd;\n  var wnd = nafPoints.points;\n\n  // Get NAF form\n  var naf = getNAF(k, w, this._bitLength);\n\n  // Add `this`*(N+1) for every w-NAF index\n  var acc = this.jpoint(null, null, null);\n  for (var i = naf.length - 1; i >= 0; i--) {\n    // Count zeroes\n    for (var l = 0; i >= 0 && naf[i] === 0; i--)\n      l++;\n    if (i >= 0)\n      l++;\n    acc = acc.dblp(l);\n\n    if (i < 0)\n      break;\n    var z = naf[i];\n    assert$1(z !== 0);\n    if (p.type === 'affine') {\n      // J +- P\n      if (z > 0)\n        acc = acc.mixedAdd(wnd[(z - 1) >> 1]);\n      else\n        acc = acc.mixedAdd(wnd[(-z - 1) >> 1].neg());\n    } else {\n      // J +- J\n      if (z > 0)\n        acc = acc.add(wnd[(z - 1) >> 1]);\n      else\n        acc = acc.add(wnd[(-z - 1) >> 1].neg());\n    }\n  }\n  return p.type === 'affine' ? acc.toP() : acc;\n};\n\nBaseCurve.prototype._wnafMulAdd = function _wnafMulAdd(defW,\n  points,\n  coeffs,\n  len,\n  jacobianResult) {\n  var wndWidth = this._wnafT1;\n  var wnd = this._wnafT2;\n  var naf = this._wnafT3;\n\n  // Fill all arrays\n  var max = 0;\n  var i;\n  var j;\n  var p;\n  for (i = 0; i < len; i++) {\n    p = points[i];\n    var nafPoints = p._getNAFPoints(defW);\n    wndWidth[i] = nafPoints.wnd;\n    wnd[i] = nafPoints.points;\n  }\n\n  // Comb small window NAFs\n  for (i = len - 1; i >= 1; i -= 2) {\n    var a = i - 1;\n    var b = i;\n    if (wndWidth[a] !== 1 || wndWidth[b] !== 1) {\n      naf[a] = getNAF(coeffs[a], wndWidth[a], this._bitLength);\n      naf[b] = getNAF(coeffs[b], wndWidth[b], this._bitLength);\n      max = Math.max(naf[a].length, max);\n      max = Math.max(naf[b].length, max);\n      continue;\n    }\n\n    var comb = [\n      points[a], /* 1 */\n      null, /* 3 */\n      null, /* 5 */\n      points[b], /* 7 */\n    ];\n\n    // Try to avoid Projective points, if possible\n    if (points[a].y.cmp(points[b].y) === 0) {\n      comb[1] = points[a].add(points[b]);\n      comb[2] = points[a].toJ().mixedAdd(points[b].neg());\n    } else if (points[a].y.cmp(points[b].y.redNeg()) === 0) {\n      comb[1] = points[a].toJ().mixedAdd(points[b]);\n      comb[2] = points[a].add(points[b].neg());\n    } else {\n      comb[1] = points[a].toJ().mixedAdd(points[b]);\n      comb[2] = points[a].toJ().mixedAdd(points[b].neg());\n    }\n\n    var index = [\n      -3, /* -1 -1 */\n      -1, /* -1 0 */\n      -5, /* -1 1 */\n      -7, /* 0 -1 */\n      0, /* 0 0 */\n      7, /* 0 1 */\n      5, /* 1 -1 */\n      1, /* 1 0 */\n      3,  /* 1 1 */\n    ];\n\n    var jsf = getJSF(coeffs[a], coeffs[b]);\n    max = Math.max(jsf[0].length, max);\n    naf[a] = new Array(max);\n    naf[b] = new Array(max);\n    for (j = 0; j < max; j++) {\n      var ja = jsf[0][j] | 0;\n      var jb = jsf[1][j] | 0;\n\n      naf[a][j] = index[(ja + 1) * 3 + (jb + 1)];\n      naf[b][j] = 0;\n      wnd[a] = comb;\n    }\n  }\n\n  var acc = this.jpoint(null, null, null);\n  var tmp = this._wnafT4;\n  for (i = max; i >= 0; i--) {\n    var k = 0;\n\n    while (i >= 0) {\n      var zero = true;\n      for (j = 0; j < len; j++) {\n        tmp[j] = naf[j][i] | 0;\n        if (tmp[j] !== 0)\n          zero = false;\n      }\n      if (!zero)\n        break;\n      k++;\n      i--;\n    }\n    if (i >= 0)\n      k++;\n    acc = acc.dblp(k);\n    if (i < 0)\n      break;\n\n    for (j = 0; j < len; j++) {\n      var z = tmp[j];\n      p;\n      if (z === 0)\n        continue;\n      else if (z > 0)\n        p = wnd[j][(z - 1) >> 1];\n      else if (z < 0)\n        p = wnd[j][(-z - 1) >> 1].neg();\n\n      if (p.type === 'affine')\n        acc = acc.mixedAdd(p);\n      else\n        acc = acc.add(p);\n    }\n  }\n  // Zeroify references\n  for (i = 0; i < len; i++)\n    wnd[i] = null;\n\n  if (jacobianResult)\n    return acc;\n  else\n    return acc.toP();\n};\n\nfunction BasePoint(curve, type) {\n  this.curve = curve;\n  this.type = type;\n  this.precomputed = null;\n}\nBaseCurve.BasePoint = BasePoint;\n\nBasePoint.prototype.eq = function eq(/*other*/) {\n  throw new Error('Not implemented');\n};\n\nBasePoint.prototype.validate = function validate() {\n  return this.curve.validate(this);\n};\n\nBaseCurve.prototype.decodePoint = function decodePoint(bytes, enc) {\n  bytes = utils_1$1.toArray(bytes, enc);\n\n  var len = this.p.byteLength();\n\n  // uncompressed, hybrid-odd, hybrid-even\n  if ((bytes[0] === 0x04 || bytes[0] === 0x06 || bytes[0] === 0x07) &&\n      bytes.length - 1 === 2 * len) {\n    if (bytes[0] === 0x06)\n      assert$1(bytes[bytes.length - 1] % 2 === 0);\n    else if (bytes[0] === 0x07)\n      assert$1(bytes[bytes.length - 1] % 2 === 1);\n\n    var res =  this.point(bytes.slice(1, 1 + len),\n      bytes.slice(1 + len, 1 + 2 * len));\n\n    return res;\n  } else if ((bytes[0] === 0x02 || bytes[0] === 0x03) &&\n              bytes.length - 1 === len) {\n    return this.pointFromX(bytes.slice(1, 1 + len), bytes[0] === 0x03);\n  }\n  throw new Error('Unknown point format');\n};\n\nBasePoint.prototype.encodeCompressed = function encodeCompressed(enc) {\n  return this.encode(enc, true);\n};\n\nBasePoint.prototype._encode = function _encode(compact) {\n  var len = this.curve.p.byteLength();\n  var x = this.getX().toArray('be', len);\n\n  if (compact)\n    return [ this.getY().isEven() ? 0x02 : 0x03 ].concat(x);\n\n  return [ 0x04 ].concat(x, this.getY().toArray('be', len));\n};\n\nBasePoint.prototype.encode = function encode(enc, compact) {\n  return utils_1$1.encode(this._encode(compact), enc);\n};\n\nBasePoint.prototype.precompute = function precompute(power) {\n  if (this.precomputed)\n    return this;\n\n  var precomputed = {\n    doubles: null,\n    naf: null,\n    beta: null,\n  };\n  precomputed.naf = this._getNAFPoints(8);\n  precomputed.doubles = this._getDoubles(4, power);\n  precomputed.beta = this._getBeta();\n  this.precomputed = precomputed;\n\n  return this;\n};\n\nBasePoint.prototype._hasDoubles = function _hasDoubles(k) {\n  if (!this.precomputed)\n    return false;\n\n  var doubles = this.precomputed.doubles;\n  if (!doubles)\n    return false;\n\n  return doubles.points.length >= Math.ceil((k.bitLength() + 1) / doubles.step);\n};\n\nBasePoint.prototype._getDoubles = function _getDoubles(step, power) {\n  if (this.precomputed && this.precomputed.doubles)\n    return this.precomputed.doubles;\n\n  var doubles = [ this ];\n  var acc = this;\n  for (var i = 0; i < power; i += step) {\n    for (var j = 0; j < step; j++)\n      acc = acc.dbl();\n    doubles.push(acc);\n  }\n  return {\n    step: step,\n    points: doubles,\n  };\n};\n\nBasePoint.prototype._getNAFPoints = function _getNAFPoints(wnd) {\n  if (this.precomputed && this.precomputed.naf)\n    return this.precomputed.naf;\n\n  var res = [ this ];\n  var max = (1 << wnd) - 1;\n  var dbl = max === 1 ? null : this.dbl();\n  for (var i = 1; i < max; i++)\n    res[i] = res[i - 1].add(dbl);\n  return {\n    wnd: wnd,\n    points: res,\n  };\n};\n\nBasePoint.prototype._getBeta = function _getBeta() {\n  return null;\n};\n\nBasePoint.prototype.dblp = function dblp(k) {\n  var r = this;\n  for (var i = 0; i < k; i++)\n    r = r.dbl();\n  return r;\n};\n\nvar inherits_browser = createCommonjsModule(function (module) {\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n      var TempCtor = function () {};\n      TempCtor.prototype = superCtor.prototype;\n      ctor.prototype = new TempCtor();\n      ctor.prototype.constructor = ctor;\n    }\n  };\n}\n});\n\n'use strict';\n\n\n\n\n\n\nvar assert$2 = utils_1$1.assert;\n\nfunction ShortCurve(conf) {\n  base.call(this, 'short', conf);\n\n  this.a = new BN(conf.a, 16).toRed(this.red);\n  this.b = new BN(conf.b, 16).toRed(this.red);\n  this.tinv = this.two.redInvm();\n\n  this.zeroA = this.a.fromRed().cmpn(0) === 0;\n  this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0;\n\n  // If the curve is endomorphic, precalculate beta and lambda\n  this.endo = this._getEndomorphism(conf);\n  this._endoWnafT1 = new Array(4);\n  this._endoWnafT2 = new Array(4);\n}\ninherits_browser(ShortCurve, base);\nvar short_1 = ShortCurve;\n\nShortCurve.prototype._getEndomorphism = function _getEndomorphism(conf) {\n  // No efficient endomorphism\n  if (!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)\n    return;\n\n  // Compute beta and lambda, that lambda * P = (beta * Px; Py)\n  var beta;\n  var lambda;\n  if (conf.beta) {\n    beta = new BN(conf.beta, 16).toRed(this.red);\n  } else {\n    var betas = this._getEndoRoots(this.p);\n    // Choose the smallest beta\n    beta = betas[0].cmp(betas[1]) < 0 ? betas[0] : betas[1];\n    beta = beta.toRed(this.red);\n  }\n  if (conf.lambda) {\n    lambda = new BN(conf.lambda, 16);\n  } else {\n    // Choose the lambda that is matching selected beta\n    var lambdas = this._getEndoRoots(this.n);\n    if (this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta)) === 0) {\n      lambda = lambdas[0];\n    } else {\n      lambda = lambdas[1];\n      assert$2(this.g.mul(lambda).x.cmp(this.g.x.redMul(beta)) === 0);\n    }\n  }\n\n  // Get basis vectors, used for balanced length-two representation\n  var basis;\n  if (conf.basis) {\n    basis = conf.basis.map(function(vec) {\n      return {\n        a: new BN(vec.a, 16),\n        b: new BN(vec.b, 16),\n      };\n    });\n  } else {\n    basis = this._getEndoBasis(lambda);\n  }\n\n  return {\n    beta: beta,\n    lambda: lambda,\n    basis: basis,\n  };\n};\n\nShortCurve.prototype._getEndoRoots = function _getEndoRoots(num) {\n  // Find roots of for x^2 + x + 1 in F\n  // Root = (-1 +- Sqrt(-3)) / 2\n  //\n  var red = num === this.p ? this.red : BN.mont(num);\n  var tinv = new BN(2).toRed(red).redInvm();\n  var ntinv = tinv.redNeg();\n\n  var s = new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv);\n\n  var l1 = ntinv.redAdd(s).fromRed();\n  var l2 = ntinv.redSub(s).fromRed();\n  return [ l1, l2 ];\n};\n\nShortCurve.prototype._getEndoBasis = function _getEndoBasis(lambda) {\n  // aprxSqrt >= sqrt(this.n)\n  var aprxSqrt = this.n.ushrn(Math.floor(this.n.bitLength() / 2));\n\n  // 3.74\n  // Run EGCD, until r(L + 1) < aprxSqrt\n  var u = lambda;\n  var v = this.n.clone();\n  var x1 = new BN(1);\n  var y1 = new BN(0);\n  var x2 = new BN(0);\n  var y2 = new BN(1);\n\n  // NOTE: all vectors are roots of: a + b * lambda = 0 (mod n)\n  var a0;\n  var b0;\n  // First vector\n  var a1;\n  var b1;\n  // Second vector\n  var a2;\n  var b2;\n\n  var prevR;\n  var i = 0;\n  var r;\n  var x;\n  while (u.cmpn(0) !== 0) {\n    var q = v.div(u);\n    r = v.sub(q.mul(u));\n    x = x2.sub(q.mul(x1));\n    var y = y2.sub(q.mul(y1));\n\n    if (!a1 && r.cmp(aprxSqrt) < 0) {\n      a0 = prevR.neg();\n      b0 = x1;\n      a1 = r.neg();\n      b1 = x;\n    } else if (a1 && ++i === 2) {\n      break;\n    }\n    prevR = r;\n\n    v = u;\n    u = r;\n    x2 = x1;\n    x1 = x;\n    y2 = y1;\n    y1 = y;\n  }\n  a2 = r.neg();\n  b2 = x;\n\n  var len1 = a1.sqr().add(b1.sqr());\n  var len2 = a2.sqr().add(b2.sqr());\n  if (len2.cmp(len1) >= 0) {\n    a2 = a0;\n    b2 = b0;\n  }\n\n  // Normalize signs\n  if (a1.negative) {\n    a1 = a1.neg();\n    b1 = b1.neg();\n  }\n  if (a2.negative) {\n    a2 = a2.neg();\n    b2 = b2.neg();\n  }\n\n  return [\n    { a: a1, b: b1 },\n    { a: a2, b: b2 },\n  ];\n};\n\nShortCurve.prototype._endoSplit = function _endoSplit(k) {\n  var basis = this.endo.basis;\n  var v1 = basis[0];\n  var v2 = basis[1];\n\n  var c1 = v2.b.mul(k).divRound(this.n);\n  var c2 = v1.b.neg().mul(k).divRound(this.n);\n\n  var p1 = c1.mul(v1.a);\n  var p2 = c2.mul(v2.a);\n  var q1 = c1.mul(v1.b);\n  var q2 = c2.mul(v2.b);\n\n  // Calculate answer\n  var k1 = k.sub(p1).sub(p2);\n  var k2 = q1.add(q2).neg();\n  return { k1: k1, k2: k2 };\n};\n\nShortCurve.prototype.pointFromX = function pointFromX(x, odd) {\n  x = new BN(x, 16);\n  if (!x.red)\n    x = x.toRed(this.red);\n\n  var y2 = x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b);\n  var y = y2.redSqrt();\n  if (y.redSqr().redSub(y2).cmp(this.zero) !== 0)\n    throw new Error('invalid point');\n\n  // XXX Is there any way to tell if the number is odd without converting it\n  // to non-red form?\n  var isOdd = y.fromRed().isOdd();\n  if (odd && !isOdd || !odd && isOdd)\n    y = y.redNeg();\n\n  return this.point(x, y);\n};\n\nShortCurve.prototype.validate = function validate(point) {\n  if (point.inf)\n    return true;\n\n  var x = point.x;\n  var y = point.y;\n\n  var ax = this.a.redMul(x);\n  var rhs = x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);\n  return y.redSqr().redISub(rhs).cmpn(0) === 0;\n};\n\nShortCurve.prototype._endoWnafMulAdd =\n    function _endoWnafMulAdd(points, coeffs, jacobianResult) {\n      var npoints = this._endoWnafT1;\n      var ncoeffs = this._endoWnafT2;\n      for (var i = 0; i < points.length; i++) {\n        var split = this._endoSplit(coeffs[i]);\n        var p = points[i];\n        var beta = p._getBeta();\n\n        if (split.k1.negative) {\n          split.k1.ineg();\n          p = p.neg(true);\n        }\n        if (split.k2.negative) {\n          split.k2.ineg();\n          beta = beta.neg(true);\n        }\n\n        npoints[i * 2] = p;\n        npoints[i * 2 + 1] = beta;\n        ncoeffs[i * 2] = split.k1;\n        ncoeffs[i * 2 + 1] = split.k2;\n      }\n      var res = this._wnafMulAdd(1, npoints, ncoeffs, i * 2, jacobianResult);\n\n      // Clean-up references to points and coefficients\n      for (var j = 0; j < i * 2; j++) {\n        npoints[j] = null;\n        ncoeffs[j] = null;\n      }\n      return res;\n    };\n\nfunction Point(curve, x, y, isRed) {\n  base.BasePoint.call(this, curve, 'affine');\n  if (x === null && y === null) {\n    this.x = null;\n    this.y = null;\n    this.inf = true;\n  } else {\n    this.x = new BN(x, 16);\n    this.y = new BN(y, 16);\n    // Force redgomery representation when loading from JSON\n    if (isRed) {\n      this.x.forceRed(this.curve.red);\n      this.y.forceRed(this.curve.red);\n    }\n    if (!this.x.red)\n      this.x = this.x.toRed(this.curve.red);\n    if (!this.y.red)\n      this.y = this.y.toRed(this.curve.red);\n    this.inf = false;\n  }\n}\ninherits_browser(Point, base.BasePoint);\n\nShortCurve.prototype.point = function point(x, y, isRed) {\n  return new Point(this, x, y, isRed);\n};\n\nShortCurve.prototype.pointFromJSON = function pointFromJSON(obj, red) {\n  return Point.fromJSON(this, obj, red);\n};\n\nPoint.prototype._getBeta = function _getBeta() {\n  if (!this.curve.endo)\n    return;\n\n  var pre = this.precomputed;\n  if (pre && pre.beta)\n    return pre.beta;\n\n  var beta = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);\n  if (pre) {\n    var curve = this.curve;\n    var endoMul = function(p) {\n      return curve.point(p.x.redMul(curve.endo.beta), p.y);\n    };\n    pre.beta = beta;\n    beta.precomputed = {\n      beta: null,\n      naf: pre.naf && {\n        wnd: pre.naf.wnd,\n        points: pre.naf.points.map(endoMul),\n      },\n      doubles: pre.doubles && {\n        step: pre.doubles.step,\n        points: pre.doubles.points.map(endoMul),\n      },\n    };\n  }\n  return beta;\n};\n\nPoint.prototype.toJSON = function toJSON() {\n  if (!this.precomputed)\n    return [ this.x, this.y ];\n\n  return [ this.x, this.y, this.precomputed && {\n    doubles: this.precomputed.doubles && {\n      step: this.precomputed.doubles.step,\n      points: this.precomputed.doubles.points.slice(1),\n    },\n    naf: this.precomputed.naf && {\n      wnd: this.precomputed.naf.wnd,\n      points: this.precomputed.naf.points.slice(1),\n    },\n  } ];\n};\n\nPoint.fromJSON = function fromJSON(curve, obj, red) {\n  if (typeof obj === 'string')\n    obj = JSON.parse(obj);\n  var res = curve.point(obj[0], obj[1], red);\n  if (!obj[2])\n    return res;\n\n  function obj2point(obj) {\n    return curve.point(obj[0], obj[1], red);\n  }\n\n  var pre = obj[2];\n  res.precomputed = {\n    beta: null,\n    doubles: pre.doubles && {\n      step: pre.doubles.step,\n      points: [ res ].concat(pre.doubles.points.map(obj2point)),\n    },\n    naf: pre.naf && {\n      wnd: pre.naf.wnd,\n      points: [ res ].concat(pre.naf.points.map(obj2point)),\n    },\n  };\n  return res;\n};\n\nPoint.prototype.inspect = function inspect() {\n  if (this.isInfinity())\n    return '<EC Point Infinity>';\n  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +\n      ' y: ' + this.y.fromRed().toString(16, 2) + '>';\n};\n\nPoint.prototype.isInfinity = function isInfinity() {\n  return this.inf;\n};\n\nPoint.prototype.add = function add(p) {\n  // O + P = P\n  if (this.inf)\n    return p;\n\n  // P + O = P\n  if (p.inf)\n    return this;\n\n  // P + P = 2P\n  if (this.eq(p))\n    return this.dbl();\n\n  // P + (-P) = O\n  if (this.neg().eq(p))\n    return this.curve.point(null, null);\n\n  // P + Q = O\n  if (this.x.cmp(p.x) === 0)\n    return this.curve.point(null, null);\n\n  var c = this.y.redSub(p.y);\n  if (c.cmpn(0) !== 0)\n    c = c.redMul(this.x.redSub(p.x).redInvm());\n  var nx = c.redSqr().redISub(this.x).redISub(p.x);\n  var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);\n  return this.curve.point(nx, ny);\n};\n\nPoint.prototype.dbl = function dbl() {\n  if (this.inf)\n    return this;\n\n  // 2P = O\n  var ys1 = this.y.redAdd(this.y);\n  if (ys1.cmpn(0) === 0)\n    return this.curve.point(null, null);\n\n  var a = this.curve.a;\n\n  var x2 = this.x.redSqr();\n  var dyinv = ys1.redInvm();\n  var c = x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv);\n\n  var nx = c.redSqr().redISub(this.x.redAdd(this.x));\n  var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);\n  return this.curve.point(nx, ny);\n};\n\nPoint.prototype.getX = function getX() {\n  return this.x.fromRed();\n};\n\nPoint.prototype.getY = function getY() {\n  return this.y.fromRed();\n};\n\nPoint.prototype.mul = function mul(k) {\n  k = new BN(k, 16);\n  if (this.isInfinity())\n    return this;\n  else if (this._hasDoubles(k))\n    return this.curve._fixedNafMul(this, k);\n  else if (this.curve.endo)\n    return this.curve._endoWnafMulAdd([ this ], [ k ]);\n  else\n    return this.curve._wnafMul(this, k);\n};\n\nPoint.prototype.mulAdd = function mulAdd(k1, p2, k2) {\n  var points = [ this, p2 ];\n  var coeffs = [ k1, k2 ];\n  if (this.curve.endo)\n    return this.curve._endoWnafMulAdd(points, coeffs);\n  else\n    return this.curve._wnafMulAdd(1, points, coeffs, 2);\n};\n\nPoint.prototype.jmulAdd = function jmulAdd(k1, p2, k2) {\n  var points = [ this, p2 ];\n  var coeffs = [ k1, k2 ];\n  if (this.curve.endo)\n    return this.curve._endoWnafMulAdd(points, coeffs, true);\n  else\n    return this.curve._wnafMulAdd(1, points, coeffs, 2, true);\n};\n\nPoint.prototype.eq = function eq(p) {\n  return this === p ||\n         this.inf === p.inf &&\n             (this.inf || this.x.cmp(p.x) === 0 && this.y.cmp(p.y) === 0);\n};\n\nPoint.prototype.neg = function neg(_precompute) {\n  if (this.inf)\n    return this;\n\n  var res = this.curve.point(this.x, this.y.redNeg());\n  if (_precompute && this.precomputed) {\n    var pre = this.precomputed;\n    var negate = function(p) {\n      return p.neg();\n    };\n    res.precomputed = {\n      naf: pre.naf && {\n        wnd: pre.naf.wnd,\n        points: pre.naf.points.map(negate),\n      },\n      doubles: pre.doubles && {\n        step: pre.doubles.step,\n        points: pre.doubles.points.map(negate),\n      },\n    };\n  }\n  return res;\n};\n\nPoint.prototype.toJ = function toJ() {\n  if (this.inf)\n    return this.curve.jpoint(null, null, null);\n\n  var res = this.curve.jpoint(this.x, this.y, this.curve.one);\n  return res;\n};\n\nfunction JPoint(curve, x, y, z) {\n  base.BasePoint.call(this, curve, 'jacobian');\n  if (x === null && y === null && z === null) {\n    this.x = this.curve.one;\n    this.y = this.curve.one;\n    this.z = new BN(0);\n  } else {\n    this.x = new BN(x, 16);\n    this.y = new BN(y, 16);\n    this.z = new BN(z, 16);\n  }\n  if (!this.x.red)\n    this.x = this.x.toRed(this.curve.red);\n  if (!this.y.red)\n    this.y = this.y.toRed(this.curve.red);\n  if (!this.z.red)\n    this.z = this.z.toRed(this.curve.red);\n\n  this.zOne = this.z === this.curve.one;\n}\ninherits_browser(JPoint, base.BasePoint);\n\nShortCurve.prototype.jpoint = function jpoint(x, y, z) {\n  return new JPoint(this, x, y, z);\n};\n\nJPoint.prototype.toP = function toP() {\n  if (this.isInfinity())\n    return this.curve.point(null, null);\n\n  var zinv = this.z.redInvm();\n  var zinv2 = zinv.redSqr();\n  var ax = this.x.redMul(zinv2);\n  var ay = this.y.redMul(zinv2).redMul(zinv);\n\n  return this.curve.point(ax, ay);\n};\n\nJPoint.prototype.neg = function neg() {\n  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);\n};\n\nJPoint.prototype.add = function add(p) {\n  // O + P = P\n  if (this.isInfinity())\n    return p;\n\n  // P + O = P\n  if (p.isInfinity())\n    return this;\n\n  // 12M + 4S + 7A\n  var pz2 = p.z.redSqr();\n  var z2 = this.z.redSqr();\n  var u1 = this.x.redMul(pz2);\n  var u2 = p.x.redMul(z2);\n  var s1 = this.y.redMul(pz2.redMul(p.z));\n  var s2 = p.y.redMul(z2.redMul(this.z));\n\n  var h = u1.redSub(u2);\n  var r = s1.redSub(s2);\n  if (h.cmpn(0) === 0) {\n    if (r.cmpn(0) !== 0)\n      return this.curve.jpoint(null, null, null);\n    else\n      return this.dbl();\n  }\n\n  var h2 = h.redSqr();\n  var h3 = h2.redMul(h);\n  var v = u1.redMul(h2);\n\n  var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);\n  var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));\n  var nz = this.z.redMul(p.z).redMul(h);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.mixedAdd = function mixedAdd(p) {\n  // O + P = P\n  if (this.isInfinity())\n    return p.toJ();\n\n  // P + O = P\n  if (p.isInfinity())\n    return this;\n\n  // 8M + 3S + 7A\n  var z2 = this.z.redSqr();\n  var u1 = this.x;\n  var u2 = p.x.redMul(z2);\n  var s1 = this.y;\n  var s2 = p.y.redMul(z2).redMul(this.z);\n\n  var h = u1.redSub(u2);\n  var r = s1.redSub(s2);\n  if (h.cmpn(0) === 0) {\n    if (r.cmpn(0) !== 0)\n      return this.curve.jpoint(null, null, null);\n    else\n      return this.dbl();\n  }\n\n  var h2 = h.redSqr();\n  var h3 = h2.redMul(h);\n  var v = u1.redMul(h2);\n\n  var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);\n  var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));\n  var nz = this.z.redMul(h);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.dblp = function dblp(pow) {\n  if (pow === 0)\n    return this;\n  if (this.isInfinity())\n    return this;\n  if (!pow)\n    return this.dbl();\n\n  var i;\n  if (this.curve.zeroA || this.curve.threeA) {\n    var r = this;\n    for (i = 0; i < pow; i++)\n      r = r.dbl();\n    return r;\n  }\n\n  // 1M + 2S + 1A + N * (4S + 5M + 8A)\n  // N = 1 => 6M + 6S + 9A\n  var a = this.curve.a;\n  var tinv = this.curve.tinv;\n\n  var jx = this.x;\n  var jy = this.y;\n  var jz = this.z;\n  var jz4 = jz.redSqr().redSqr();\n\n  // Reuse results\n  var jyd = jy.redAdd(jy);\n  for (i = 0; i < pow; i++) {\n    var jx2 = jx.redSqr();\n    var jyd2 = jyd.redSqr();\n    var jyd4 = jyd2.redSqr();\n    var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));\n\n    var t1 = jx.redMul(jyd2);\n    var nx = c.redSqr().redISub(t1.redAdd(t1));\n    var t2 = t1.redISub(nx);\n    var dny = c.redMul(t2);\n    dny = dny.redIAdd(dny).redISub(jyd4);\n    var nz = jyd.redMul(jz);\n    if (i + 1 < pow)\n      jz4 = jz4.redMul(jyd4);\n\n    jx = nx;\n    jz = nz;\n    jyd = dny;\n  }\n\n  return this.curve.jpoint(jx, jyd.redMul(tinv), jz);\n};\n\nJPoint.prototype.dbl = function dbl() {\n  if (this.isInfinity())\n    return this;\n\n  if (this.curve.zeroA)\n    return this._zeroDbl();\n  else if (this.curve.threeA)\n    return this._threeDbl();\n  else\n    return this._dbl();\n};\n\nJPoint.prototype._zeroDbl = function _zeroDbl() {\n  var nx;\n  var ny;\n  var nz;\n  // Z = 1\n  if (this.zOne) {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html\n    //     #doubling-mdbl-2007-bl\n    // 1M + 5S + 14A\n\n    // XX = X1^2\n    var xx = this.x.redSqr();\n    // YY = Y1^2\n    var yy = this.y.redSqr();\n    // YYYY = YY^2\n    var yyyy = yy.redSqr();\n    // S = 2 * ((X1 + YY)^2 - XX - YYYY)\n    var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);\n    s = s.redIAdd(s);\n    // M = 3 * XX + a; a = 0\n    var m = xx.redAdd(xx).redIAdd(xx);\n    // T = M ^ 2 - 2*S\n    var t = m.redSqr().redISub(s).redISub(s);\n\n    // 8 * YYYY\n    var yyyy8 = yyyy.redIAdd(yyyy);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n\n    // X3 = T\n    nx = t;\n    // Y3 = M * (S - T) - 8 * YYYY\n    ny = m.redMul(s.redISub(t)).redISub(yyyy8);\n    // Z3 = 2*Y1\n    nz = this.y.redAdd(this.y);\n  } else {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html\n    //     #doubling-dbl-2009-l\n    // 2M + 5S + 13A\n\n    // A = X1^2\n    var a = this.x.redSqr();\n    // B = Y1^2\n    var b = this.y.redSqr();\n    // C = B^2\n    var c = b.redSqr();\n    // D = 2 * ((X1 + B)^2 - A - C)\n    var d = this.x.redAdd(b).redSqr().redISub(a).redISub(c);\n    d = d.redIAdd(d);\n    // E = 3 * A\n    var e = a.redAdd(a).redIAdd(a);\n    // F = E^2\n    var f = e.redSqr();\n\n    // 8 * C\n    var c8 = c.redIAdd(c);\n    c8 = c8.redIAdd(c8);\n    c8 = c8.redIAdd(c8);\n\n    // X3 = F - 2 * D\n    nx = f.redISub(d).redISub(d);\n    // Y3 = E * (D - X3) - 8 * C\n    ny = e.redMul(d.redISub(nx)).redISub(c8);\n    // Z3 = 2 * Y1 * Z1\n    nz = this.y.redMul(this.z);\n    nz = nz.redIAdd(nz);\n  }\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype._threeDbl = function _threeDbl() {\n  var nx;\n  var ny;\n  var nz;\n  // Z = 1\n  if (this.zOne) {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-3.html\n    //     #doubling-mdbl-2007-bl\n    // 1M + 5S + 15A\n\n    // XX = X1^2\n    var xx = this.x.redSqr();\n    // YY = Y1^2\n    var yy = this.y.redSqr();\n    // YYYY = YY^2\n    var yyyy = yy.redSqr();\n    // S = 2 * ((X1 + YY)^2 - XX - YYYY)\n    var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);\n    s = s.redIAdd(s);\n    // M = 3 * XX + a\n    var m = xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a);\n    // T = M^2 - 2 * S\n    var t = m.redSqr().redISub(s).redISub(s);\n    // X3 = T\n    nx = t;\n    // Y3 = M * (S - T) - 8 * YYYY\n    var yyyy8 = yyyy.redIAdd(yyyy);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n    ny = m.redMul(s.redISub(t)).redISub(yyyy8);\n    // Z3 = 2 * Y1\n    nz = this.y.redAdd(this.y);\n  } else {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-3.html#doubling-dbl-2001-b\n    // 3M + 5S\n\n    // delta = Z1^2\n    var delta = this.z.redSqr();\n    // gamma = Y1^2\n    var gamma = this.y.redSqr();\n    // beta = X1 * gamma\n    var beta = this.x.redMul(gamma);\n    // alpha = 3 * (X1 - delta) * (X1 + delta)\n    var alpha = this.x.redSub(delta).redMul(this.x.redAdd(delta));\n    alpha = alpha.redAdd(alpha).redIAdd(alpha);\n    // X3 = alpha^2 - 8 * beta\n    var beta4 = beta.redIAdd(beta);\n    beta4 = beta4.redIAdd(beta4);\n    var beta8 = beta4.redAdd(beta4);\n    nx = alpha.redSqr().redISub(beta8);\n    // Z3 = (Y1 + Z1)^2 - gamma - delta\n    nz = this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);\n    // Y3 = alpha * (4 * beta - X3) - 8 * gamma^2\n    var ggamma8 = gamma.redSqr();\n    ggamma8 = ggamma8.redIAdd(ggamma8);\n    ggamma8 = ggamma8.redIAdd(ggamma8);\n    ggamma8 = ggamma8.redIAdd(ggamma8);\n    ny = alpha.redMul(beta4.redISub(nx)).redISub(ggamma8);\n  }\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype._dbl = function _dbl() {\n  var a = this.curve.a;\n\n  // 4M + 6S + 10A\n  var jx = this.x;\n  var jy = this.y;\n  var jz = this.z;\n  var jz4 = jz.redSqr().redSqr();\n\n  var jx2 = jx.redSqr();\n  var jy2 = jy.redSqr();\n\n  var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));\n\n  var jxd4 = jx.redAdd(jx);\n  jxd4 = jxd4.redIAdd(jxd4);\n  var t1 = jxd4.redMul(jy2);\n  var nx = c.redSqr().redISub(t1.redAdd(t1));\n  var t2 = t1.redISub(nx);\n\n  var jyd8 = jy2.redSqr();\n  jyd8 = jyd8.redIAdd(jyd8);\n  jyd8 = jyd8.redIAdd(jyd8);\n  jyd8 = jyd8.redIAdd(jyd8);\n  var ny = c.redMul(t2).redISub(jyd8);\n  var nz = jy.redAdd(jy).redMul(jz);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.trpl = function trpl() {\n  if (!this.curve.zeroA)\n    return this.dbl().add(this);\n\n  // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html#tripling-tpl-2007-bl\n  // 5M + 10S + ...\n\n  // XX = X1^2\n  var xx = this.x.redSqr();\n  // YY = Y1^2\n  var yy = this.y.redSqr();\n  // ZZ = Z1^2\n  var zz = this.z.redSqr();\n  // YYYY = YY^2\n  var yyyy = yy.redSqr();\n  // M = 3 * XX + a * ZZ2; a = 0\n  var m = xx.redAdd(xx).redIAdd(xx);\n  // MM = M^2\n  var mm = m.redSqr();\n  // E = 6 * ((X1 + YY)^2 - XX - YYYY) - MM\n  var e = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);\n  e = e.redIAdd(e);\n  e = e.redAdd(e).redIAdd(e);\n  e = e.redISub(mm);\n  // EE = E^2\n  var ee = e.redSqr();\n  // T = 16*YYYY\n  var t = yyyy.redIAdd(yyyy);\n  t = t.redIAdd(t);\n  t = t.redIAdd(t);\n  t = t.redIAdd(t);\n  // U = (M + E)^2 - MM - EE - T\n  var u = m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t);\n  // X3 = 4 * (X1 * EE - 4 * YY * U)\n  var yyu4 = yy.redMul(u);\n  yyu4 = yyu4.redIAdd(yyu4);\n  yyu4 = yyu4.redIAdd(yyu4);\n  var nx = this.x.redMul(ee).redISub(yyu4);\n  nx = nx.redIAdd(nx);\n  nx = nx.redIAdd(nx);\n  // Y3 = 8 * Y1 * (U * (T - U) - E * EE)\n  var ny = this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));\n  ny = ny.redIAdd(ny);\n  ny = ny.redIAdd(ny);\n  ny = ny.redIAdd(ny);\n  // Z3 = (Z1 + E)^2 - ZZ - EE\n  var nz = this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.mul = function mul(k, kbase) {\n  k = new BN(k, kbase);\n\n  return this.curve._wnafMul(this, k);\n};\n\nJPoint.prototype.eq = function eq(p) {\n  if (p.type === 'affine')\n    return this.eq(p.toJ());\n\n  if (this === p)\n    return true;\n\n  // x1 * z2^2 == x2 * z1^2\n  var z2 = this.z.redSqr();\n  var pz2 = p.z.redSqr();\n  if (this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0) !== 0)\n    return false;\n\n  // y1 * z2^3 == y2 * z1^3\n  var z3 = z2.redMul(this.z);\n  var pz3 = pz2.redMul(p.z);\n  return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0) === 0;\n};\n\nJPoint.prototype.eqXToP = function eqXToP(x) {\n  var zs = this.z.redSqr();\n  var rx = x.toRed(this.curve.red).redMul(zs);\n  if (this.x.cmp(rx) === 0)\n    return true;\n\n  var xc = x.clone();\n  var t = this.curve.redN.redMul(zs);\n  for (;;) {\n    xc.iadd(this.curve.n);\n    if (xc.cmp(this.curve.p) >= 0)\n      return false;\n\n    rx.redIAdd(t);\n    if (this.x.cmp(rx) === 0)\n      return true;\n  }\n};\n\nJPoint.prototype.inspect = function inspect() {\n  if (this.isInfinity())\n    return '<EC JPoint Infinity>';\n  return '<EC JPoint x: ' + this.x.toString(16, 2) +\n      ' y: ' + this.y.toString(16, 2) +\n      ' z: ' + this.z.toString(16, 2) + '>';\n};\n\nJPoint.prototype.isInfinity = function isInfinity() {\n  // XXX This code assumes that zero is always zero in red\n  return this.z.cmpn(0) === 0;\n};\n\nvar curve_1 = createCommonjsModule(function (module, exports) {\n'use strict';\n\nvar curve = exports;\n\ncurve.base = base;\ncurve.short = short_1;\ncurve.mont = /*RicMoo:ethers:require(./mont)*/(null);\ncurve.edwards = /*RicMoo:ethers:require(./edwards)*/(null);\n});\n\nvar curves_1 = createCommonjsModule(function (module, exports) {\n'use strict';\n\nvar curves = exports;\n\n\n\n\n\nvar assert = utils_1$1.assert;\n\nfunction PresetCurve(options) {\n  if (options.type === 'short')\n    this.curve = new curve_1.short(options);\n  else if (options.type === 'edwards')\n    this.curve = new curve_1.edwards(options);\n  else\n    this.curve = new curve_1.mont(options);\n  this.g = this.curve.g;\n  this.n = this.curve.n;\n  this.hash = options.hash;\n\n  assert(this.g.validate(), 'Invalid curve');\n  assert(this.g.mul(this.n).isInfinity(), 'Invalid curve, G*N != O');\n}\ncurves.PresetCurve = PresetCurve;\n\nfunction defineCurve(name, options) {\n  Object.defineProperty(curves, name, {\n    configurable: true,\n    enumerable: true,\n    get: function() {\n      var curve = new PresetCurve(options);\n      Object.defineProperty(curves, name, {\n        configurable: true,\n        enumerable: true,\n        value: curve,\n      });\n      return curve;\n    },\n  });\n}\n\ndefineCurve('p192', {\n  type: 'short',\n  prime: 'p192',\n  p: 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff',\n  a: 'ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc',\n  b: '64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1',\n  n: 'ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    '188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012',\n    '07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811',\n  ],\n});\n\ndefineCurve('p224', {\n  type: 'short',\n  prime: 'p224',\n  p: 'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001',\n  a: 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe',\n  b: 'b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4',\n  n: 'ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    'b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21',\n    'bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34',\n  ],\n});\n\ndefineCurve('p256', {\n  type: 'short',\n  prime: null,\n  p: 'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff',\n  a: 'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc',\n  b: '5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b',\n  n: 'ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    '6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296',\n    '4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5',\n  ],\n});\n\ndefineCurve('p384', {\n  type: 'short',\n  prime: null,\n  p: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'fffffffe ffffffff 00000000 00000000 ffffffff',\n  a: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'fffffffe ffffffff 00000000 00000000 fffffffc',\n  b: 'b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f ' +\n     '5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef',\n  n: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 ' +\n     'f4372ddf 581a0db2 48b0a77a ecec196a ccc52973',\n  hash: hash.sha384,\n  gRed: false,\n  g: [\n    'aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 ' +\n    '5502f25d bf55296c 3a545e38 72760ab7',\n    '3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 ' +\n    '0a60b1ce 1d7e819d 7a431d7c 90ea0e5f',\n  ],\n});\n\ndefineCurve('p521', {\n  type: 'short',\n  prime: null,\n  p: '000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff ffffffff ffffffff ffffffff',\n  a: '000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff ffffffff ffffffff fffffffc',\n  b: '00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b ' +\n     '99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd ' +\n     '3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00',\n  n: '000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 ' +\n     'f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409',\n  hash: hash.sha512,\n  gRed: false,\n  g: [\n    '000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 ' +\n    '053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 ' +\n    'a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66',\n    '00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 ' +\n    '579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 ' +\n    '3fad0761 353c7086 a272c240 88be9476 9fd16650',\n  ],\n});\n\ndefineCurve('curve25519', {\n  type: 'mont',\n  prime: 'p25519',\n  p: '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',\n  a: '76d06',\n  b: '1',\n  n: '1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    '9',\n  ],\n});\n\ndefineCurve('ed25519', {\n  type: 'edwards',\n  prime: 'p25519',\n  p: '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',\n  a: '-1',\n  c: '1',\n  // -121665 * (121666^(-1)) (mod P)\n  d: '52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3',\n  n: '1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    '216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a',\n\n    // 4/5\n    '6666666666666666666666666666666666666666666666666666666666666658',\n  ],\n});\n\nvar pre;\ntry {\n  pre = /*RicMoo:ethers:require(./precomputed/secp256k1)*/(null).crash();\n} catch (e) {\n  pre = undefined;\n}\n\ndefineCurve('secp256k1', {\n  type: 'short',\n  prime: 'k256',\n  p: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f',\n  a: '0',\n  b: '7',\n  n: 'ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141',\n  h: '1',\n  hash: hash.sha256,\n\n  // Precomputed endomorphism\n  beta: '7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee',\n  lambda: '5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72',\n  basis: [\n    {\n      a: '3086d221a7d46bcde86c90e49284eb15',\n      b: '-e4437ed6010e88286f547fa90abfe4c3',\n    },\n    {\n      a: '114ca50f7a8e2f3f657c1108d9d44cfd8',\n      b: '3086d221a7d46bcde86c90e49284eb15',\n    },\n  ],\n\n  gRed: false,\n  g: [\n    '79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798',\n    '483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',\n    pre,\n  ],\n});\n});\n\n'use strict';\n\n\n\n\n\nfunction HmacDRBG(options) {\n  if (!(this instanceof HmacDRBG))\n    return new HmacDRBG(options);\n  this.hash = options.hash;\n  this.predResist = !!options.predResist;\n\n  this.outLen = this.hash.outSize;\n  this.minEntropy = options.minEntropy || this.hash.hmacStrength;\n\n  this._reseed = null;\n  this.reseedInterval = null;\n  this.K = null;\n  this.V = null;\n\n  var entropy = utils_1.toArray(options.entropy, options.entropyEnc || 'hex');\n  var nonce = utils_1.toArray(options.nonce, options.nonceEnc || 'hex');\n  var pers = utils_1.toArray(options.pers, options.persEnc || 'hex');\n  minimalisticAssert(entropy.length >= (this.minEntropy / 8),\n         'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');\n  this._init(entropy, nonce, pers);\n}\nvar hmacDrbg = HmacDRBG;\n\nHmacDRBG.prototype._init = function init(entropy, nonce, pers) {\n  var seed = entropy.concat(nonce).concat(pers);\n\n  this.K = new Array(this.outLen / 8);\n  this.V = new Array(this.outLen / 8);\n  for (var i = 0; i < this.V.length; i++) {\n    this.K[i] = 0x00;\n    this.V[i] = 0x01;\n  }\n\n  this._update(seed);\n  this._reseed = 1;\n  this.reseedInterval = 0x1000000000000;  // 2^48\n};\n\nHmacDRBG.prototype._hmac = function hmac() {\n  return new hash.hmac(this.hash, this.K);\n};\n\nHmacDRBG.prototype._update = function update(seed) {\n  var kmac = this._hmac()\n                 .update(this.V)\n                 .update([ 0x00 ]);\n  if (seed)\n    kmac = kmac.update(seed);\n  this.K = kmac.digest();\n  this.V = this._hmac().update(this.V).digest();\n  if (!seed)\n    return;\n\n  this.K = this._hmac()\n               .update(this.V)\n               .update([ 0x01 ])\n               .update(seed)\n               .digest();\n  this.V = this._hmac().update(this.V).digest();\n};\n\nHmacDRBG.prototype.reseed = function reseed(entropy, entropyEnc, add, addEnc) {\n  // Optional entropy enc\n  if (typeof entropyEnc !== 'string') {\n    addEnc = add;\n    add = entropyEnc;\n    entropyEnc = null;\n  }\n\n  entropy = utils_1.toArray(entropy, entropyEnc);\n  add = utils_1.toArray(add, addEnc);\n\n  minimalisticAssert(entropy.length >= (this.minEntropy / 8),\n         'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');\n\n  this._update(entropy.concat(add || []));\n  this._reseed = 1;\n};\n\nHmacDRBG.prototype.generate = function generate(len, enc, add, addEnc) {\n  if (this._reseed > this.reseedInterval)\n    throw new Error('Reseed is required');\n\n  // Optional encoding\n  if (typeof enc !== 'string') {\n    addEnc = add;\n    add = enc;\n    enc = null;\n  }\n\n  // Optional additional data\n  if (add) {\n    add = utils_1.toArray(add, addEnc || 'hex');\n    this._update(add);\n  }\n\n  var temp = [];\n  while (temp.length < len) {\n    this.V = this._hmac().update(this.V).digest();\n    temp = temp.concat(this.V);\n  }\n\n  var res = temp.slice(0, len);\n  this._update(add);\n  this._reseed++;\n  return utils_1.encode(res, enc);\n};\n\n'use strict';\n\n\n\nvar assert$3 = utils_1$1.assert;\n\nfunction KeyPair(ec, options) {\n  this.ec = ec;\n  this.priv = null;\n  this.pub = null;\n\n  // KeyPair(ec, { priv: ..., pub: ... })\n  if (options.priv)\n    this._importPrivate(options.priv, options.privEnc);\n  if (options.pub)\n    this._importPublic(options.pub, options.pubEnc);\n}\nvar key = KeyPair;\n\nKeyPair.fromPublic = function fromPublic(ec, pub, enc) {\n  if (pub instanceof KeyPair)\n    return pub;\n\n  return new KeyPair(ec, {\n    pub: pub,\n    pubEnc: enc,\n  });\n};\n\nKeyPair.fromPrivate = function fromPrivate(ec, priv, enc) {\n  if (priv instanceof KeyPair)\n    return priv;\n\n  return new KeyPair(ec, {\n    priv: priv,\n    privEnc: enc,\n  });\n};\n\nKeyPair.prototype.validate = function validate() {\n  var pub = this.getPublic();\n\n  if (pub.isInfinity())\n    return { result: false, reason: 'Invalid public key' };\n  if (!pub.validate())\n    return { result: false, reason: 'Public key is not a point' };\n  if (!pub.mul(this.ec.curve.n).isInfinity())\n    return { result: false, reason: 'Public key * N != O' };\n\n  return { result: true, reason: null };\n};\n\nKeyPair.prototype.getPublic = function getPublic(compact, enc) {\n  // compact is optional argument\n  if (typeof compact === 'string') {\n    enc = compact;\n    compact = null;\n  }\n\n  if (!this.pub)\n    this.pub = this.ec.g.mul(this.priv);\n\n  if (!enc)\n    return this.pub;\n\n  return this.pub.encode(enc, compact);\n};\n\nKeyPair.prototype.getPrivate = function getPrivate(enc) {\n  if (enc === 'hex')\n    return this.priv.toString(16, 2);\n  else\n    return this.priv;\n};\n\nKeyPair.prototype._importPrivate = function _importPrivate(key, enc) {\n  this.priv = new BN(key, enc || 16);\n\n  // Ensure that the priv won't be bigger than n, otherwise we may fail\n  // in fixed multiplication method\n  this.priv = this.priv.umod(this.ec.curve.n);\n};\n\nKeyPair.prototype._importPublic = function _importPublic(key, enc) {\n  if (key.x || key.y) {\n    // Montgomery points only have an `x` coordinate.\n    // Weierstrass/Edwards points on the other hand have both `x` and\n    // `y` coordinates.\n    if (this.ec.curve.type === 'mont') {\n      assert$3(key.x, 'Need x coordinate');\n    } else if (this.ec.curve.type === 'short' ||\n               this.ec.curve.type === 'edwards') {\n      assert$3(key.x && key.y, 'Need both x and y coordinate');\n    }\n    this.pub = this.ec.curve.point(key.x, key.y);\n    return;\n  }\n  this.pub = this.ec.curve.decodePoint(key, enc);\n};\n\n// ECDH\nKeyPair.prototype.derive = function derive(pub) {\n  if(!pub.validate()) {\n    assert$3(pub.validate(), 'public point not validated');\n  }\n  return pub.mul(this.priv).getX();\n};\n\n// ECDSA\nKeyPair.prototype.sign = function sign(msg, enc, options) {\n  return this.ec.sign(msg, this, enc, options);\n};\n\nKeyPair.prototype.verify = function verify(msg, signature) {\n  return this.ec.verify(msg, signature, this);\n};\n\nKeyPair.prototype.inspect = function inspect() {\n  return '<Key priv: ' + (this.priv && this.priv.toString(16, 2)) +\n         ' pub: ' + (this.pub && this.pub.inspect()) + ' >';\n};\n\n'use strict';\n\n\n\n\nvar assert$4 = utils_1$1.assert;\n\nfunction Signature(options, enc) {\n  if (options instanceof Signature)\n    return options;\n\n  if (this._importDER(options, enc))\n    return;\n\n  assert$4(options.r && options.s, 'Signature without r or s');\n  this.r = new BN(options.r, 16);\n  this.s = new BN(options.s, 16);\n  if (options.recoveryParam === undefined)\n    this.recoveryParam = null;\n  else\n    this.recoveryParam = options.recoveryParam;\n}\nvar signature = Signature;\n\nfunction Position() {\n  this.place = 0;\n}\n\nfunction getLength(buf, p) {\n  var initial = buf[p.place++];\n  if (!(initial & 0x80)) {\n    return initial;\n  }\n  var octetLen = initial & 0xf;\n\n  // Indefinite length or overflow\n  if (octetLen === 0 || octetLen > 4) {\n    return false;\n  }\n\n  var val = 0;\n  for (var i = 0, off = p.place; i < octetLen; i++, off++) {\n    val <<= 8;\n    val |= buf[off];\n    val >>>= 0;\n  }\n\n  // Leading zeroes\n  if (val <= 0x7f) {\n    return false;\n  }\n\n  p.place = off;\n  return val;\n}\n\nfunction rmPadding(buf) {\n  var i = 0;\n  var len = buf.length - 1;\n  while (!buf[i] && !(buf[i + 1] & 0x80) && i < len) {\n    i++;\n  }\n  if (i === 0) {\n    return buf;\n  }\n  return buf.slice(i);\n}\n\nSignature.prototype._importDER = function _importDER(data, enc) {\n  data = utils_1$1.toArray(data, enc);\n  var p = new Position();\n  if (data[p.place++] !== 0x30) {\n    return false;\n  }\n  var len = getLength(data, p);\n  if (len === false) {\n    return false;\n  }\n  if ((len + p.place) !== data.length) {\n    return false;\n  }\n  if (data[p.place++] !== 0x02) {\n    return false;\n  }\n  var rlen = getLength(data, p);\n  if (rlen === false) {\n    return false;\n  }\n  var r = data.slice(p.place, rlen + p.place);\n  p.place += rlen;\n  if (data[p.place++] !== 0x02) {\n    return false;\n  }\n  var slen = getLength(data, p);\n  if (slen === false) {\n    return false;\n  }\n  if (data.length !== slen + p.place) {\n    return false;\n  }\n  var s = data.slice(p.place, slen + p.place);\n  if (r[0] === 0) {\n    if (r[1] & 0x80) {\n      r = r.slice(1);\n    } else {\n      // Leading zeroes\n      return false;\n    }\n  }\n  if (s[0] === 0) {\n    if (s[1] & 0x80) {\n      s = s.slice(1);\n    } else {\n      // Leading zeroes\n      return false;\n    }\n  }\n\n  this.r = new BN(r);\n  this.s = new BN(s);\n  this.recoveryParam = null;\n\n  return true;\n};\n\nfunction constructLength(arr, len) {\n  if (len < 0x80) {\n    arr.push(len);\n    return;\n  }\n  var octets = 1 + (Math.log(len) / Math.LN2 >>> 3);\n  arr.push(octets | 0x80);\n  while (--octets) {\n    arr.push((len >>> (octets << 3)) & 0xff);\n  }\n  arr.push(len);\n}\n\nSignature.prototype.toDER = function toDER(enc) {\n  var r = this.r.toArray();\n  var s = this.s.toArray();\n\n  // Pad values\n  if (r[0] & 0x80)\n    r = [ 0 ].concat(r);\n  // Pad values\n  if (s[0] & 0x80)\n    s = [ 0 ].concat(s);\n\n  r = rmPadding(r);\n  s = rmPadding(s);\n\n  while (!s[0] && !(s[1] & 0x80)) {\n    s = s.slice(1);\n  }\n  var arr = [ 0x02 ];\n  constructLength(arr, r.length);\n  arr = arr.concat(r);\n  arr.push(0x02);\n  constructLength(arr, s.length);\n  var backHalf = arr.concat(s);\n  var res = [ 0x30 ];\n  constructLength(res, backHalf.length);\n  res = res.concat(backHalf);\n  return utils_1$1.encode(res, enc);\n};\n\n'use strict';\n\n\n\n\n\nvar rand = /*RicMoo:ethers:require(brorand)*/(function() { throw new Error('unsupported'); });\nvar assert$5 = utils_1$1.assert;\n\n\n\n\nfunction EC(options) {\n  if (!(this instanceof EC))\n    return new EC(options);\n\n  // Shortcut `elliptic.ec(curve-name)`\n  if (typeof options === 'string') {\n    assert$5(Object.prototype.hasOwnProperty.call(curves_1, options),\n      'Unknown curve ' + options);\n\n    options = curves_1[options];\n  }\n\n  // Shortcut for `elliptic.ec(elliptic.curves.curveName)`\n  if (options instanceof curves_1.PresetCurve)\n    options = { curve: options };\n\n  this.curve = options.curve.curve;\n  this.n = this.curve.n;\n  this.nh = this.n.ushrn(1);\n  this.g = this.curve.g;\n\n  // Point on curve\n  this.g = options.curve.g;\n  this.g.precompute(options.curve.n.bitLength() + 1);\n\n  // Hash for function for DRBG\n  this.hash = options.hash || options.curve.hash;\n}\nvar ec = EC;\n\nEC.prototype.keyPair = function keyPair(options) {\n  return new key(this, options);\n};\n\nEC.prototype.keyFromPrivate = function keyFromPrivate(priv, enc) {\n  return key.fromPrivate(this, priv, enc);\n};\n\nEC.prototype.keyFromPublic = function keyFromPublic(pub, enc) {\n  return key.fromPublic(this, pub, enc);\n};\n\nEC.prototype.genKeyPair = function genKeyPair(options) {\n  if (!options)\n    options = {};\n\n  // Instantiate Hmac_DRBG\n  var drbg = new hmacDrbg({\n    hash: this.hash,\n    pers: options.pers,\n    persEnc: options.persEnc || 'utf8',\n    entropy: options.entropy || rand(this.hash.hmacStrength),\n    entropyEnc: options.entropy && options.entropyEnc || 'utf8',\n    nonce: this.n.toArray(),\n  });\n\n  var bytes = this.n.byteLength();\n  var ns2 = this.n.sub(new BN(2));\n  for (;;) {\n    var priv = new BN(drbg.generate(bytes));\n    if (priv.cmp(ns2) > 0)\n      continue;\n\n    priv.iaddn(1);\n    return this.keyFromPrivate(priv);\n  }\n};\n\nEC.prototype._truncateToN = function _truncateToN(msg, truncOnly) {\n  var delta = msg.byteLength() * 8 - this.n.bitLength();\n  if (delta > 0)\n    msg = msg.ushrn(delta);\n  if (!truncOnly && msg.cmp(this.n) >= 0)\n    return msg.sub(this.n);\n  else\n    return msg;\n};\n\nEC.prototype.sign = function sign(msg, key, enc, options) {\n  if (typeof enc === 'object') {\n    options = enc;\n    enc = null;\n  }\n  if (!options)\n    options = {};\n\n  key = this.keyFromPrivate(key, enc);\n  msg = this._truncateToN(new BN(msg, 16));\n\n  // Zero-extend key to provide enough entropy\n  var bytes = this.n.byteLength();\n  var bkey = key.getPrivate().toArray('be', bytes);\n\n  // Zero-extend nonce to have the same byte size as N\n  var nonce = msg.toArray('be', bytes);\n\n  // Instantiate Hmac_DRBG\n  var drbg = new hmacDrbg({\n    hash: this.hash,\n    entropy: bkey,\n    nonce: nonce,\n    pers: options.pers,\n    persEnc: options.persEnc || 'utf8',\n  });\n\n  // Number of bytes to generate\n  var ns1 = this.n.sub(new BN(1));\n\n  for (var iter = 0; ; iter++) {\n    var k = options.k ?\n      options.k(iter) :\n      new BN(drbg.generate(this.n.byteLength()));\n    k = this._truncateToN(k, true);\n    if (k.cmpn(1) <= 0 || k.cmp(ns1) >= 0)\n      continue;\n\n    var kp = this.g.mul(k);\n    if (kp.isInfinity())\n      continue;\n\n    var kpX = kp.getX();\n    var r = kpX.umod(this.n);\n    if (r.cmpn(0) === 0)\n      continue;\n\n    var s = k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));\n    s = s.umod(this.n);\n    if (s.cmpn(0) === 0)\n      continue;\n\n    var recoveryParam = (kp.getY().isOdd() ? 1 : 0) |\n                        (kpX.cmp(r) !== 0 ? 2 : 0);\n\n    // Use complement of `s`, if it is > `n / 2`\n    if (options.canonical && s.cmp(this.nh) > 0) {\n      s = this.n.sub(s);\n      recoveryParam ^= 1;\n    }\n\n    return new signature({ r: r, s: s, recoveryParam: recoveryParam });\n  }\n};\n\nEC.prototype.verify = function verify(msg, signature$1, key, enc) {\n  msg = this._truncateToN(new BN(msg, 16));\n  key = this.keyFromPublic(key, enc);\n  signature$1 = new signature(signature$1, 'hex');\n\n  // Perform primitive values validation\n  var r = signature$1.r;\n  var s = signature$1.s;\n  if (r.cmpn(1) < 0 || r.cmp(this.n) >= 0)\n    return false;\n  if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0)\n    return false;\n\n  // Validate signature\n  var sinv = s.invm(this.n);\n  var u1 = sinv.mul(msg).umod(this.n);\n  var u2 = sinv.mul(r).umod(this.n);\n  var p;\n\n  if (!this.curve._maxwellTrick) {\n    p = this.g.mulAdd(u1, key.getPublic(), u2);\n    if (p.isInfinity())\n      return false;\n\n    return p.getX().umod(this.n).cmp(r) === 0;\n  }\n\n  // NOTE: Greg Maxwell's trick, inspired by:\n  // https://git.io/vad3K\n\n  p = this.g.jmulAdd(u1, key.getPublic(), u2);\n  if (p.isInfinity())\n    return false;\n\n  // Compare `p.x` of Jacobian point with `r`,\n  // this will do `p.x == r * p.z^2` instead of multiplying `p.x` by the\n  // inverse of `p.z^2`\n  return p.eqXToP(r);\n};\n\nEC.prototype.recoverPubKey = function(msg, signature$1, j, enc) {\n  assert$5((3 & j) === j, 'The recovery param is more than two bits');\n  signature$1 = new signature(signature$1, enc);\n\n  var n = this.n;\n  var e = new BN(msg);\n  var r = signature$1.r;\n  var s = signature$1.s;\n\n  // A set LSB signifies that the y-coordinate is odd\n  var isYOdd = j & 1;\n  var isSecondKey = j >> 1;\n  if (r.cmp(this.curve.p.umod(this.curve.n)) >= 0 && isSecondKey)\n    throw new Error('Unable to find sencond key candinate');\n\n  // 1.1. Let x = r + jn.\n  if (isSecondKey)\n    r = this.curve.pointFromX(r.add(this.curve.n), isYOdd);\n  else\n    r = this.curve.pointFromX(r, isYOdd);\n\n  var rInv = signature$1.r.invm(n);\n  var s1 = n.sub(e).mul(rInv).umod(n);\n  var s2 = s.mul(rInv).umod(n);\n\n  // 1.6.1 Compute Q = r^-1 (sR -  eG)\n  //               Q = r^-1 (sR + -eG)\n  return this.g.mulAdd(s1, r, s2);\n};\n\nEC.prototype.getKeyRecoveryParam = function(e, signature$1, Q, enc) {\n  signature$1 = new signature(signature$1, enc);\n  if (signature$1.recoveryParam !== null)\n    return signature$1.recoveryParam;\n\n  for (var i = 0; i < 4; i++) {\n    var Qprime;\n    try {\n      Qprime = this.recoverPubKey(e, signature$1, i);\n    } catch (e) {\n      continue;\n    }\n\n    if (Qprime.eq(Q))\n      return i;\n  }\n  throw new Error('Unable to find valid recovery factor');\n};\n\nvar elliptic_1 = createCommonjsModule(function (module, exports) {\n'use strict';\n\nvar elliptic = exports;\n\nelliptic.version = /*RicMoo:ethers*/{ version: \"6.5.4\" }.version;\nelliptic.utils = utils_1$1;\nelliptic.rand = /*RicMoo:ethers:require(brorand)*/(function() { throw new Error('unsupported'); });\nelliptic.curve = curve_1;\nelliptic.curves = curves_1;\n\n// Protocols\nelliptic.ec = ec;\nelliptic.eddsa = /*RicMoo:ethers:require(./elliptic/eddsa)*/(null);\n});\n\nvar EC$1 = elliptic_1.ec;\n\nexport { EC$1 as EC };\n//# sourceMappingURL=elliptic.js.map\n","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n      return ContinueSentinel;\n    }\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FeeMarketEIP1559Transaction = exports.TransactionFactory = exports.AccessListEIP2930Transaction = exports.Transaction = void 0;\nvar legacyTransaction_1 = require(\"./legacyTransaction\");\nObject.defineProperty(exports, \"Transaction\", { enumerable: true, get: function () { return __importDefault(legacyTransaction_1).default; } });\nvar eip2930Transaction_1 = require(\"./eip2930Transaction\");\nObject.defineProperty(exports, \"AccessListEIP2930Transaction\", { enumerable: true, get: function () { return __importDefault(eip2930Transaction_1).default; } });\nvar transactionFactory_1 = require(\"./transactionFactory\");\nObject.defineProperty(exports, \"TransactionFactory\", { enumerable: true, get: function () { return __importDefault(transactionFactory_1).default; } });\nvar eip1559Transaction_1 = require(\"./eip1559Transaction\");\nObject.defineProperty(exports, \"FeeMarketEIP1559Transaction\", { enumerable: true, get: function () { return __importDefault(eip1559Transaction_1).default; } });\n__exportStar(require(\"./types\"), exports);\n//# sourceMappingURL=index.js.map","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export const version = \"rlp/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\n//See: https://github.com/ethereum/wiki/wiki/RLP\nimport { arrayify, hexlify, isBytesLike } from \"@ethersproject/bytes\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nfunction arrayifyInteger(value) {\n    const result = [];\n    while (value) {\n        result.unshift(value & 0xff);\n        value >>= 8;\n    }\n    return result;\n}\nfunction unarrayifyInteger(data, offset, length) {\n    let result = 0;\n    for (let i = 0; i < length; i++) {\n        result = (result * 256) + data[offset + i];\n    }\n    return result;\n}\nfunction _encode(object) {\n    if (Array.isArray(object)) {\n        let payload = [];\n        object.forEach(function (child) {\n            payload = payload.concat(_encode(child));\n        });\n        if (payload.length <= 55) {\n            payload.unshift(0xc0 + payload.length);\n            return payload;\n        }\n        const length = arrayifyInteger(payload.length);\n        length.unshift(0xf7 + length.length);\n        return length.concat(payload);\n    }\n    if (!isBytesLike(object)) {\n        logger.throwArgumentError(\"RLP object must be BytesLike\", \"object\", object);\n    }\n    const data = Array.prototype.slice.call(arrayify(object));\n    if (data.length === 1 && data[0] <= 0x7f) {\n        return data;\n    }\n    else if (data.length <= 55) {\n        data.unshift(0x80 + data.length);\n        return data;\n    }\n    const length = arrayifyInteger(data.length);\n    length.unshift(0xb7 + length.length);\n    return length.concat(data);\n}\nexport function encode(object) {\n    return hexlify(_encode(object));\n}\nfunction _decodeChildren(data, offset, childOffset, length) {\n    const result = [];\n    while (childOffset < offset + 1 + length) {\n        const decoded = _decode(data, childOffset);\n        result.push(decoded.result);\n        childOffset += decoded.consumed;\n        if (childOffset > offset + 1 + length) {\n            logger.throwError(\"child data too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n    }\n    return { consumed: (1 + length), result: result };\n}\n// returns { consumed: number, result: Object }\nfunction _decode(data, offset) {\n    if (data.length === 0) {\n        logger.throwError(\"data too short\", Logger.errors.BUFFER_OVERRUN, {});\n    }\n    // Array with extra length prefix\n    if (data[offset] >= 0xf8) {\n        const lengthLength = data[offset] - 0xf7;\n        if (offset + 1 + lengthLength > data.length) {\n            logger.throwError(\"data short segment too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        const length = unarrayifyInteger(data, offset + 1, lengthLength);\n        if (offset + 1 + lengthLength + length > data.length) {\n            logger.throwError(\"data long segment too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        return _decodeChildren(data, offset, offset + 1 + lengthLength, lengthLength + length);\n    }\n    else if (data[offset] >= 0xc0) {\n        const length = data[offset] - 0xc0;\n        if (offset + 1 + length > data.length) {\n            logger.throwError(\"data array too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        return _decodeChildren(data, offset, offset + 1, length);\n    }\n    else if (data[offset] >= 0xb8) {\n        const lengthLength = data[offset] - 0xb7;\n        if (offset + 1 + lengthLength > data.length) {\n            logger.throwError(\"data array too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        const length = unarrayifyInteger(data, offset + 1, lengthLength);\n        if (offset + 1 + lengthLength + length > data.length) {\n            logger.throwError(\"data array too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        const result = hexlify(data.slice(offset + 1 + lengthLength, offset + 1 + lengthLength + length));\n        return { consumed: (1 + lengthLength + length), result: result };\n    }\n    else if (data[offset] >= 0x80) {\n        const length = data[offset] - 0x80;\n        if (offset + 1 + length > data.length) {\n            logger.throwError(\"data too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        const result = hexlify(data.slice(offset + 1, offset + 1 + length));\n        return { consumed: (1 + length), result: result };\n    }\n    return { consumed: 1, result: hexlify(data[offset]) };\n}\nexport function decode(data) {\n    const bytes = arrayify(data);\n    const decoded = _decode(bytes, 0);\n    if (decoded.consumed !== bytes.length) {\n        logger.throwArgumentError(\"invalid rlp data\", \"data\", data);\n    }\n    return decoded.result;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\n/**\n *  BigNumber\n *\n *  A wrapper around the BN.js object. We use the BN.js library\n *  because it is used by elliptic, so it is required regardless.\n *\n */\nimport _BN from \"bn.js\";\nvar BN = _BN.BN;\nimport { hexlify, isBytes, isHexString } from \"@ethersproject/bytes\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nconst _constructorGuard = {};\nconst MAX_SAFE = 0x1fffffffffffff;\nexport function isBigNumberish(value) {\n    return (value != null) && (BigNumber.isBigNumber(value) ||\n        (typeof (value) === \"number\" && (value % 1) === 0) ||\n        (typeof (value) === \"string\" && !!value.match(/^-?[0-9]+$/)) ||\n        isHexString(value) ||\n        (typeof (value) === \"bigint\") ||\n        isBytes(value));\n}\n// Only warn about passing 10 into radix once\nlet _warnedToStringRadix = false;\nexport class BigNumber {\n    constructor(constructorGuard, hex) {\n        if (constructorGuard !== _constructorGuard) {\n            logger.throwError(\"cannot call constructor directly; use BigNumber.from\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"new (BigNumber)\"\n            });\n        }\n        this._hex = hex;\n        this._isBigNumber = true;\n        Object.freeze(this);\n    }\n    fromTwos(value) {\n        return toBigNumber(toBN(this).fromTwos(value));\n    }\n    toTwos(value) {\n        return toBigNumber(toBN(this).toTwos(value));\n    }\n    abs() {\n        if (this._hex[0] === \"-\") {\n            return BigNumber.from(this._hex.substring(1));\n        }\n        return this;\n    }\n    add(other) {\n        return toBigNumber(toBN(this).add(toBN(other)));\n    }\n    sub(other) {\n        return toBigNumber(toBN(this).sub(toBN(other)));\n    }\n    div(other) {\n        const o = BigNumber.from(other);\n        if (o.isZero()) {\n            throwFault(\"division-by-zero\", \"div\");\n        }\n        return toBigNumber(toBN(this).div(toBN(other)));\n    }\n    mul(other) {\n        return toBigNumber(toBN(this).mul(toBN(other)));\n    }\n    mod(other) {\n        const value = toBN(other);\n        if (value.isNeg()) {\n            throwFault(\"division-by-zero\", \"mod\");\n        }\n        return toBigNumber(toBN(this).umod(value));\n    }\n    pow(other) {\n        const value = toBN(other);\n        if (value.isNeg()) {\n            throwFault(\"negative-power\", \"pow\");\n        }\n        return toBigNumber(toBN(this).pow(value));\n    }\n    and(other) {\n        const value = toBN(other);\n        if (this.isNegative() || value.isNeg()) {\n            throwFault(\"unbound-bitwise-result\", \"and\");\n        }\n        return toBigNumber(toBN(this).and(value));\n    }\n    or(other) {\n        const value = toBN(other);\n        if (this.isNegative() || value.isNeg()) {\n            throwFault(\"unbound-bitwise-result\", \"or\");\n        }\n        return toBigNumber(toBN(this).or(value));\n    }\n    xor(other) {\n        const value = toBN(other);\n        if (this.isNegative() || value.isNeg()) {\n            throwFault(\"unbound-bitwise-result\", \"xor\");\n        }\n        return toBigNumber(toBN(this).xor(value));\n    }\n    mask(value) {\n        if (this.isNegative() || value < 0) {\n            throwFault(\"negative-width\", \"mask\");\n        }\n        return toBigNumber(toBN(this).maskn(value));\n    }\n    shl(value) {\n        if (this.isNegative() || value < 0) {\n            throwFault(\"negative-width\", \"shl\");\n        }\n        return toBigNumber(toBN(this).shln(value));\n    }\n    shr(value) {\n        if (this.isNegative() || value < 0) {\n            throwFault(\"negative-width\", \"shr\");\n        }\n        return toBigNumber(toBN(this).shrn(value));\n    }\n    eq(other) {\n        return toBN(this).eq(toBN(other));\n    }\n    lt(other) {\n        return toBN(this).lt(toBN(other));\n    }\n    lte(other) {\n        return toBN(this).lte(toBN(other));\n    }\n    gt(other) {\n        return toBN(this).gt(toBN(other));\n    }\n    gte(other) {\n        return toBN(this).gte(toBN(other));\n    }\n    isNegative() {\n        return (this._hex[0] === \"-\");\n    }\n    isZero() {\n        return toBN(this).isZero();\n    }\n    toNumber() {\n        try {\n            return toBN(this).toNumber();\n        }\n        catch (error) {\n            throwFault(\"overflow\", \"toNumber\", this.toString());\n        }\n        return null;\n    }\n    toBigInt() {\n        try {\n            return BigInt(this.toString());\n        }\n        catch (e) { }\n        return logger.throwError(\"this platform does not support BigInt\", Logger.errors.UNSUPPORTED_OPERATION, {\n            value: this.toString()\n        });\n    }\n    toString() {\n        // Lots of people expect this, which we do not support, so check (See: #889)\n        if (arguments.length > 0) {\n            if (arguments[0] === 10) {\n                if (!_warnedToStringRadix) {\n                    _warnedToStringRadix = true;\n                    logger.warn(\"BigNumber.toString does not accept any parameters; base-10 is assumed\");\n                }\n            }\n            else if (arguments[0] === 16) {\n                logger.throwError(\"BigNumber.toString does not accept any parameters; use bigNumber.toHexString()\", Logger.errors.UNEXPECTED_ARGUMENT, {});\n            }\n            else {\n                logger.throwError(\"BigNumber.toString does not accept parameters\", Logger.errors.UNEXPECTED_ARGUMENT, {});\n            }\n        }\n        return toBN(this).toString(10);\n    }\n    toHexString() {\n        return this._hex;\n    }\n    toJSON(key) {\n        return { type: \"BigNumber\", hex: this.toHexString() };\n    }\n    static from(value) {\n        if (value instanceof BigNumber) {\n            return value;\n        }\n        if (typeof (value) === \"string\") {\n            if (value.match(/^-?0x[0-9a-f]+$/i)) {\n                return new BigNumber(_constructorGuard, toHex(value));\n            }\n            if (value.match(/^-?[0-9]+$/)) {\n                return new BigNumber(_constructorGuard, toHex(new BN(value)));\n            }\n            return logger.throwArgumentError(\"invalid BigNumber string\", \"value\", value);\n        }\n        if (typeof (value) === \"number\") {\n            if (value % 1) {\n                throwFault(\"underflow\", \"BigNumber.from\", value);\n            }\n            if (value >= MAX_SAFE || value <= -MAX_SAFE) {\n                throwFault(\"overflow\", \"BigNumber.from\", value);\n            }\n            return BigNumber.from(String(value));\n        }\n        const anyValue = value;\n        if (typeof (anyValue) === \"bigint\") {\n            return BigNumber.from(anyValue.toString());\n        }\n        if (isBytes(anyValue)) {\n            return BigNumber.from(hexlify(anyValue));\n        }\n        if (anyValue) {\n            // Hexable interface (takes priority)\n            if (anyValue.toHexString) {\n                const hex = anyValue.toHexString();\n                if (typeof (hex) === \"string\") {\n                    return BigNumber.from(hex);\n                }\n            }\n            else {\n                // For now, handle legacy JSON-ified values (goes away in v6)\n                let hex = anyValue._hex;\n                // New-form JSON\n                if (hex == null && anyValue.type === \"BigNumber\") {\n                    hex = anyValue.hex;\n                }\n                if (typeof (hex) === \"string\") {\n                    if (isHexString(hex) || (hex[0] === \"-\" && isHexString(hex.substring(1)))) {\n                        return BigNumber.from(hex);\n                    }\n                }\n            }\n        }\n        return logger.throwArgumentError(\"invalid BigNumber value\", \"value\", value);\n    }\n    static isBigNumber(value) {\n        return !!(value && value._isBigNumber);\n    }\n}\n// Normalize the hex string\nfunction toHex(value) {\n    // For BN, call on the hex string\n    if (typeof (value) !== \"string\") {\n        return toHex(value.toString(16));\n    }\n    // If negative, prepend the negative sign to the normalized positive value\n    if (value[0] === \"-\") {\n        // Strip off the negative sign\n        value = value.substring(1);\n        // Cannot have multiple negative signs (e.g. \"--0x04\")\n        if (value[0] === \"-\") {\n            logger.throwArgumentError(\"invalid hex\", \"value\", value);\n        }\n        // Call toHex on the positive component\n        value = toHex(value);\n        // Do not allow \"-0x00\"\n        if (value === \"0x00\") {\n            return value;\n        }\n        // Negate the value\n        return \"-\" + value;\n    }\n    // Add a \"0x\" prefix if missing\n    if (value.substring(0, 2) !== \"0x\") {\n        value = \"0x\" + value;\n    }\n    // Normalize zero\n    if (value === \"0x\") {\n        return \"0x00\";\n    }\n    // Make the string even length\n    if (value.length % 2) {\n        value = \"0x0\" + value.substring(2);\n    }\n    // Trim to smallest even-length string\n    while (value.length > 4 && value.substring(0, 4) === \"0x00\") {\n        value = \"0x\" + value.substring(4);\n    }\n    return value;\n}\nfunction toBigNumber(value) {\n    return BigNumber.from(toHex(value));\n}\nfunction toBN(value) {\n    const hex = BigNumber.from(value).toHexString();\n    if (hex[0] === \"-\") {\n        return (new BN(\"-\" + hex.substring(3), 16));\n    }\n    return new BN(hex.substring(2), 16);\n}\nfunction throwFault(fault, operation, value) {\n    const params = { fault: fault, operation: operation };\n    if (value != null) {\n        params.value = value;\n    }\n    return logger.throwError(fault, Logger.errors.NUMERIC_FAULT, params);\n}\n// value should have no prefix\nexport function _base36To16(value) {\n    return (new BN(value, 36)).toString(16);\n}\n// value should have no prefix\nexport function _base16To36(value) {\n    return (new BN(value, 16)).toString(36);\n}\n//# sourceMappingURL=bignumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\nvar _1 = require(\".\");\nvar TransactionFactory = /** @class */ (function () {\n    // It is not possible to instantiate a TransactionFactory object.\n    function TransactionFactory() {\n    }\n    /**\n     * Create a transaction from a `txData` object\n     *\n     * @param txData - The transaction data. The `type` field will determine which transaction type is returned (if undefined, creates a legacy transaction)\n     * @param txOptions - Options to pass on to the constructor of the transaction\n     */\n    TransactionFactory.fromTxData = function (txData, txOptions) {\n        if (txOptions === void 0) { txOptions = {}; }\n        if (!('type' in txData) || txData.type === undefined) {\n            // Assume legacy transaction\n            return _1.Transaction.fromTxData(txData, txOptions);\n        }\n        else {\n            var txType = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(txData.type)).toNumber();\n            if (txType === 0) {\n                return _1.Transaction.fromTxData(txData, txOptions);\n            }\n            else if (txType === 1) {\n                return _1.AccessListEIP2930Transaction.fromTxData(txData, txOptions);\n            }\n            else if (txType === 2) {\n                return _1.FeeMarketEIP1559Transaction.fromTxData(txData, txOptions);\n            }\n            else {\n                throw new Error(\"Tx instantiation with type \".concat(txType, \" not supported\"));\n            }\n        }\n    };\n    /**\n     * This method tries to decode serialized data.\n     *\n     * @param data - The data Buffer\n     * @param txOptions - The transaction options\n     */\n    TransactionFactory.fromSerializedData = function (data, txOptions) {\n        if (txOptions === void 0) { txOptions = {}; }\n        if (data[0] <= 0x7f) {\n            // Determine the type.\n            var EIP = void 0;\n            switch (data[0]) {\n                case 1:\n                    EIP = 2930;\n                    break;\n                case 2:\n                    EIP = 1559;\n                    break;\n                default:\n                    throw new Error(\"TypedTransaction with ID \".concat(data[0], \" unknown\"));\n            }\n            if (EIP === 1559) {\n                return _1.FeeMarketEIP1559Transaction.fromSerializedTx(data, txOptions);\n            }\n            else {\n                // EIP === 2930\n                return _1.AccessListEIP2930Transaction.fromSerializedTx(data, txOptions);\n            }\n        }\n        else {\n            return _1.Transaction.fromSerializedTx(data, txOptions);\n        }\n    };\n    /**\n     * When decoding a BlockBody, in the transactions field, a field is either:\n     * A Buffer (a TypedTransaction - encoded as TransactionType || rlp(TransactionPayload))\n     * A Buffer[] (Legacy Transaction)\n     * This method returns the right transaction.\n     *\n     * @param data - A Buffer or Buffer[]\n     * @param txOptions - The transaction options\n     */\n    TransactionFactory.fromBlockBodyData = function (data, txOptions) {\n        if (txOptions === void 0) { txOptions = {}; }\n        if (Buffer.isBuffer(data)) {\n            return this.fromSerializedData(data, txOptions);\n        }\n        else if (Array.isArray(data)) {\n            // It is a legacy transaction\n            return _1.Transaction.fromValuesArray(data, txOptions);\n        }\n        else {\n            throw new Error('Cannot decode transaction: unknown type input');\n        }\n    };\n    /**\n     * This helper method allows one to retrieve the class which matches the transactionID\n     * If transactionID is undefined, returns the legacy transaction class.\n     * @deprecated - This method is deprecated and will be removed on the next major release\n     * @param transactionID\n     * @param _common - This option is not used\n     */\n    TransactionFactory.getTransactionClass = function (transactionID, _common) {\n        if (transactionID === void 0) { transactionID = 0; }\n        var legacyTxn = transactionID == 0 || (transactionID >= 0x80 && transactionID <= 0xff);\n        if (legacyTxn) {\n            return _1.Transaction;\n        }\n        switch (transactionID) {\n            case 1:\n                return _1.AccessListEIP2930Transaction;\n            case 2:\n                return _1.FeeMarketEIP1559Transaction;\n            default:\n                throw new Error(\"TypedTransaction with ID \".concat(transactionID, \" unknown\"));\n        }\n    };\n    return TransactionFactory;\n}());\nexports.default = TransactionFactory;\n//# sourceMappingURL=transactionFactory.js.map","export const version = \"logger/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nlet _permanentCensorErrors = false;\nlet _censorErrors = false;\nconst LogLevels = { debug: 1, \"default\": 2, info: 2, warning: 3, error: 4, off: 5 };\nlet _logLevel = LogLevels[\"default\"];\nimport { version } from \"./_version\";\nlet _globalLogger = null;\nfunction _checkNormalize() {\n    try {\n        const missing = [];\n        // Make sure all forms of normalization are supported\n        [\"NFD\", \"NFC\", \"NFKD\", \"NFKC\"].forEach((form) => {\n            try {\n                if (\"test\".normalize(form) !== \"test\") {\n                    throw new Error(\"bad normalize\");\n                }\n                ;\n            }\n            catch (error) {\n                missing.push(form);\n            }\n        });\n        if (missing.length) {\n            throw new Error(\"missing \" + missing.join(\", \"));\n        }\n        if (String.fromCharCode(0xe9).normalize(\"NFD\") !== String.fromCharCode(0x65, 0x0301)) {\n            throw new Error(\"broken implementation\");\n        }\n    }\n    catch (error) {\n        return error.message;\n    }\n    return null;\n}\nconst _normalizeError = _checkNormalize();\nexport var LogLevel;\n(function (LogLevel) {\n    LogLevel[\"DEBUG\"] = \"DEBUG\";\n    LogLevel[\"INFO\"] = \"INFO\";\n    LogLevel[\"WARNING\"] = \"WARNING\";\n    LogLevel[\"ERROR\"] = \"ERROR\";\n    LogLevel[\"OFF\"] = \"OFF\";\n})(LogLevel || (LogLevel = {}));\nexport var ErrorCode;\n(function (ErrorCode) {\n    ///////////////////\n    // Generic Errors\n    // Unknown Error\n    ErrorCode[\"UNKNOWN_ERROR\"] = \"UNKNOWN_ERROR\";\n    // Not Implemented\n    ErrorCode[\"NOT_IMPLEMENTED\"] = \"NOT_IMPLEMENTED\";\n    // Unsupported Operation\n    //   - operation\n    ErrorCode[\"UNSUPPORTED_OPERATION\"] = \"UNSUPPORTED_OPERATION\";\n    // Network Error (i.e. Ethereum Network, such as an invalid chain ID)\n    //   - event (\"noNetwork\" is not re-thrown in provider.ready; otherwise thrown)\n    ErrorCode[\"NETWORK_ERROR\"] = \"NETWORK_ERROR\";\n    // Some sort of bad response from the server\n    ErrorCode[\"SERVER_ERROR\"] = \"SERVER_ERROR\";\n    // Timeout\n    ErrorCode[\"TIMEOUT\"] = \"TIMEOUT\";\n    ///////////////////\n    // Operational  Errors\n    // Buffer Overrun\n    ErrorCode[\"BUFFER_OVERRUN\"] = \"BUFFER_OVERRUN\";\n    // Numeric Fault\n    //   - operation: the operation being executed\n    //   - fault: the reason this faulted\n    ErrorCode[\"NUMERIC_FAULT\"] = \"NUMERIC_FAULT\";\n    ///////////////////\n    // Argument Errors\n    // Missing new operator to an object\n    //  - name: The name of the class\n    ErrorCode[\"MISSING_NEW\"] = \"MISSING_NEW\";\n    // Invalid argument (e.g. value is incompatible with type) to a function:\n    //   - argument: The argument name that was invalid\n    //   - value: The value of the argument\n    ErrorCode[\"INVALID_ARGUMENT\"] = \"INVALID_ARGUMENT\";\n    // Missing argument to a function:\n    //   - count: The number of arguments received\n    //   - expectedCount: The number of arguments expected\n    ErrorCode[\"MISSING_ARGUMENT\"] = \"MISSING_ARGUMENT\";\n    // Too many arguments\n    //   - count: The number of arguments received\n    //   - expectedCount: The number of arguments expected\n    ErrorCode[\"UNEXPECTED_ARGUMENT\"] = \"UNEXPECTED_ARGUMENT\";\n    ///////////////////\n    // Blockchain Errors\n    // Call exception\n    //  - transaction: the transaction\n    //  - address?: the contract address\n    //  - args?: The arguments passed into the function\n    //  - method?: The Solidity method signature\n    //  - errorSignature?: The EIP848 error signature\n    //  - errorArgs?: The EIP848 error parameters\n    //  - reason: The reason (only for EIP848 \"Error(string)\")\n    ErrorCode[\"CALL_EXCEPTION\"] = \"CALL_EXCEPTION\";\n    // Insufficient funds (< value + gasLimit * gasPrice)\n    //   - transaction: the transaction attempted\n    ErrorCode[\"INSUFFICIENT_FUNDS\"] = \"INSUFFICIENT_FUNDS\";\n    // Nonce has already been used\n    //   - transaction: the transaction attempted\n    ErrorCode[\"NONCE_EXPIRED\"] = \"NONCE_EXPIRED\";\n    // The replacement fee for the transaction is too low\n    //   - transaction: the transaction attempted\n    ErrorCode[\"REPLACEMENT_UNDERPRICED\"] = \"REPLACEMENT_UNDERPRICED\";\n    // The gas limit could not be estimated\n    //   - transaction: the transaction passed to estimateGas\n    ErrorCode[\"UNPREDICTABLE_GAS_LIMIT\"] = \"UNPREDICTABLE_GAS_LIMIT\";\n    // The transaction was replaced by one with a higher gas price\n    //   - reason: \"cancelled\", \"replaced\" or \"repriced\"\n    //   - cancelled: true if reason == \"cancelled\" or reason == \"replaced\")\n    //   - hash: original transaction hash\n    //   - replacement: the full TransactionsResponse for the replacement\n    //   - receipt: the receipt of the replacement\n    ErrorCode[\"TRANSACTION_REPLACED\"] = \"TRANSACTION_REPLACED\";\n    ///////////////////\n    // Interaction Errors\n    // The user rejected the action, such as signing a message or sending\n    // a transaction\n    ErrorCode[\"ACTION_REJECTED\"] = \"ACTION_REJECTED\";\n})(ErrorCode || (ErrorCode = {}));\n;\nconst HEX = \"0123456789abcdef\";\nexport class Logger {\n    constructor(version) {\n        Object.defineProperty(this, \"version\", {\n            enumerable: true,\n            value: version,\n            writable: false\n        });\n    }\n    _log(logLevel, args) {\n        const level = logLevel.toLowerCase();\n        if (LogLevels[level] == null) {\n            this.throwArgumentError(\"invalid log level name\", \"logLevel\", logLevel);\n        }\n        if (_logLevel > LogLevels[level]) {\n            return;\n        }\n        console.log.apply(console, args);\n    }\n    debug(...args) {\n        this._log(Logger.levels.DEBUG, args);\n    }\n    info(...args) {\n        this._log(Logger.levels.INFO, args);\n    }\n    warn(...args) {\n        this._log(Logger.levels.WARNING, args);\n    }\n    makeError(message, code, params) {\n        // Errors are being censored\n        if (_censorErrors) {\n            return this.makeError(\"censored error\", code, {});\n        }\n        if (!code) {\n            code = Logger.errors.UNKNOWN_ERROR;\n        }\n        if (!params) {\n            params = {};\n        }\n        const messageDetails = [];\n        Object.keys(params).forEach((key) => {\n            const value = params[key];\n            try {\n                if (value instanceof Uint8Array) {\n                    let hex = \"\";\n                    for (let i = 0; i < value.length; i++) {\n                        hex += HEX[value[i] >> 4];\n                        hex += HEX[value[i] & 0x0f];\n                    }\n                    messageDetails.push(key + \"=Uint8Array(0x\" + hex + \")\");\n                }\n                else {\n                    messageDetails.push(key + \"=\" + JSON.stringify(value));\n                }\n            }\n            catch (error) {\n                messageDetails.push(key + \"=\" + JSON.stringify(params[key].toString()));\n            }\n        });\n        messageDetails.push(`code=${code}`);\n        messageDetails.push(`version=${this.version}`);\n        const reason = message;\n        let url = \"\";\n        switch (code) {\n            case ErrorCode.NUMERIC_FAULT: {\n                url = \"NUMERIC_FAULT\";\n                const fault = message;\n                switch (fault) {\n                    case \"overflow\":\n                    case \"underflow\":\n                    case \"division-by-zero\":\n                        url += \"-\" + fault;\n                        break;\n                    case \"negative-power\":\n                    case \"negative-width\":\n                        url += \"-unsupported\";\n                        break;\n                    case \"unbound-bitwise-result\":\n                        url += \"-unbound-result\";\n                        break;\n                }\n                break;\n            }\n            case ErrorCode.CALL_EXCEPTION:\n            case ErrorCode.INSUFFICIENT_FUNDS:\n            case ErrorCode.MISSING_NEW:\n            case ErrorCode.NONCE_EXPIRED:\n            case ErrorCode.REPLACEMENT_UNDERPRICED:\n            case ErrorCode.TRANSACTION_REPLACED:\n            case ErrorCode.UNPREDICTABLE_GAS_LIMIT:\n                url = code;\n                break;\n        }\n        if (url) {\n            message += \" [ See: https:/\\/links.ethers.org/v5-errors-\" + url + \" ]\";\n        }\n        if (messageDetails.length) {\n            message += \" (\" + messageDetails.join(\", \") + \")\";\n        }\n        // @TODO: Any??\n        const error = new Error(message);\n        error.reason = reason;\n        error.code = code;\n        Object.keys(params).forEach(function (key) {\n            error[key] = params[key];\n        });\n        return error;\n    }\n    throwError(message, code, params) {\n        throw this.makeError(message, code, params);\n    }\n    throwArgumentError(message, name, value) {\n        return this.throwError(message, Logger.errors.INVALID_ARGUMENT, {\n            argument: name,\n            value: value\n        });\n    }\n    assert(condition, message, code, params) {\n        if (!!condition) {\n            return;\n        }\n        this.throwError(message, code, params);\n    }\n    assertArgument(condition, message, name, value) {\n        if (!!condition) {\n            return;\n        }\n        this.throwArgumentError(message, name, value);\n    }\n    checkNormalize(message) {\n        if (message == null) {\n            message = \"platform missing String.prototype.normalize\";\n        }\n        if (_normalizeError) {\n            this.throwError(\"platform missing String.prototype.normalize\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"String.prototype.normalize\", form: _normalizeError\n            });\n        }\n    }\n    checkSafeUint53(value, message) {\n        if (typeof (value) !== \"number\") {\n            return;\n        }\n        if (message == null) {\n            message = \"value not safe\";\n        }\n        if (value < 0 || value >= 0x1fffffffffffff) {\n            this.throwError(message, Logger.errors.NUMERIC_FAULT, {\n                operation: \"checkSafeInteger\",\n                fault: \"out-of-safe-range\",\n                value: value\n            });\n        }\n        if (value % 1) {\n            this.throwError(message, Logger.errors.NUMERIC_FAULT, {\n                operation: \"checkSafeInteger\",\n                fault: \"non-integer\",\n                value: value\n            });\n        }\n    }\n    checkArgumentCount(count, expectedCount, message) {\n        if (message) {\n            message = \": \" + message;\n        }\n        else {\n            message = \"\";\n        }\n        if (count < expectedCount) {\n            this.throwError(\"missing argument\" + message, Logger.errors.MISSING_ARGUMENT, {\n                count: count,\n                expectedCount: expectedCount\n            });\n        }\n        if (count > expectedCount) {\n            this.throwError(\"too many arguments\" + message, Logger.errors.UNEXPECTED_ARGUMENT, {\n                count: count,\n                expectedCount: expectedCount\n            });\n        }\n    }\n    checkNew(target, kind) {\n        if (target === Object || target == null) {\n            this.throwError(\"missing new\", Logger.errors.MISSING_NEW, { name: kind.name });\n        }\n    }\n    checkAbstract(target, kind) {\n        if (target === kind) {\n            this.throwError(\"cannot instantiate abstract class \" + JSON.stringify(kind.name) + \" directly; use a sub-class\", Logger.errors.UNSUPPORTED_OPERATION, { name: target.name, operation: \"new\" });\n        }\n        else if (target === Object || target == null) {\n            this.throwError(\"missing new\", Logger.errors.MISSING_NEW, { name: kind.name });\n        }\n    }\n    static globalLogger() {\n        if (!_globalLogger) {\n            _globalLogger = new Logger(version);\n        }\n        return _globalLogger;\n    }\n    static setCensorship(censorship, permanent) {\n        if (!censorship && permanent) {\n            this.globalLogger().throwError(\"cannot permanently disable censorship\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"setCensorship\"\n            });\n        }\n        if (_permanentCensorErrors) {\n            if (!censorship) {\n                return;\n            }\n            this.globalLogger().throwError(\"error censorship permanent\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"setCensorship\"\n            });\n        }\n        _censorErrors = !!censorship;\n        _permanentCensorErrors = !!permanent;\n    }\n    static setLogLevel(logLevel) {\n        const level = LogLevels[logLevel.toLowerCase()];\n        if (level == null) {\n            Logger.globalLogger().warn(\"invalid log level - \" + logLevel);\n            return;\n        }\n        _logLevel = level;\n    }\n    static from(version) {\n        return new Logger(version);\n    }\n}\nLogger.errors = ErrorCode;\nLogger.levels = LogLevel;\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}