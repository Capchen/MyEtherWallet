{"version":3,"sources":["webpack:///./src/modules/transfer-history/ModuleTransferHistory.vue?eae0","webpack:///./src/modules/notifications/helpers/formatNotification.js","webpack:///./src/modules/transfer-history/ModuleTransferHistory.vue?e3bf","webpack:///src/modules/transfer-history/ModuleTransferHistory.vue","webpack:///./src/modules/transfer-history/ModuleTransferHistory.vue?9387","webpack:///./src/modules/transfer-history/ModuleTransferHistory.vue","webpack:///./src/modules/notifications/helpers/formatNonChainNotification.js","webpack:///./src/core/helpers/timeAgo.js"],"names":["formatNotification","obj","network","newObj","txHash","value","hash","string","link","type","blockExplorerTX","replace","gasPrice","formatIntegerToString","fromWei","gasLimit","toBN","gas","toString","total","formatFloatingPointValue","transactionFee","currencyName","to","toTxData","from","amount","timestamp","timeAgo","date","toNumber","status","toLowerCase","read","toObj","fromObj","fromTxData","notification","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","actualTitle","_l","data","key","staticRenderFns","name","components","props","isSwap","default","computed","mapState","mapGetters","parsedTxNotifications","map","sort","parsedSwapNotifications","actualNotifications","mounted","methods","sortByDate","a","b","component","SECONDS_IN_YEAR","SECONDS_IN_MONTH","SECONDS_IN_DAY","SECONDS_IN_HOUR","SECONDS_IN_MINUTES","convertedDate","Date","seconds","Math","floor","secondsInYear","secondsInMonth","secondsInDay","secondsInHour","secondsInMin"],"mappings":"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","file":"js/chunk-335220d6.f3fb91c5.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModuleTransferHistory.vue?vue&type=style&index=0&id=380a300b&prod&lang=scss&scoped=true&\"","import timeAgo from '@/core/helpers/timeAgo';\nimport { fromWei, toBN } from 'web3-utils';\nimport {\n  formatFloatingPointValue,\n  formatIntegerToString\n} from '@/core/helpers/numberFormatHelper';\n/**\n * Formatted notification for mew-notification component\n */\nconst formatNotification = (obj, network) => {\n  const newObj = {\n    txHash: {\n      value: obj.hash ? obj.hash : '',\n      string: 'Transaction Hash',\n      link: `${network.type.blockExplorerTX.replace('[[txHash]]', obj.hash)}`\n    },\n    gasPrice: {\n      value: `${formatIntegerToString(fromWei(obj.gasPrice, 'gwei'))} Gwei`,\n      string: 'Gas Price'\n    },\n    gasLimit: {\n      value: formatIntegerToString(toBN(obj.gas).toString()),\n      string: 'Gas Limit'\n    },\n    total: {\n      value: `${\n        formatFloatingPointValue(fromWei(obj.transactionFee, 'ether')).value\n      } ${network.type.currencyName}`,\n      string: 'Total Transaction fee'\n    },\n    to: {\n      value: obj.toTxData && obj.toTxData.to ? obj.toTxData.to : obj.to,\n      string: 'To'\n    },\n    from: {\n      value: obj.from,\n      string: 'From'\n    },\n    amount: {\n      value: `${formatFloatingPointValue(fromWei(obj.value, 'ether')).value} ${\n        network.type.currencyName\n      }`,\n      string: 'Amount'\n    },\n    timestamp: {\n      value: timeAgo(toBN(obj.date).toNumber()),\n      string: 'Time'\n    },\n    status: {\n      value: obj.status?.toLowerCase(),\n      string: 'Status'\n    },\n    type: {\n      value: obj.type?.toLowerCase(),\n      string: obj.type\n    },\n    read: obj.read,\n    toObj: obj.toTxData,\n    fromObj: obj.fromTxData\n  };\n  if (newObj.toObj && newObj.toObj.amount) {\n    newObj.toObj.amount = formatFloatingPointValue(newObj.toObj.amount).value;\n  }\n  if (newObj.fromObj && newObj.fromObj.amount) {\n    newObj.fromObj.amount = formatFloatingPointValue(\n      newObj.fromObj.amount\n    ).value;\n  }\n  obj.notification = newObj;\n  return obj;\n};\nexport default formatNotification;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('mew6-white-sheet',{staticClass:\"px-5 px-lg-7 py-5 justify-space-between\"},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"mew-heading-2 mb-3\"},[_vm._v(_vm._s(_vm.actualTitle))])]),_c('v-col',{staticClass:\"px-0\",attrs:{\"cols\":\"12\"}},_vm._l((_vm.actualNotifications),function(data,key){return _c('div',{key:key,staticClass:\"mb-2\"},[_c('mew-notification',{staticClass:\"px-0\",attrs:{\"show-indicator\":false,\"notification\":data.notification}})],1)}),0)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <mew6-white-sheet class=\"px-5 px-lg-7 py-5 justify-space-between\">\n    <v-row dense>\n      <v-col cols=\"12\">\n        <div class=\"mew-heading-2 mb-3\">{{ actualTitle }}</div>\n      </v-col>\n      <v-col cols=\"12\" class=\"px-0\">\n        <div v-for=\"(data, key) in actualNotifications\" :key=\"key\" class=\"mb-2\">\n          <mew-notification\n            :show-indicator=\"false\"\n            :notification=\"data.notification\"\n            class=\"px-0\"\n          />\n        </div>\n      </v-col>\n    </v-row>\n  </mew6-white-sheet>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex';\nimport formatNotification from '@/modules/notifications/helpers/formatNotification';\nimport formatNonChainNotification from '@/modules/notifications/helpers/formatNonChainNotification';\n\nexport default {\n  name: 'ModuleTransferHistory',\n  components: {},\n  props: {\n    isSwap: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapState('wallet', ['web3', 'address']),\n    ...mapGetters('global', ['network']),\n    ...mapGetters('notifications', ['txNotifications', 'swapNotifications']),\n    parsedTxNotifications() {\n      return this.txNotifications\n        .map(item => {\n          if (item.hasOwnProperty('hash')) {\n            return formatNotification(item, this.network);\n          }\n          return formatNonChainNotification(item);\n        })\n        .sort(this.sortByDate);\n    },\n    parsedSwapNotifications() {\n      return this.swapNotifications\n        .map(item => {\n          if (item.hasOwnProperty('hash')) {\n            return formatNotification(item, this.network);\n          }\n          return formatNonChainNotification(item);\n        })\n        .sort(this.sortByDate);\n    },\n    actualNotifications() {\n      return !this.isSwap\n        ? this.parsedTxNotifications\n        : this.parsedSwapNotifications;\n    },\n    actualTitle() {\n      return this.isSwap ? `Swap History` : `Tx History`;\n    }\n  },\n  mounted() {},\n  methods: {\n    sortByDate(a, b) {\n      return new Date(b.date) - new Date(a.date);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.cursor {\n  cursor: pointer;\n}\n\n.history-container {\n  max-height: 300px;\n  overflow-y: scroll;\n  /**\n  * adding this style here until mew-notification is updated with a new prop\n  */\n  .notification-container {\n    background-color: var(--v-white-base) !important;\n    border: none !important;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModuleTransferHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModuleTransferHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModuleTransferHistory.vue?vue&type=template&id=380a300b&scoped=true&\"\nimport script from \"./ModuleTransferHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./ModuleTransferHistory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModuleTransferHistory.vue?vue&type=style&index=0&id=380a300b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"380a300b\",\n  null\n  \n)\n\nexport default component.exports","import timeAgo from '@/core/helpers/timeAgo';\nimport { toBN } from 'web3-utils';\n/**\n * Formatted notification for mew-notification component\n */\nconst formatNotification = obj => {\n  const newObj = {\n    to: {\n      value: obj.toTxData && obj.toTxData.to ? obj.toTxData.to : obj.to,\n      string: 'To'\n    },\n    from: {\n      value: obj.from,\n      string: 'From'\n    },\n    timestamp: {\n      value: timeAgo(toBN(obj.date).toNumber()),\n      string: 'Time'\n    },\n    status: {\n      value: obj.status?.toLowerCase(),\n      string: 'Status'\n    },\n    type: {\n      value: obj.type?.toLowerCase(),\n      string: obj.type\n    },\n    read: obj.read,\n    toObj: obj.toTxData,\n    fromObj: obj.fromTxData\n  };\n  obj.notification = newObj;\n  return obj;\n};\nexport default formatNotification;\n","const SECONDS_IN_YEAR = 31536000;\nconst SECONDS_IN_MONTH = 2592000;\nconst SECONDS_IN_DAY = 86400;\nconst SECONDS_IN_HOUR = 3600;\nconst SECONDS_IN_MINUTES = 60;\n\n// date is in time string\nexport default date => {\n  const convertedDate = new Date(date);\n  const seconds = Math.floor((new Date() - convertedDate) / 1000);\n  const secondsInYear = Math.floor(seconds / SECONDS_IN_YEAR);\n  const secondsInMonth = Math.floor(seconds / SECONDS_IN_MONTH);\n  const secondsInDay = Math.floor(seconds / SECONDS_IN_DAY);\n  const secondsInHour = Math.floor(seconds / SECONDS_IN_HOUR);\n  const secondsInMin = Math.floor(seconds / SECONDS_IN_MINUTES);\n\n  return secondsInYear > 1\n    ? `${secondsInYear} years ago`\n    : secondsInMonth > 1\n    ? `${secondsInMonth} months ago`\n    : secondsInDay > 1\n    ? `${secondsInDay} days ago`\n    : secondsInHour > 1\n    ? `${secondsInHour} hours ago`\n    : secondsInMin > 1\n    ? `${secondsInMin} minutes ago`\n    : `${Math.floor(seconds)} seconds ago`;\n};\n"],"sourceRoot":""}